!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery"),require("ko")):"function"==typeof define&&define.amd?define("blockpy",["jQuery","ko"],t):"object"==typeof exports?exports.blockpy=t(require("jQuery"),require("ko")):e.blockpy=t(e.jQuery,e.ko)}("undefined"!=typeof self?self:this,(function(e,t){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));var i=n(11),o=n(8),s={READY:"ready",ACTIVE:"active",RETRYING:"retrying",FAILED:"failed",OFFLINE:"offline"};function r(e){this.main=e,this.urls=e.model.configuration.urls,this.storage=new i.a("BLOCKPY"),this.queue={logEvent:JSON.parse(this.storage.getDefault("logEvent","[]")),updateSubmission:JSON.parse(this.storage.getDefault("updateSubmission","[]"))},this.MAX_QUEUE_SIZE={logEvent:200,updateSubmission:50},this.TIMER_DELAY=1e3,this.FAIL_DELAY=2e3,this.timers={},this.overlay=null,this.blockingAttempts=0,this.cachedFilenames=[],this.createSubscriptions(),this.checkCaches()}r.prototype.checkIP=function(e){if(e.success)if(this.storage.has("IP")){var t=this.storage.get("IP");if(t!==e.ip){var n=JSON.stringify({old:t,new:e.ip});this.logEvent("X-IP.Change",void 0,void 0,n),this.storage.set("IP",e.ip)}}else this.storage.set("IP",e.ip)},r.prototype.checkCaches=function(){var e=this;if(this.storage.has("saveAssignment")){var t=JSON.parse(this.storage.get("saveAssignment"));this._postLatestRetry(t,"assignment","saveAssignment",this.TIMER_DELAY)}this.cachedFilenames.forEach((function(t){if(e.storage.has("saveFile"+t)){var n=JSON.parse(e.storage.get("saveFile"+t));e._postLatestRetry(n,t,"saveFile",e.TIMER_DELAY)}}));var n=this;Object.keys(this.queue).forEach((function(e){!function t(i){if(i.success&&n.queue[e].length){var o=JSON.parse(n.queue[e].pop());n.urls[e];n._postRetry(o,e,1e3,t)}}({success:!0})}))},r.prototype.createFileSubscription=function(e,t){var n=this;e.subscribe((function(e){return!!n.main.model.display.autoSave()&&n.saveFile(t,e)}),this),this.cachedFilenames.push(t)},r.prototype.createSubscriptions=function(){var e=this.main.model;this.createFileSubscription(e.submission.code,"answer.py"),this.createFileSubscription(e.assignment.onRun,"!on_run.py"),this.createFileSubscription(e.assignment.onEval,"!on_eval.py"),this.createFileSubscription(e.assignment.onChange,"!on_change.py"),this.createFileSubscription(e.assignment.instructions,"!instructions.md"),this.createFileSubscription(e.assignment.startingCode,"^starting_code.py"),this.createFileSubscription(e.ui.files.extraStudentFiles,"#extra_student_files.blockpy"),this.createFileSubscription(e.ui.files.extraStartingFiles,"#extra_starting_files.blockpy"),this.createFileSubscription(e.ui.files.extraInstructorFiles,"#extra_instructor_files.blockpy")},r.prototype.createEventLogs=function(){var e=this;window.onblur=function(){e.logEvent("Session.End",void 0,void 0,void 0)},window.onfocus=function(){e.logEvent("Session.Start",void 0,void 0,void 0)}},r.prototype.finalizeSubscriptions=function(){},r.prototype.createServerData=function(){var e=this.main.model.assignment,t=this.main.model.user,n=this.main.model.submission,i=this.main.model.display,o=new Date,s=o.getTime();return{assignment_id:e.id(),assignment_group_id:t.groupId(),course_id:t.courseId(),submission_id:n.id(),user_id:t.id(),version:e.version(),timestamp:s,timezone:o.getTimezoneOffset(),passcode:i.passcode()}},r.prototype.setStatus=function(e,t,n){this.main.model.status[e](t),this.main.model.status[e+"Message"](n||"")},r.prototype.showOverlay=function(t){switch(this.blockingAttempts+=1,document.getElementsByClassName("blockpy-overlay").length||(this.overlay=e('<div class="blockpy-overlay"> </div>'),this.overlay.appendTo(document.body)),t){case 0:this.overlay.css("background-color","#988");break;case 1:this.overlay.css("background-color","#655");break;case 2:this.overlay.css("background-color","#333");break;default:this.overlay.css("background-color","black")}},r.prototype.hideOverlay=function(){this.blockingAttempts-=1,this.blockingAttempts<=0&&this.overlay.remove()},r.prototype._enqueueData=function(e,t){var n=this.queue[e].length,i=this.MAX_QUEUE_SIZE[e];n>i&&(this.queue[e]=this.queue[e].slice(n-i,i));var o=JSON.stringify(t);-1===this.queue[e].indexOf(o)&&(this.queue[e].push(o),this.storage.set(e,JSON.stringify(this.queue[e])))},r.prototype._dequeueData=function(e,t){var n=JSON.stringify(t),i=this.queue[e].indexOf(n);i>=0&&(this.queue[e].splice(i),this.storage.set(e,JSON.stringify(this.queue[e])))},r.prototype._postRetry=function(t,n,i,o){var r=this,a=function(){r._enqueueData(n,t),e.post(r.urls[n],t).done((function(e){r._dequeueData(n,t),e.success?r.setStatus(n,s.READY):(console.error(e),r.setStatus(n,s.FAILED,e.message)),o&&o(e),e.success&&r.checkIP(e.ip)})).fail((function(e,a){r.setStatus(n,s.RETRYING,a.toString()),r._postRetry(t,n,i+r.FAIL_DELAY,o)}))};null===i?a():setTimeout(a,i)},r.prototype._postLatestRetry=function(t,n,i,o){var r=this,a=i+n,l=function(){r.storage.set(a,JSON.stringify(t));var l=r.storage.getTime(a);e.post(r.urls[i],t).done((function(e){if(e.success){r.checkIP(e);var t=r.storage.getTime(a);l>=t&&r.storage.remove(a),r.setStatus(i,s.READY)}else if(r.setStatus(i,s.FAILED,e.message),!1===e.success){var n=r.storage.getTime(a);l>=n&&r.storage.remove(a)}})).fail((function(e,c){r.setStatus(i,s.RETRYING,c.toString());var u=r.storage.getTime(a);l>=u&&r._postLatestRetry(t,n,i,o+r.FAIL_DELAY)}))};clearTimeout(this.timers[a]),null===o?l():this.timers[a]=setTimeout(l,o)},r.prototype._postBlocking=function(t,n,i,o,r){var a=this;this.showOverlay(i),e.post(this.urls[t],n).done((function(e){a.hideOverlay(),a.setStatus(t,s.READY),o(e),a.checkIP(e)})).fail((function(e,l,c){i<=0?(a.hideOverlay(),a.setStatus(t,s.FAILED,l.toString()),r&&r(e,l,c)):setTimeout((function(){a.hideOverlay(),a.setStatus(t,s.RETRYING,l.toString()),a._postBlocking(t,n,i-1,o,r)}),a.FAIL_DELAY)}))},r.prototype.loadAssignment=function(e){var t=this;if(this.main.model.ui.server.isEndpointConnected("loadAssignment")){var n=this.createServerData();n.assignment_id=e,this._postBlocking("loadAssignment",n,4,(function(e){e.success?t.main.loadAssignmentData_(e):(t.setStatus("loadAssignment",s.FAILED,e.message),t.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(e.message))}),(function(e,n,i){t.main.components.dialog.ERROR_LOADING_ASSIGNMNENT(n),console.error(e,n,i)}))}else this.setStatus("loadAssignment",s.OFFLINE)},r.prototype.saveAssignment=function(){var e=this,t=this.main.model;if(t.ui.server.isEndpointConnected("saveAssignment")){var n=this.createServerData();n.hidden=t.assignment.hidden(),n.reviewed=t.assignment.reviewed(),n.public=t.assignment.public(),n.url=t.assignment.url(),n.ip_ranges=t.assignment.ipRanges(),n.name=t.assignment.name(),n.settings=Object(o.d)(t),this._postBlocking("saveAssignment",n,3,(function(){return 0}),(function(t,n,i){e.main.components.dialog.ERROR_SAVING_ASSIGNMNENT(),console.error(t,n,i)}))}else this.setStatus("saveAssignment",s.OFFLINE,"Server is not connected! (Save Assignment)")},r.prototype.loadHistory=function(e){var t=this;if(this.main.model.ui.server.isEndpointConnected("loadHistory")){this.main.model;var n=this.createServerData();this._postBlocking("loadHistory",n,2,e,(function(e,n,i){t.main.components.dialog.ERROR_LOADING_HISTORY(),console.error(e,n,i)}))}},r.prototype.logEvent=function(e,t,n,i,o){if(this.main.model.ui.server.isEndpointConnected("logEvent")){var r=this.createServerData();r.event_type=e,r.category=t,r.label=n,r.message=i,r.file_path=o,this.setStatus("logEvent",s.ACTIVE),this._postRetry(r,"logEvent",0,(function(){}))}else this.setStatus("logEvent",s.OFFLINE)},r.prototype.saveImage=function(e,t){if(this.main.model.ui.server.isEndpointConnected("saveImage")){var n=this.createServerData();n.directory=e,n.image=t,this.setStatus("saveImage",s.ACTIVE),this._postLatestRetry(n,"turtle_output","saveImage",0)}else this.setStatus("saveImage",s.OFFLINE)},r.prototype.updateSubmissionStatus=function(e){var t=this;if(this.main.model.ui.server.isEndpointConnected("updateSubmissionStatus")){var n=this.createServerData();n.status=e;this._postBlocking("updateSubmissionStatus",n,2,(function(n){n.success&&t.main.model.submission.submissionStatus(e)}),(function(e,n,i){t.main.components.dialog.ERROR_UPDATING_SUBMISSION_STATUS(),console.error(e,n,i)}))}},r.prototype.loadFile=function(e,t,n,i){var o=this.main.model,r=this;if(o.ui.server.isEndpointConnected("load_file")){var a=this.createServerData();a.filename=e,a.type=t,this._postBlocking(this.urls.load_file,a,5,(function(e){e.success?n(e.data):(i(e.message),r.setStatus("loadFile",s.FAILED,e.message))}),(function(e,t,n){i("Server failure! Report to instructor"),console.error(n)}))}else i("No file server available."),this.setStatus("loadFile",s.OFFLINE,"Server is not connected! (Load File)")},r.prototype.saveFile=function(e,t,n){if(void 0===n&&(n=this.TIMER_DELAY),this.main.model.ui.server.isEndpointConnected("saveFile")){var i=this.createServerData();i.filename=e,i.code=t,this.setStatus("saveFile",s.ACTIVE),this._postLatestRetry(i,e,"saveFile",n)}else this.setStatus("saveFile",s.OFFLINE)},r.prototype.updateSubmission=function(e,t,n,i){var o=this,r=this.main.model.configuration.callbacks.success;if(this.main.model.ui.server.isEndpointConnected("updateSubmission")){var a=this.createServerData();a.score=e,a.correct=t,a.hidden_override=n,a.force_update=i,this.main.components.pythonEditor.bm.blockEditor.getPngFromBlocks((function(e,i){a.image=e,i.remove&&i.remove(),o._postRetry(a,"updateSubmission",0,(function(e){e.success?o.setStatus("updateSubmission",s.READY):o.setStatus("updateSubmission",s.FAILED,e.message),!n&&t&&r&&r(a.assignment_id)}))}))}}}).call(this,n(5))},function(e,t,n){"use strict";function i(e){return e.replace(/^(?=.)/gm,"    ")}function o(e){return e.replace(/\s/g,"_").toLowerCase()}function s(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}function r(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function a(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function l(){for(var e=0;e<arguments.length;e++)if(null!=arguments[e])return arguments[e]}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),"undefined"!=typeof Blockly&&(Blockly.WorkspaceSvg.prototype.shuffle=function(){for(var e=this.getMetrics(),t=e.viewWidth/2,n=e.viewHeight,i=this.getTopBlocks(!1),o=5,s=0,a=n/i.length,l=0;l<i.length;l++){var c=i[l],u=c.getRelativeToSurfaceXY();s=0==l?5:-u.x+r(10,t),c.moveBy(s,-u.y+o),o+=r(5,a)}})},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var i=n(7);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){var n=new FileReader,i=t.target.files;n.onload=function(t){return e.ui.editors.current().uploadFile(t)},n.fileName=i[0].name,n.readAsText(i[0]),t.target.value=""}function r(e){return e.replace(/[^a-z0-9]/gi,"_").toLowerCase()}function a(e,t){var n=e.ui.editors.current().downloadFile(),i=n.name,o=n.extension,s=n.contents,a=n.mimetype;i=r(i),i+=o;var l=new Blob([s],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(l,i);else{var c=window.document.createElement("a");c.href=window.URL.createObjectURL(l),c.download=i,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.tag=n,this.fileSystem=t.components.fileSystem,this.filename=null,this.file=null}var t,n,s;return t=e,(n=[{key:"deleteFile",value:function(){this.fileSystem.deleteFile(this.filename),this.main.model.display.filename("answer.py"),this.main.components.editors.changeEditor("answer.py")}},{key:"onFileDeleted",value:function(){this.main.model.display.filename("answer.py"),this.main.components.editors.changeEditor("answer.py")}},{key:"onFileUpdated",value:function(e){e.filename===this.filename&&this.main.components.editors.changeEditor(this.filename)}},{key:"trackCurrentFile",value:function(){this.fileSystem.watchFile(this.filename,{updated:this.onFileUpdated.bind(this),deleted:this.onFileDeleted.bind(this)})}},{key:"enter",value:function(e,t){this.filename=e,this.file=this.fileSystem.getFile(e),this.trackCurrentFile()}},{key:"exit",value:function(e,t,n){this.fileSystem.stopWatchingFile(this.filename),this.file=null,this.filename=null}},{key:"uploadFile",value:function(e){e.target.fileName;var t=e.target.result;this.file.handle(t)}},{key:"downloadFile",value:function(){var e=i.b.parseFilename(this.filename);return{name:e.name,extension:e.type,contents:this.file.handle(),mimetype:"text/plain"}}}])&&o(t.prototype,n),s&&o(t,s),e}()},function(e,t,n){"use strict";(function(e,i){n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return k}));var o=n(1);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(e,t,n,i){void 0===t&&(t=e);var o="",s="true";return i||(o="blockpy-file-instructor",s="display.instructor()"),'\n    <li class="nav-item '.concat(o,'">\n        <a class="nav-link" href="#"\n            data-toggle="tab"\n            data-bind="css: {active: display.filename() === \'').concat(e,"'},\n                click: display.filename.bind($data, '").concat(e,"'),\n                visible: (!").concat(n," || ui.files.hasContents('").concat(e,"')) && ").concat(s,'">\n            ').concat(t,"</a>\n    </li>")},l='\n<div class="col-md-12 blockpy-panel blockpy-files"\n    data-bind="visible: ui.files.visible">\n<ul class="nav nav-tabs" role="tablist">\n\n    <li class="nav-item">\n        <strong>View: </strong>\n    </li>\n\n    '.concat(a("answer.py",void 0,void 0,!0),"\n    ").concat(a("!instructions.md","Instructions"),"\n    ").concat(a("!assignment_settings.blockpy","Settings"),"\n    ").concat(a("^starting_code.py","Starting Code"),"\n    ").concat(a("!on_run.py","On Run"),"\n    ").concat(a("!on_change.py","On Change",!0),"\n    ").concat(a("!on_eval.py","On Eval",!0),"\n    ").concat(a("!sample_submissions.blockpy","Sample Submissions",!0),"\n    ").concat(a("!tags.blockpy","Tags",!0),'\n    \n    \x3c!-- ko foreach: assignment.extraInstructorFiles --\x3e\n        <li class="nav-item"\n            data-bind="css: {\'blockpy-file-instructor\': !filename().startsWith(\'&\')},\n                       visible: filename().startsWith(\'&\') || $root.display.instructor() ">\n            <a class="nav-link" href="#"\n                data-toggle="tab"\n                data-bind="css: {active: $root.display.filename() === filename(),\n                                 uneditable: filename().startsWith(\'&\')},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: $root.ui.files.displayFilename(filename())">\n            </a>        \n        </li>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko foreach: assignment.extraStartingFiles --\x3e\n        <li class="nav-item blockpy-file-instructor"\n            data-bind="visible: $root.display.instructor()">\n            <a class="nav-link" href="#"\n                data-toggle="tab"\n                data-bind="css: {active: $root.display.filename() === filename()},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: filename">\n            </a>        \n        </li>\n    \x3c!-- /ko --\x3e\n    \n    \x3c!-- ko foreach: submission.extraFiles --\x3e\n        <li class="nav-item">\n            <a class="nav-link" href="#"\n                data-toggle="tab"\n                data-bind="css: {active: $root.display.filename() === filename()},\n                            click: $root.display.filename.bind($data, filename()),\n                            text: $root.ui.files.displayFilename(filename())">\n            </a>        \n        </li>\n    \x3c!-- /ko --\x3e\n  \n    <li class="nav-item dropdown">\n        <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown"\n         role="button" aria-haspopup="true" aria-expanded="false">Add New</a>\n        <div class="dropdown-menu dropdown-menu-right">\n            <a class="dropdown-item blockpy-file-instructor" href="#"\n                data-bind="hidden: ui.files.hasContents(\'?mock_urls.blockpy\'),\n                           click: ui.files.add.bind($data, \'?mock_urls.blockpy\')">URL Data</a>\n            <a class="dropdown-item blockpy-file-instructor" href="#"\n                data-bind="hidden: ui.files.hasContents(\'?tags.blockpy\')">Tags</a>\n            <a class="dropdown-item blockpy-file-instructor" href="#"\n                data-bind="hidden: ui.files.hasContents(\'?sample_submissions.blockpy\')">Sample Submissions</a>\n            <div class="dropdown-divider"></div>\n            <a class="dropdown-item blockpy-file-instructor" href="#"\n                data-bind="hidden: assignment.onChange,\n                           click: ui.files.add.bind($data, \'!on_change.py\')">On Change</a>\n            <a class="dropdown-item blockpy-file-instructor" href="#"\n                data-bind="hidden: assignment.onEval,\n                           click: ui.files.add.bind($data, \'!on_eval.py\')">On Eval</a>\n            <div class="dropdown-divider"></div>\n            <a class="dropdown-item blockpy-file-instructor" href="#"\n                data-bind="click: ui.files.add.bind($data, \'starting\')">Starting File</a>\n            <a class="dropdown-item blockpy-file-instructor" href="#"\n                data-bind="click: ui.files.add.bind($data, \'instructor\')">Instructor File</a>\n            <a class="dropdown-item" href="#"\n                data-bind="click: ui.files.add.bind($data, \'student\')">Student File</a>\n        </div>\n    </li>\n  \n</ul>\n</div>\n'),c="EVERYWHERE",u="START_WITH_INSTRUCTOR",d="ONLY_STUDENT_FILES",f=["!on_change.py","!on_eval.py"],p=["answer.py","!instructions.md","!assignment_settings.py","^starting_code.py","!on_run.py","$settings.blockpy"],m=["answer.py","!instructions.md","!assignment_settings.py","^starting_code.py","!on_run.py","$settings.blockpy","!on_change.py","!on_eval.py","?mock_urls.blockpy","!tags.blockpy","!sample_submissions.blockpy"],h=function e(t,n,i){r(this,e),this.main=t,this.filename=n,this.contents=i||"",this.owner=null,this.handle=null};function b(t,n){return{filename:e.observable(t),contents:e.observable(n||"")}}function y(e,t){return{filename:function(){return e},contents:function(){return t}}}function v(e,t){if(e){var n=JSON.parse(e),i=[];for(var o in n)n.hasOwnProperty(o)&&i.push(b(o,n[o]));t(i)}else t([])}function g(t){return e.pureComputed((function(){var e={};return t().forEach((function(t){return e[t.filename()]=t.contents()})),JSON.stringify(e)}))}var k=function(){function e(t){r(this,e),this.main=t,this.files_={},this.mountFiles(),this.watchModel(),this.watches_={},this.main.model.display.instructor.subscribe((function(e){i(".blockpy-file-instructor").toggle(e)}))}var t,n,a;return t=e,(n=[{key:"watchFile",value:function(e,t){e in this.watches_||(this.watches_[e]=[]),this.watches_[e].push(t)}},{key:"stopWatchingFile",value:function(e){delete this.watches_[e]}},{key:"watchModel",value:function(){var e=this,t=this;[this.main.model.submission.extraFiles,this.main.model.assignment.extraStartingFiles,this.main.model.assignment.extraInstructorFiles].forEach((function(n){return n.subscribe((function(e){e.forEach((function(e){var n=e.value;if("added"===e.status){var i=t.newFile(n.filename(),n.contents(),n.contents);t.notifyWatches(i)}else"deleted"===e.status&&t.deleteFileLocally_(n.filename)}))}),e,"arrayChange")}))}},{key:"observeFile_",value:function(e){"answer.py"===e.filename?e.handle=this.main.model.submission.code:"!on_run.py"===e.filename?e.handle=this.main.model.assignment.onRun:"!on_change.py"===e.filename?e.handle=this.main.model.assignment.onChange:"!on_eval.py"===e.filename?e.handle=this.main.model.assignment.onEval:"!instructions.md"===e.filename?e.handle=this.main.model.assignment.instructions:"^starting_code.py"===e.filename?e.handle=this.main.model.assignment.startingCode:"?mock_urls.blockpy"===e.filename?this.observeInArray_(e,this.main.model.assignment.extraInstructorFiles):"!tags.blockpy"===e.filename?e.handle=this.main.model.assignment.tags:"!assignment_settings.blockpy"===e.filename?e.handle=this.main.model.assignment.settings:"$settings.blockpy"===e.filename?e.handle=this.main.model.display:e.filename.startsWith("^")?this.observeInArray_(e,this.main.model.assignment.extraStartingFiles):e.filename.startsWith("!")||e.filename.startsWith("?")||e.filename.startsWith("&")?this.observeInArray_(e,this.main.model.assignment.extraInstructorFiles):this.observeInArray_(e,this.main.model.submission.extraFiles)}},{key:"observeInArray_",value:function(e,t){e.owner=t;for(var n=e.owner(),i=0;i<n.length;i++)n[i].filename()===e.filename&&(e.handle=n[i].contents);if(null===e.handle){var o=b(e.filename);e.handle=o.contents,t.push(o)}}},{key:"mountFiles",value:function(){this.newFile("answer.py"),this.newFile("^starting_code.py"),this.newFile("!on_run.py"),this.newFile("!instructions.md"),this.newFile("!assignment_settings.blockpy")}},{key:"dismountExtraFiles",value:function(){for(var e in this.files_)this.files_.hasOwnProperty(e)&&-1===p.indexOf(e)&&(delete this.files_[e],delete this.watches_[e])}},{key:"newFile",value:function(e,t,n){if(e in this.files_){var i=this.files_[e];return void 0===n?this.observeFile_(i):i.handle=n,i.handle(t||""),i}var o=new h(this.main,e);return this.files_[e]=o,void 0===n?this.observeFile_(o):o.handle=n,void 0!==t&&o.handle(t),o}},{key:"writeFile",value:function(e,t){t=t||"",this.files_[e].handle(t)}},{key:"readFile",value:function(e){return this.files_[e].handle()}},{key:"getFile",value:function(e){return this.files_[e]}},{key:"deleteFile",value:function(e){return-1!==f.indexOf(e)?(this.deleteFileLocally_(e).handle(null),!0):null!==this.files_[e].owner&&(this.files_[e].owner.remove((function(t){return t.filename===e}))||!1)}},{key:"deleteFileLocally_",value:function(e){var t=this.files_[e];return delete this.files_[e],e in this.watches_&&this.watches_[e].forEach((function(e){return e.deleted()})),t}},{key:"notifyWatches",value:function(e){e.filename in this.watches_&&this.watches_[e.filename].forEach((function(t){return t.updated(e)}))}},{key:"searchForFile",value:function(e,t){e.startsWith("./")&&(e=e.slice(2));var n=c;e.startsWith("_instructor/")&&(e=e.slice("_instructor/".length),n=u),e.startsWith("_student/")?(e=e.slice("_student/".length),n=d):t&&(n=d);var i=this.main.model.submission.extraFiles(),s=this.main.model.assignment.extraInstructorFiles(),r=this.main.model.assignment.extraStartingFiles(),a=this.searchForSpecialFiles_(e,n);if(void 0!==a)return a;var l=this.searchForFileInList_(i,e),f=this.searchForFileInList_(i,"*"+e),p=this.searchForFileInList_(s,"&"+e);if(n===d)return Object(o.c)(p,l,f);var m=this.searchForFileInList_(s,"!"+e),h=this.searchForFileInList_(s,"?"+e),b=this.searchForFileInList_(r,"^"+e);return n===u?Object(o.c)(m,h,b,p,l,f):n===c?Object(o.c)(p,l,f,m,h,b):void 0}},{key:"searchForFileInList_",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n].filename()===t)return e[n]}},{key:"searchForSpecialFiles_",value:function(e,t){if(t===d)return"answer.py"===e?y("_instructor/answer.py",this.main.model.submission.code()):void 0;switch(e){case"answer.py":return y("_instructor/answer.py",this.main.model.submission.code());case"on_run.py":return y("_instructor/on_run.py",this.main.model.assignment.onRun());case"on_change.py":return y("_instructor/on_change.py",this.main.model.assignment.onChange());case"on_eval.py":return y("_instructor/on_eval.md",this.main.model.assignment.onEval());case"instructions.md":return y("_instructor/instructions.md",this.main.model.assignment.instructions());case"starting_code.py":return y("_instructor/starting_code.py",this.main.model.assignment.startingCode())}}},{key:"newFileDialog",value:function(e){var t=this,n=i('\n<form>\n<div class="form-group row">\n    \x3c!-- Filename --\x3e\n    <div class="col-sm-2 text-right">\n        <label for="blockpy-instructor-file-dialog-filename">Filename:</label>\n    </div>\n    <div class="col-sm-10">\n        <input type="text" class="form-control blockpy-instructor-file-dialog-filename"\n            id="blockpy-instructor-file-dialog-filename">    \n    </div>\n    \x3c!-- Filetype --\x3e\n    <div class="col-sm-2 text-right mt-2">\n        <label for="blockpy-instructor-file-dialog-filetype">Filetype: </label>\n    </div>\n    <div class="col-sm-10">\n        <span class="blockpy-instructor-file-dialog-filetype"\n            id="blockpy-instructor-file-dialog-filetype"></span>    \n    </div>\n    \x3c!-- Inaccessible to student? --\x3e\n    <div class="col-sm-2 text-right mt-2">\n        <label for="blockpy-instructor-file-dialog-namespace">Namespace: </label>\n    </div>\n    <div class="col-sm-4">\n        <select class="form-control blockpy-instructor-file-dialog-namespace"\n            id="blockpy-instructor-file-dialog-namespace">\n            <option value="!">Completely inaccessible</option>\n            <option value="?">Hidden from student, accessible programatically</option>\n            <option value="&">Visible to student, but not editable</option>\n        </select>\n    </div>\n</div>\n</form>\n'),o=n.find(".blockpy-instructor-file-dialog-filename"),s=n.find(".blockpy-instructor-file-dialog-filetype"),r=n.find(".blockpy-instructor-file-dialog-namespace"),a=/(?:\.([^.]+))?$/;o.on("input",(function(){var e=a.exec(o.val())[1];e=void 0===e?"No extension":e,s.text(e)}));var l=function(){var n="";"instructor"===e?n=r.val():"starting"===e&&(n="^"),o.val()&&(o=n+o.val(),t.newFile(o))};n.submit((function(e){e.preventDefault(),l(),t.main.components.dialog.close()})),this.main.components.dialog.confirm("Make New File",n,l,(function(){}),"Add")}}])&&s(t.prototype,n),a&&s(t,a),e}()}).call(this,n(16),n(5))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var i=n(9),o=n(13),s=n(14),r=n(3),a=n(7),l=n(15),c={FEEDBACK:"feedback",TRACE:"trace",NONE:"none"};function u(e,t){var n=null;t.ui.instructions.current.subscribe((function(){null!==n&&clearTimeout(n),n=setTimeout((function(){t.configuration.container.find(".blockpy-instructions pre code").map((function(e,t){window.hljs.highlightBlock(t)}))}),400)})),t.display.fullscreen.subscribe((function(n){e.components.server.logEvent("X-Display.Fullscreen.Request","","",n.toString(),""),n?t.configuration.container.parent()[0].requestFullscreen().catch((function(t){var n="Error attempting to enable full-screen mode: ".concat(t.message," (").concat(t.name,")");e.components.server.logEvent("X-Display.Fullscreen.Error","","",n,""),alert(n)})).then((function(){e.components.server.logEvent("X-Display.Fullscreen.Success","","","",""),t.display.fullscreen(!0),t.configuration.container.css("overflow-y","auto")})):document.exitFullscreen().then((function(){e.components.server.logEvent("X-Display.Fullscreen.Exit","","",n.toString(),""),t.display.fullscreen(!1)}))}))}function d(e){return"\n<div class='blockpy-content container-fluid'>\n\n    \x3c!-- Dialog --\x3e\n    ".concat(o.b,'\n    \n    \x3c!-- Hidden Capture Canvas --\x3e\n    <canvas id=\'capture-canvas\' class=\'d-none\' role="presentation" aria-hidden="true"></canvas>\n    \n    \x3c!-- Row 1: Header and Quick Menu --\x3e\n    <div class=\'row\' style="display:none;">\n         \n         \x3c!-- Description --\x3e\n         <div class=\'col-md-10 blockpy-panel blockpy-header\'\n               role=\'heading\' aria-label=\'Assignment Description\'>\n         \n            \x3c!-- Assignment Name --\x3e\n            <span role=\'heading\' aria-level=\'1\'\n                  class="blockpy-name">\n                <strong>BlockPy: </strong> \n                <span data-bind=\'text: assignment.name\'></span>\n            </span>\n            \n            \x3c!-- Reset Instructions Button --\x3e\n            <div class="blockpy-instructions-reset"\n                data-bind="visible: ui.instructions.isChanged">\n                <a class="float-right"\n                    data-bind="click: ui.instructions.reset"\n                    href="">\n                    Reset instructions</a>\n            </div>\n            \n            \x3c!-- Instructions --\x3e\n            <div class=\'blockpy-instructions\'\n                 data-bind="html: ui.instructions.current">\n            </div>\n        </div>\n        \n        <div class=\'col-md-2 blockpy-panel blockpy-quick-menu\'\n             role=\'menubar\' aria-label=\'Quick Menu\' title="Quick Menu">\n            \x3c!-- Get Shareable Link --\x3e\n            \x3c!--<button class="btn btn-outline-secondary btn-sm">\n                Get shareable link</button>--\x3e\n            <span data-bind="visible: ui.menu.isSubmitted">\n                Your submission is ready to be reviewed!</span>\n            <button class="btn btn-outline-secondary btn-sm"\n                data-bind="visible: ui.menu.canMarkSubmitted,\n                           text: ui.menu.textMarkSubmitted,\n                           click: ui.menu.clickMarkSubmitted"></button>\n            \x3c!-- View as instructor --\x3e\n            <div class="form-check"\n                 data-bind="visible: ui.role.isGrader">\n                <input class="form-check-input" type="checkbox" value="" id="blockpy-as-instructor"\n                    data-bind="checked: display.instructor">\n                <label class="form-check-label" for="blockpy-as-instructor">\n                    View as instructor\n                </label>\n            </div>\n            <button class="btn btn-outline-secondary btn-sm"\n                data-bind="click: ui.menu.clickFullscreen"\n                title="Full Screen"\n            ><span class=\'fas\',\n                           data-bind="class: ui.menu.textFullscreen"\n            ></span></button>\n            <button class="btn btn-outline-secondary btn-sm"\n                data-bind="click: ui.menu.editInputs, visible: ui.menu.showQueuedInputs" title="Edit Inputs"\n            ><span class=\'fas fa-list-alt\'></span></button>\n            <span class="blockpy-student-error fas fa-bug"></span>\n        </div>\n         \n    </div>\n    \n    \x3c!-- Row 2: Console and Feedback --\x3e\n    \x3c!-- ko if: ui.secondRow.isAllVisible --\x3e\n    <div class=\'row\'>\n    \n        \x3c!-- Console --\x3e\n        ').concat(l.b,"\n         \n        \x3c!-- Feedback --\x3e\n        \x3c!-- ko if: ui.secondRow.isFeedbackVisible --\x3e\n        ").concat(s.b,"\n        \x3c!-- /ko --\x3e\n        \n        \x3c!-- Trace --\x3e\n        \x3c!-- ko if: ui.secondRow.isTraceVisible --\x3e\n        ").concat(i.b,"\n        \x3c!-- /ko --\x3e\n         \n    </div>\n    \x3c!-- /ko --\x3e\n    \n    \x3c!-- Row 3: File Navigation --\x3e\n    \x3c!-- ko if: ui.files.visible --\x3e\n    <div class='row' style=\"display:none;\">\n        ").concat(r.b,'\n    </div>\n    \x3c!-- /ko --\x3e\n    \n    \x3c!-- Row 4: View Row --\x3e\n    <div class="row">\n        ').concat(a.a,'\n    </div>\n\n    \x3c!-- Row 5: Footer Row --\x3e    \n    <div class="row">\n        ').concat('\n<div class="col-md-12 blockpy-panel blockpy-status">\n    <div>\n        <span class="badge" data-bind="class: ui.server.status(\'loadAssignment\')">Load Assignment</span>, \n        <span class="badge" data-bind="class: ui.server.status(\'saveAssignment\')">Save Assignment</span>, \n        <span class="badge" data-bind="class: ui.server.status(\'loadFile\')">Load File</span>, \n        <span class="badge" data-bind="class: ui.server.status(\'saveFile\')">Save File</span>, \n        <span class="badge" data-bind="class: ui.server.status(\'loadDataset\')">Load Dataset</span>, \n        <span class="badge" data-bind="class: ui.server.status(\'logEvent\')">Log Event</span>, \n        <span class="badge" data-bind="class: ui.server.status(\'updateSubmission\'),\n                                        click: ui.server.force.updateSubmission">Update Submission</span>, \n        <span class="badge" data-bind="class: ui.server.status(\'onExecution\')">Execution</span>\n    </div>\n    <div\n        <span data-bind="text: ui.server.messages"></span>\n    </div>\n    <div>\n        <span>User: <span data-bind="text: user.id"></span> (<span data-bind="text: user.name"></span>, <span data-bind="text: user.role"></span>)</span>, \n        <span>Course: <span data-bind="text: user.courseId"></span></span>,\n        <span>Group: <span data-bind="text: user.groupId"></span></span>,\n        <span>Assignment: <span data-bind="text: assignment.id"></span></span>,\n        <span>Assignment Version: <span data-bind="text: assignment.version"></span></span>,\n        <span>Submission: <span data-bind="text: submission.id"></span></span>, \n        <span>Submission Version: <span data-bind="text: submission.version"></span></span>\n    </div>\n</div>\n',"\n    </div>\n    \n</div>\n    ")}},function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var i=n(2),o=n(12);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={BLOCK:"block",SPLIT:"split",TEXT:"text"};function p(e,t,n){return'<label class="btn btn-outline-secondary blockpy-mode-set-blocks"\n                data-bind="css: {active: display.pythonMode() === \''.concat(n,"'},\n                           click: ui.editors.python.updateMode.bind($data, '").concat(n,"')\">\n                <span class='fas fa-").concat(t,'\'></span>\n                <input type="radio" name="blockpy-mode-set" autocomplete="off" checked> ').concat(e,"\n            </label>")}var m='\n\n    <div class="blockpy-python-toolbar col-md-12 btn-toolbar"\n         role="toolbar" aria-label="Python Toolbar">\n\n         <div class="btn-group mr-2" role="group" aria-label="Run Group">         \n            <button type="button" class="btn blockpy-run notransition"\n                data-bind="click: ui.execute.run,\n                            css: {\'blockpy-run-running\': ui.execute.isRunning}">\n                <span class="fas fa-play"></span> 运行 \n             </button>\n         </div>\n         \n         <div class="btn-group btn-group-toggle mr-2" data-toggle="buttons">\n            \x3c!-- ko if: $root.assignment.settings.enableBlocks() --\x3e\n            '.concat(p("积木","th-large",f.BLOCK),"\n            ").concat(p("分栏","columns",f.SPLIT),"\n            ").concat(p("文本","align-left",f.TEXT),'\n            \x3c!-- /ko --\x3e\n         </div>\n\n         <div class="btn-group mr-2" role="group" aria-label="Reset Group">\n             <button type="button" class="btn btn-outline-secondary"\n                 data-bind="click: ui.editors.reset">\n                 <span class="fas fa-sync"></span> 重置 \n              </button>\n         </div>\n         \n         \x3c!-- ko if: !assignment.settings.hideImportDatasetsButton() --\x3e\n         <div class="btn-group mr-2" role="group" aria-label="Import Group">\n            <button type="button" class="btn btn-outline-secondary"\n                data-bind="click: ui.editors.importDataset">\n                <span class="fas fa-cloud-download-alt"></span> 导入数据集 \n             </button>\n         </div>\n         \x3c!-- /ko --\x3e\n         \n         <div class="btn-group mr-2">\n                <label class="btn btn-outline-secondary">\n                    <span class="fas fa-file-upload"></span> 上传 \n                    <input class="blockpy-toolbar-upload" type="file"\n                        hidden\n                        data-bind="event: {change: ui.editors.upload}">\n                 </label>\n\n                <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"\n                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                    <span class="caret"></span>\n                    <span class="sr-only">Toggle Dropdown</span>\n                </button>\n                \n                <div class="dropdown-menu dropdown-menu-right">\n                    <a class=\'dropdown-item blockpy-toolbar-download\'\n                        data-bind="click: ui.editors.download">\n                    <span class=\'fas fa-download\'></span> Download\n                    </a>\n                </div>\n            </div>\n         \n         <div class="btn-group mr-2" role="group" aria-label="History Group">\n            <button type="button" class="btn btn-outline-secondary"\n                aria-pressed="false"\n                data-bind="click: ui.editors.python.toggleHistoryMode,\n                           enable: ui.editors.python.isHistoryAvailable,\n                           css: { active: display.historyMode },\n                           attr: { \'aria-pressed\': display.historyMode }">\n                <span class="fas fa-history"></span> 历史 \n             </button>\n         </div>\n         \n         \x3c!-- Fully functional, but a little too.. Invasive \n         <div class="btn-group mr-2" role="group" aria-label="Fullscreen Group"\n            data-bind="visible: display.pythonMode() === \'text\'">\n            <button type="button" class="btn btn-outline-secondary"\n                data-bind="click: ui.editors.python.fullscreen">\n                <span class="fas fa-expand-arrows-alt"></span> Fullscreen\n             </button>\n         </div>\n         --\x3e\n         \n         <div class="btn-group mr-2" role="group" aria-label="Save Group"\n            data-bind="visible: ui.editors.canSave">\n            <button type="button" class="btn btn-outline-secondary">\n                <span class="fas fa-save"></span> Save\n             </button>\n         </div>\n         \n         <div class="btn-group mr-2" role="group" aria-label="Delete Group"\n            data-bind="visible: ui.editors.canDelete">\n            <button type="button" class="btn btn-outline-secondary",\n                data-bind="click: ui.files.delete">\n                <span class="fas fa-trash"></span> Delete\n             </button>\n         </div>\n         \n         <div class="btn-group mr-2" role="group" aria-label="Rename Group"\n            data-bind="visible: ui.editors.canRename">\n             <button type="button" class="btn btn-outline-secondary">\n                <span class="fas fa-file-signature"></span> Rename\n             </button>\n         </div>\n         \n    </div>\n    \n    ').concat(o.b,'\n\n\n    <div class="blockpy-python-blockmirror"\n        data-bind="hidden: ui.menu.isSubmitted">\n    </div>\n');var h={name:"Python",extensions:[".py"],constructor:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,o,s=c(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),n=s.call(this,e,t.find(".blockpy-python-blockmirror")),Blockly.setParentContainer(e.model.configuration.container[0]),n.bm=new BlockMirror({container:n.tag[0],run:e.components.engine.run.bind(e.components.engine),skipSkulpt:!0,blocklyMediaPath:e.model.configuration.blocklyPath,toolbox:e.model.assignment.settings.toolbox(),imageMode:!0,imageDownloadHOok:function(e){return e},imageUploadHook:function(e){return Promise.resolve("Image("+JSON.stringify(URL.createObjectURL(e))+")")},imageLiteralHook:function(e){return'Image("'.concat(e,'")')}}),n.dirty=!1,n.readOnly=!1,n.makeSubscriptions(),n.lineErrorSubscription=null,n.lineUncoveredSubscription=null,n.oldPythonMode=n.main.model.display.pythonMode(),n.makePerAssignmentSubscriptions(),n}return t=u,(n=[{key:"configureExtraBlockly",value:function(){var e=this;this.bm.blockEditor.workspace.configureContextMenu=function(t){t.push({enabled:!0,text:"Screenshot",callback:function(){return e.main.components.dialog.SCREENSHOT_BLOCKS}})}}},{key:"enter",value:function(e,t){var n=this,i=this.filename;a(d(u.prototype),"enter",this).call(this,e,t),this.dirty=!1,"answer.py"!==e?("answer.py"===i&&(this.oldPythonMode=this.main.model.display.pythonMode()),this.main.model.display.pythonMode(f.TEXT)):this.main.model.display.pythonMode(this.oldPythonMode),this.updateEditor(this.file.handle()),this.currentSubscription=this.file.handle.subscribe(this.updateEditor.bind(this)),this.currentBMListener=this.updateHandle.bind(this),this.bm.addChangeListener(this.currentBMListener),"answer.py"!==e?this.bm.isParsons=function(){return!1}:(this.bm.isParsons=this.main.model.assignment.settings.isParsons,this.lineErrorSubscription=this.main.model.execution.feedback.linesError.subscribe((function(e){return n.bm.setHighlightedLines(e,"editor-error-line")})),this.lineUncoveredSubscription=this.main.model.execution.feedback.linesUncovered.subscribe((function(e){return n.bm.setHighlightedLines(e,"editor-uncovered-line")}))),setTimeout((function(){return n.bm.refresh()}),0)}},{key:"updateEditor",value:function(e){if(void 0===e)e=null!==this.file?this.file.handle():"";else if(null===e)return void this.main.components.fileSystem.deleteFileLocally_(this.filename);this.dirty=!this.dirty,this.dirty&&(this.dirty=!0,this.bm.setCode(e),this.dirty=!1)}},{key:"updateHandle",value:function(e){this.bm.clearHighlightedLines(),this.dirty=!this.dirty,this.dirty&&(this.dirty=!0,this.main.model.display.historyMode()||this.file.handle(this.bm.getCode()),this.dirty=!1)}},{key:"exit",value:function(e,t,n){this.dirty=!1,this.currentSubscription.dispose(),this.bm.removeChangeListener(this.currentBMListener),this.main.model.display.historyMode()&&this.main.model.ui.editors.python.turnOffHistoryMode(),this.clearLineSubscriptions(),a(d(u.prototype),"exit",this).call(this,e,t)}},{key:"clearLineSubscriptions",value:function(){this.bm.clearHighlightedLines(),this.lineErrorSubscription&&(this.lineErrorSubscription.dispose(),this.lineErrorSubscription=null),this.lineUncoveredSubscription&&(this.lineUncoveredSubscription.dispose(),this.lineUncoveredSubscription=null)}},{key:"makeSubscriptions",value:function(){var e=this;this.bm.setMode(this.main.model.display.pythonMode()),this.main.model.display.pythonMode.subscribe((function(t){e.bm.setMode(t)})),this.main.model.assignment.settings.enableBlocks.subscribe((function(t){t?e.bm.setMode(e.main.model.display.pythonMode()):e.bm.setMode(f.TEXT)})),this.main.model.assignment.settings.toolbox.subscribe((function(t){e.bm.configuration.toolbox=t,e.bm.blockEditor.remakeToolbox()})),this.main.model.assignment.settings.enableImages.subscribe((function(t){e.bm.setImageMode(t)}))}},{key:"makePerAssignmentSubscriptions",value:function(){var e=this;this.main.model.display.instructor.subscribe((function(t){e.setReadOnly(e.decideIfNotEditable())})),this.main.model.assignment.settings.onlyUploads.subscribe((function(t){e.setReadOnly(e.decideIfNotEditable())}))}},{key:"decideIfNotEditable",value:function(){var e=this.main.model;return e.display.historyMode()||e.assignment.settings.onlyUploads()&&!e.display.instructor()}},{key:"setReadOnly",value:function(e){this.readOnly=e,this.bm.setReadOnly(e)}},{key:"uploadFile",value:function(e){var t=e.target.fileName,n=e.target.result;t.endsWith(".ipynb")&&(n=function(e){return JSON.parse(e).cells.filter((function(e){return"code"===e.cell_type?e.source.length>0&&!e.source[0].startsWith("%"):"markdown"===e.cell_type||"raw"===e.cell_type})).map((function(e){return"code"===e.cell_type?e.source.join("\n"):"markdown"===e.cell_type||"raw"===e.cell_type?"'''"+e.source.join("\n")+"'''":void 0})).join("\n")}(n)),this.main.components.server.logEvent("X-File.Upload","","",n,this.filename),this.file.handle(n),this.main.components.engine.run()}},{key:"downloadFile",value:function(){var e=a(d(u.prototype),"downloadFile",this).call(this);return"answer"===e.name&&".py"===e.extension&&(e.name=Object(i.c)(this.main.model.assignment.name())),e.mimetype="text/x-python",this.main.components.server.logEvent("X-File.Download","","","",e.name),e}}])&&r(t.prototype,n),o&&r(t,o),u}(i.a),template:m}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return P}));var i=n(6),o=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={name:"Text",extensions:[".txt"],constructor:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,i,o=c(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,e,t)).codeMirror=CodeMirror.fromTextArea(t.find(".blockpy-editor-text")[0],{showCursorWhenSelecting:!0,lineNumbers:!0,firstLineNumber:1,indentUnit:4,tabSize:4,indentWithTabs:!1,extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess",Esc:function(e){e.getOption("fullScreen")?e.setOption("fullScreen",!1):e.display.input.blur()},F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))}}}),n.dirty=!1,n}return t=s,(n=[{key:"enter",value:function(e,t){a(d(s.prototype),"enter",this).call(this,e,t),this.dirty=!1,this.updateEditor(this.file.handle()),this.currentSubscription=this.file.handle.subscribe(this.updateEditor.bind(this)),this.currentListener=this.updateHandle.bind(this),this.codeMirror.on("change",this.currentListener),t!==this&&setTimeout(this.codeMirror.refresh.bind(this.codeMirror),1),this.codeMirror.setOption("readOnly",e.startsWith("&")&&!this.main.model.display.instructor())}},{key:"updateEditor",value:function(e){this.dirty=!this.dirty,this.dirty&&(this.dirty=!0,this.codeMirror.setValue(e),this.codeMirror.refresh(),this.dirty=!1)}},{key:"updateHandle",value:function(e){this.dirty=!this.dirty,this.dirty&&(this.dirty=!0,this.file.handle(this.codeMirror.getValue()),this.dirty=!1)}},{key:"exit",value:function(e,t,n){this.currentSubscription.dispose(),this.codeMirror.off("change",this.currentListener),this.codeMirror.setOption("readOnly",!1),a(d(s.prototype),"exit",this).call(this,e,t)}}])&&r(t.prototype,n),i&&r(t,i),s}(o.a),template:'\n    <div>\n    <textarea class="blockpy-editor-text"></textarea>\n    </div>\n'},p=n(8);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g={name:"Tags",extensions:["!tags.blockpy"],constructor:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e);var t=b(n);function n(e,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,i.find(".blockpy-editor-tags"))}return n}(o.a),template:"\nCreate new\nImport by name\nFind by owner/course/kind\n\nTags:\n    Data:\n        Name\n        Kind\n        Level\n        Version\n        Description\n    Controls:\n        Edit\n        Remove\n        Delete \n"};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R={name:"Markdown",extensions:[".md"],constructor:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(s,e);var t,n,i,o=x(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,e,t)).mde=new EasyMDE({element:t.find(".blockpy-editor-markdown")[0],autoDownloadFontAwesome:!1,forceSync:!0,minHeight:"500px",renderingConfig:{codeSyntaxHighlighting:!0},indentWithTabs:!1,tabSize:4}),n.dirty=!1,n}return t=s,(n=[{key:"enter",value:function(e,t){_(O(s.prototype),"enter",this).call(this,e,t),this.dirty=!1,this.updateEditor(this.file.handle()),this.currentSubscription=this.file.handle.subscribe(this.updateEditor.bind(this)),this.currentListener=this.updateHandle.bind(this),this.mde.codemirror.on("change",this.currentListener),t!==this&&setTimeout(this.mde.codemirror.refresh.bind(this.mde.codemirror),1)}},{key:"updateEditor",value:function(e){this.dirty=!this.dirty,this.dirty&&(this.dirty=!0,this.mde.value(e),this.mde.codemirror.refresh(),this.dirty=!1)}},{key:"updateHandle",value:function(e){this.dirty=!this.dirty,this.dirty&&(this.dirty=!0,this.file.handle(this.mde.value()),this.dirty=!1)}},{key:"exit",value:function(e,t,n){this.currentSubscription.dispose(),this.mde.codemirror.off("change",this.currentListener),_(O(s.prototype),"exit",this).call(this,e,t)}}])&&S(t.prototype,n),i&&S(t,i),s}(o.a),template:'\n    <textarea class="blockpy-editor-markdown"></textarea>    \n'};function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=["!","^","?","$"],F=[f,i.b,p.a,g,R],C=F.map((function(e){return'\n<div class="col-md-12 blockpy-panel blockpy-editor">\n    <div data-bind="visible: ui.editors.view().name === \''.concat(e.name,"'\">\n    ").concat(e.template,"    \n    </div>\n</div>\n")})).join("\n"),P=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.tag=n,this.current=null,this.registered_=[],this.extensions_={},this.byName_={},F.forEach((function(e){return i.registerEditor(e)})),this.main.model.display.filename.subscribe(this.changeEditor,this)}var t,n,i;return t=e,i=[{key:"parseFilename",value:function(e){var t=e.charAt(0);return-1!==I.indexOf(t)?e=e.substr(1):t="",{space:t,name:e.substr(0,e.lastIndexOf(".")),type:e.substr(e.lastIndexOf("."))}}}],(n=[{key:"registerEditor",value:function(e){var t=e.extensions,n=new e.constructor(this.main,this.tag);n.name=e.name,this.registered_.push(n),this.byName_[e.name.toLowerCase()]=n;for(var i=0;i<t.length;i++)this.extensions_[t[i]]=n}},{key:"byName",value:function(e){return this.byName_[e.toLowerCase()]}},{key:"changeEditor",value:function(e){var t=this.current,n=this.getEditor(e,t);null!==t&&t.exit(e,t,n),this.current=n,this.current.enter(e,t)}},{key:"getEditor",value:function(t){var n=e.parseFilename(t),i=(n.space,n.name,n.type);return".blockpy"===i&&t in this.extensions_?this.extensions_[t]:i in this.extensions_?this.extensions_[i]:this.registered_[0]}}])&&T(t.prototype,n),i&&T(t,i),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return k}));var i=n(2),o=n(6);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=[["toolbox","toolbox","normal","toolbox","Which version of the toolbox to present to the user."],["passcode","passcode","","string","A string that the user must enter to access the problem. If blank, then no passcode is prompted."],["startView","start_view",o.a.SPLIT,o.a,"The Python editor mode to start in when the student starts the problem."],["datasets","datasets","","string","The current list of datasets available on load as a comma-separated string."],["disableTimeout","disable_timeout",!1,"bool","If checked, then students code is allowed to run without timeouts (potentially allowing infinite loops)."],["isParsons","is_parsons",!1,"bool","If checked, then this is a parson's style question (jumbled)."],["disableFeedback","disable_feedback",!1,"bool","If checked, then no instructor scripts are run (e.g., on_run and on_eval)."],["disableInstructorRun","disable_instructor_run",!1,"bool","If checked, then the instructor on_run will not automatically run the students' code. This still runs the students' code."],["disableStudentRun","disable_student_run",!1,"bool","If checked, then the run button no longer run the students' code. This still runs the instructor's feedback on_run script."],["disableTifa","disable_tifa",!1,"bool","If checked, then do not automatically run Tifa (which can be slow)."],["disableTrace","disable_trace",!1,"bool","If checked, then the students code will not have its execution traced (no variables recorded, no coverage tracked)."],["disableEdit","disable_edit",!1,"bool","If checked, then the students' file will not be editable."],["enableImages","can_image",!1,"bool","If checked, then users can copy/paste images directly into the text editor."],["enableBlocks","can_blocks",!0,"bool","If checked, then the student can edit the block interface (if not, then it is visible but not editable)."],["canClose","can_close",!1,"bool","If checked, then the student should mark their submission closed when they are done. There is no way to force a student to do so. Unlike Reviewed, this still submits the correctness."],["onlyInteractive","only_interactive",!1,"bool","If checked, the editors are hidden, the program is automatically run, and then the console enters Eval mode (interactive)."],["onlyUploads","only_uploads",!1,"bool","If checked, then the students' file will not be directly editable (they will have to upload submissions)."],["hideSubmission","hide_submission",!1,"bool","If checked, then students will not be able to see their submission's code or history on Canvas."],["hideFiles","hide_files",!0,"bool","If checked, then students will not see the View Files toolbar."],["hideQueuedInputs","hide_queued_inputs",!1,"bool","If checked, then the students cannot access the queued inputs box (makes repeated debugging easier for the input function)."],["hideEditors","hide_editors",!1,"bool","If checked, then all of the editors are hidden."],["hideMiddlePanel","hide_middle_panel",!1,"bool","If checked, then the console and feedback areas is hidden."],["hideAll","hide_all",!1,"bool","INCOMPLETE: If checked, then the entire interface is hidden."],["hideEvaluate","hide_evaluate",!1,"bool","If checked, then the Evaluate button is not shown on the console."],["hideImportDatasetsButton","hide_import_datasets_button",!1,"bool","If checked, then students cannot see the import datasets button."],["hideImportStatements","hide_import_statements",!1,"bool","INCOMPLETE: If checked, certain kinds of import statements (matplotlib, turtle, datasets) are not shown in the block interface."],["hideCoverageButton","hide_coverage_button",!1,"bool","INCOMPLETE: If checked, the coverage button is not shown."],["saveTurtleOutput","save_turtle_output",!1,"bool","If checked, then turtle output is saved whenever the program uses it."]];function p(e){for(var t=0;t<f.length;t++)if(f[t][0]===e)return f[t][4];return"Documentation not found for field"}function m(e,t,n){return'<label class="btn btn-outline-secondary blockpy-mode-set-blocks"\n                data-bind="css: {active: assignment.settings.startView() === \''.concat(n,"'},\n                           click: assignment.settings.startView.bind($data, '").concat(n,"')\">\n                <span class='fas fa-").concat(t,'\'></span>\n                <input type="radio" name="blockpy-start-view-set" autocomplete="off" checked> ').concat(e,"\n            </label>")}var h=f.filter((function(e){return"bool"===e[3]})).map((function(e){var t=e[1].split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");return'\n        <div class="form-group row">\n            <div class="col-sm-2 text-right">\n                <label class="form-check-label" for="blockpy-settings-'.concat(e[0],'">').concat(t,'</label>\n            </div>\n            <div class="col-sm-1">\n                <div class="form-check">\n                    <input class="form-check-input" type="checkbox" id="blockpy-settings-').concat(e[0],'"\n                    data-bind="checked: assignment.settings.').concat(e[0],'">\n                </div>  \n            </div>            \n            <div class="col-sm-9">\n                <small class="form-text text-muted">\n                    ').concat(e[4],"\n                </small>\n            </div>\n        </div>\n        ")})).join("\n\n"),b='\n    <div class="blockpy-view-settings">\n    \n    <form>\n\n        <div class="form-group row">\n            <div class="col-sm-12 mx-auto">\n                <button type="button" class="btn btn-success"\n                    data-bind="click: ui.editors.settings.save">Save changes</button>\n            </div>\n        </div>\n    \n        <div class="form-group row">\n            <label for="blockpy-settings-name" class="col-sm-2 col-form-label text-right">Name:</label>\n            <div class="col-sm-10">\n                <input type="text" class="form-control" id="blockpy-settings-name"\n                data-bind="value: assignment.name">\n                <small class="form-text text-muted">\n                    The student-facing name of the assignment. Assignments within a group are ordered alphabetically\n                    by their name, so you may want to use a naming scheme like "#43.5) Whatever".\n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <label for="blockpy-settings-url" class="col-sm-2 col-form-label text-right">URL:</label>\n            <div class="col-sm-10">\n                <input type="text" class="form-control" id="blockpy-settings-url"\n                data-bind="value: assignment.url">\n                <small class="form-text text-muted">\n                    The course-unique URL that can be used to consistently refer to this assignment. \n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <div class="col-sm-2 text-right">\n                <label class="form-check-label" for="blockpy-settings-public">Public:</label>\n            </div>\n            <div class="col-sm-1">\n                <div class="form-check">\n                    <input class="form-check-input" type="checkbox" id="blockpy-settings-public"\n                    data-bind="checked: assignment.public">\n                </div>  \n            </div>            \n            <div class="col-sm-9">\n                <small class="form-text text-muted">\n                    If not public, users outside of the course will not be able to see the assignment in course listings.\n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <div class="col-sm-2 text-right">\n                <label class="form-check-label" for="blockpy-settings-hidden">Hidden:</label>\n            </div>\n            <div class="col-sm-1">\n                <div class="form-check">\n                    <input class="form-check-input" type="checkbox" id="blockpy-settings-hidden"\n                    data-bind="checked: assignment.hidden">\n                </div>  \n            </div>            \n            <div class="col-sm-9">\n                <small class="form-text text-muted">\n                    If hidden, students will not be able to see their grade while working on the assignment.\n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <div class="col-sm-2 text-right">\n                <label class="form-check-label" for="blockpy-settings-reviewed">Reviewed:</label>\n            </div>\n            <div class="col-sm-1">\n                <div class="form-check">\n                    <input class="form-check-input" type="checkbox" id="blockpy-settings-reviewed"\n                    data-bind="checked: assignment.reviewed">\n                </div>  \n            </div>            \n            <div class="col-sm-9">\n                <small class="form-text text-muted">\n                    If reviewed, the assignment need to be commented upon and regraded by the staff after submission.\n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <div class="col-sm-2 text-right">\n                <label class="form-check-label" for="blockpy-settings-reviewed">Starting View:</label>\n            </div>\n            <div class="col-sm-3">\n                <div class="btn-group btn-group-toggle mr-2" data-toggle="buttons">\n                    '.concat(m("Blocks","th-large",o.a.BLOCK),"\n                    ").concat(m("Split","columns",o.a.SPLIT),"\n                    ").concat(m("Text","align-left",o.a.TEXT),'\n                 </div>\n            </div>            \n            <div class="col-sm-7">\n                <small class="form-text text-muted">\n                    ').concat(p("startView"),'\n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <label for="blockpy-settings-ip-ranges" class="col-sm-2 col-form-label text-right">IP Ranges:</label>\n            <div class="col-sm-10">\n                <input type="text" class="form-control" id="blockpy-settings-ip-ranges"\n                data-bind="value: assignment.ipRanges">\n                <small class="form-text text-muted">\n                    Provide a comma-separated list of IP Addresses that will be explicitly allowed. If blank,\n                    then all addresses are allowed. If an address starts with <code>^</code> then it it is explicitly\n                    blacklisted, but that can be overridden in turn with a <code>!</code>. Addresses can also\n                    include a bit mask to allow a range of addresses.\n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <label for="blockpy-settings-passcode" class="col-sm-2 col-form-label text-right">Passcode:</label>\n            <div class="col-sm-10">\n                <input type="text" class="form-control" id="blockpy-settings-passcode"\n                data-bind="value: assignment.settings.passcode">\n                <small class="form-text text-muted">\n                    ').concat(p("passcode"),'\n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <label for="blockpy-settings-datasets" class="col-sm-2 col-form-label text-right">Preloaded Datasets:</label>\n            <div class="col-sm-10">\n                <input type="text" class="form-control" id="blockpy-settings-datasets"\n                data-bind="value: assignment.settings.datasets">\n                <small class="form-text text-muted">\n                    ').concat(p("datasets"),'\n                </small>\n            </div>\n        </div>\n        \n        <div class="form-group row">\n            <label for="blockpy-settings-toolbox" class="col-sm-2 col-form-label text-right">Block Toolbox:</label>\n            <div class="col-sm-10">\n                <select class="form-control" id="blockpy-settings-toolbox"\n                       data-bind="value: assignment.settings.toolbox">\n                   <option value="normal">Normal Toolbox</option>\n                   <option value="ct">CT@VT Toolbox</option>\n                   <option value="ct2">CT@VT Toolbox V2</option>\n                   <option value="minimal">Minimal Set</option>\n                   <option value="full">All Blocks</option>\n                </select>\n                <small class="form-text text-muted">\n                    ').concat(p("toolbox"),"\n                </small>\n            </div>\n        </div>\n        \n        ").concat(h,"\n    </form>\n    \n    </div>\n");function y(e){var t={};return f.forEach((function(n){var i=n[0],o=n[1],s=n[2],r=e.assignment.settings[i]();r!==s&&(t[o]=r)})),JSON.stringify(t)}function v(e,t){t&&(t=JSON.parse(t),f.forEach((function(n){var i=n[0],o=n[1];o in t?e.assignment.settings[i](t[o]):e.assignment.settings[i](n[2])})),t.start_view&&e.display.pythonMode(t.start_view))}function g(t){var n={};return f.forEach((function(i){var o=i[0],s=i[1],r=i[2],a=i[3];if(void 0===t["assignment.settings."+s])n[o]=e.observable(r);else{var l=t["assignment.settings."+s];"bool"===a&&(l="true"===l.toLowerCase()),n[o]=e.observable(l)}})),n}var k={name:"Assignment Settings",extensions:["!assignment_settings.blockpy"],constructor:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,i,o=c(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,e,t)).dirty=!1,n}return t=s,(n=[{key:"enter",value:function(e,t){a(d(s.prototype),"enter",this).call(this,e,t),console.log(this.file),this.dirty=!1,this.currentListener=this.updateHandle.bind(this)}},{key:"updateEditor",value:function(e){this.dirty=!this.dirty,this.dirty&&(this.dirty=!0,this.dirty=!1)}},{key:"updateHandle",value:function(e){this.dirty=!this.dirty,this.dirty&&(this.dirty=!0,this.dirty=!1)}},{key:"exit",value:function(e,t,n){a(d(s.prototype),"exit",this).call(this,e,t)}}])&&r(t.prototype,n),i&&r(t,i),s}(i.a),template:b}}).call(this,n(16))},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var o='\n\n<div class="blockpy-trace col-md-6 blockpy-panel"\n            role="region" aria-label="Trace">\n    \n    <div class="clearfix">\n        <strong>Trace: </strong>\n        \n        \x3c!-- Feedback/Trace Visibility Control --\x3e\n        <button type=\'button\'\n                class=\'btn btn-sm btn-outline-secondary float-right blockpy-hide-trace\'\n                data-bind="click: ui.secondRow.advanceState">\n            <span class=\'fas fa-eye\'></span> Hide Trace\n        </button>\n    </div>\n\n    <div class="input-group mb-3 blockpy-trace-controls">\n        <div class="input-group-prepend">\n            <button type=\'button\' class=\'btn btn-outline-secondary\'\n                data-bind="click: ui.trace.first">\n                <span class=\'fas fa-step-backward\'></span>\n            </button>\n            <button type=\'button\' class=\'btn btn-outline-secondary\'\n                data-bind="click: ui.trace.backward">\n                <span class=\'fas fa-backward\'></span>\n            </button>\n            <span class="input-group-text">Step:</span>\n            <span class="input-group-text">\n                <span data-bind=\'text: execution.student.currentTraceStep\'></span>\n                / <span data-bind=\'text: execution.student.lastStep\'></span>\n            </span>\n        </div>\n        <div class="input-group-append">\n            <button type=\'button\' class=\'btn btn-outline-secondary\'\n                data-bind="click: ui.trace.forward">\n                <span class=\'fas fa-forward\'></span>\n            </button>\n            <button type=\'button\' class=\'btn btn-outline-secondary\'\n                data-bind="click: ui.trace.last">\n                <span class=\'fas fa-step-forward\'></span>\n            </button>\n            <span class="input-group-text">\n                <span data-bind=\'text: ui.trace.line\'></span>\n            </span>\n        </div>\n    </div>\n    \n    <table class=\'table table-sm table-striped table-bordered table-hover\'>\n        <caption>Current variables at this step</caption>\n        <thead>\n            <tr><th>Name</th><th>Type</th><th>Value</th></tr>\n        </thead>\n        <tbody data-bind="foreach: ui.trace.data().properties">\n            <tr data-bind="visible: name != \'__file__\' && name != \'__path__\'">\n                <td data-bind="text: name"></td>\n                <td data-bind="text: type"></td>\n                <td>\n                    <code data-bind="text: value"></code>\n                    \x3c!-- ko if: type == "List" --\x3e\n                    \n                    <a href="" data-bind="click: //$root.viewExactValue(type, exact_value)">\n                    <span class=\'glyphicon glyphicon-new-window\'></span>\n                    </a>\n                    \x3c!-- /ko --\x3e\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    \n</div>\n',s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.tag=n,this.IGNORED_GLOBALS=["__name__","__doc__","__package__","classmethod","property","staticmethod"]}var t,n,o;return t=e,o=[{key:"parseValue",value:function(e,t,n){if(void 0===t)return{name:e,type:"Unknown",value:"Undefined"};switch(t.constructor){case Sk.builtin.func:return{name:e,type:"Function",value:void 0!==t.func_code.co_varnames?" Arguments: "+t.func_code.co_varnames.join(", "):" No arguments"};case Sk.builtin.module:return null;case Sk.builtin.str:return n||t.v.length<=32?{name:e,type:"String",value:t.$r().v}:{name:e,type:"String",value:"["+t.sq$length()+" characters not shown]"};case Sk.builtin.none:return{name:e,type:"None",value:"None"};case Sk.builtin.bool:return{name:e,type:"Boolean",value:t.$r().v};case Sk.builtin.nmber:return{name:e,type:"int"===t.skType?"Integer":"Float",value:t.$r().v};case Sk.builtin.int_:return{name:e,type:"Integer",value:t.$r().v};case Sk.builtin.float_:return{name:e,type:"Float",value:t.$r().v};case Sk.builtin.tuple:return{name:e,type:"Tuple",value:t.$r().v};case Sk.builtin.list:return t.v.length<=20?{name:e,type:"List",value:t.$r().v,exact_value:t}:{name:e,type:"List",value:"[... "+t.v.length+" elements ...]",exact_value:t};case Sk.builtin.dict:return{name:e,type:"Dictionary",value:t.$r().v};case Number:return{name:e,type:t%1==0?"Integer":"Float",value:t};case String:return{name:e,type:"String",value:t};case Boolean:return{name:e,type:"Boolean",value:t?"True":"False"};default:return{name:e,type:void 0===t.tp$name?t:t.tp$name,value:void 0===t.$r?t:t.$r().v}}}}],(n=[{key:"parseGlobals",value:function(t){var n=[],i=[];if(!this.main.model.display.traceExecution())for(var o in t){var s=t[o];if(-1===this.IGNORED_GLOBALS.indexOf(o)){o=o.replace("_$rw$","").replace("_$rn$","");var r=void 0;try{r=e.parseValue(o,s)}catch(e){r={name:o,type:"Unknown",value:s.toString()}}null!==r?n.push(r):s.constructor===Sk.builtin.module&&i.push(s.$d.__name__.v)}}return{properties:n,modules:i}}}])&&i(t.prototype,n),o&&i(t,o),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var i=n(1),o={},s={},r=function(e){e.addClass("active").addClass("btn-success").removeClass("btn-primary").prop("disabled",!0).text("Loaded").attr("aria-pressed","true")};function a(e){this.main=e,this.loadedDatasets=[],this.loadDatasets()}a.prototype.loadDatasets=function(t){var n=this,o=this.main.model,s=this.main.components.pythonEditor,r=this.main.components.server,a=[];o.assignment.settings.datasets().split(",").forEach((function(e){e&&!(e in BlockMirrorBlockEditor.EXTRA_TOOLS)&&a.push.apply(a,n.importDataset(Object(i.e)(e),e,t))})),e.when.apply(e,a).done((function(){s.bm.forceBlockRefresh(),s.bm.blockEditor.remakeToolbox()})).fail((function(e){console.log(arguments),console.error(e)})).always((function(){r.finalizeSubscriptions()}))},a.prototype.importDataset=function(t,n){var i=this,o=[];if(this.main.model.ui.server.isEndpointConnected("importDatasets")){var s=this.main.model.configuration.urls.importDatasets+"blockpy/"+t+"/"+t;this.main.model.display.loadingDatasets.push(n);var r=e.getScript(s+"_dataset.js"),a=(e.getScript(s+"_complete.js"),e.get(s+"_skulpt.js",(function(e){Sk.builtinFiles.files["src/lib/"+t+"/__init__.js"]=e}))),l=e.getScript(s+"_blockly.js");e.when(r,a,l).done((function(){i.loadedDatasets.push(t),i.main.components.pythonEditor.bm.textToBlocks.hiddenImports.push(t),i.main.components.pythonEditor.bm.forceBlockRefresh(),i.main.components.pythonEditor.bm.blockEditor.remakeToolbox(),i.main.model.display.loadingDatasets.remove(n)})),o.push(r,a,l)}return o},a.prototype.openDialog=function(){var t=this;if(this.main.model.ui.server.isEndpointConnected("importDatasets")){var n=this.main.model.configuration.urls.importDatasets;e.getJSON(n+"index.json",(function(o){var s=o.blockpy,a=e("<p>Documentation is available at <a href='".concat(n+"blockpy/index.html","' target=_blank>url</a></p>")),l=e("<table></table>",{class:"table table-bordered table-sm table-striped"});Object.keys(s).sort().map((function(n){var o=Object(i.e)(s[n].name),a=e('<button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off">Load</button>');t.loadedDatasets.indexOf(o)>-1?r(a):a.click((function(){t.importDataset(o,"Data - "+s[n].title),r(a)})),e("<tr></tr>").append(e("<td>"+s[n].title+"</td>")).append(e("<td>"+s[n].overview+"</td>")).append(e("<td></td>").append(a)).appendTo(l)})),l.appendTo(a),t.main.components.dialog.show("Import Datasets",a,null)}))}}}).call(this,n(5))},function(e,t,n){"use strict";(function(e){var i;n.d(t,"a",(function(){return s}));try{i=localStorage;var o="BLOCKPY_LOCALSTORAGE_TEST";i.setItem(o,o),i.removeItem(o)}catch(e){i={_data:{},setItem:function(e,t){return this._data[e]=String(t)},getItem:function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0},removeItem:function(e){return delete this._data[e]},clear:function(){return this._data={}}}}function s(e){this.namespace=e}s.prototype.set=function(t,n){i.setItem(this.namespace+"_"+t+"_value",n),i.setItem(this.namespace+"_"+t+"_timestamp",e.now())},s.prototype.remove=function(e){i.removeItem(this.namespace+"_"+e+"_value"),i.removeItem(this.namespace+"_"+e+"_timestamp")},s.prototype.get=function(e){return i.getItem(this.namespace+"_"+e+"_value")},s.prototype.getTime=function(e){return parseInt(i.getItem(this.namespace+"_"+e+"_timestamp"))},s.prototype.getDefault=function(e,t){return this.has(e)?this.get(e):(this.set(e,t),t)},s.prototype.has=function(e){return null!==i.getItem(this.namespace+"_"+e+"_value")},s.prototype.is_new=function(e,t){return t>=i.getItem(this.namespace+"_"+e+"_timestamp")+5e3}}).call(this,n(5))},function(e,t,n){"use strict";(function(e){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var o='\n<div class="blockpy-history-toolbar col-md-12" data-bind="visible: display.historyMode">\n\n    <form class="form-inline">\n        <button class="blockpy-history-start btn btn-outline-secondary mr-2" type="button"\n            data-bind="click: ui.editors.python.history.start">\n            <span class=\'fas fa-step-backward\'></span> Start\n        </button>\n        <button class="btn btn-outline-secondary mr-2" type="button"\n            data-bind="click: ui.editors.python.history.previous">\n            <span class=\'fas fa-backward\'></span> Previous\n        </button>\n        <select class="blockpy-history-selector form-control custom-select mr-2" aria-title="History Selector">\n        </select>\n        <button class="btn btn-outline-secondary mr-2" type="button"\n            data-bind="click: ui.editors.python.history.use">\n            <span class=\'fas fa-file-import\'></span> Use\n        </button>\n        <button class="btn btn-outline-secondary mr-2" type="button"\n            data-bind="click: ui.editors.python.history.next">\n            <span class=\'fas fa-forward\'></span> Next\n        </button>\n        <button class="btn btn-outline-secondary" type="button"\n            data-bind="click: ui.editors.python.history.mostRecent">\n            <span class=\'fas fa-step-forward\'></span> Most Recent\n        </button>\n    </form>\n</div>\n',s=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=e,this.tag=n,this.currentId=null,this.history=[],this.editEvents=[]}var n,o,s;return n=t,(o=[{key:"load",value:function(t){var n=this;this.history=t,this.editEvents=[],this.selector=e(".blockpy-history-selector").empty();var i=0;t.filter((function(e){return!(e.file_path.startsWith("_instructor.")||"Compile"===e.event_type||"Intervention"===e.event_type||n.main.model.assignment.hidden()&&"X-Submission.LMS"===e.event_type)})).forEach((function(t,o){var s=r[t.event_type]||t.event_type,a=c(t.client_timestamp)+" - "+s,l="File.Edit"!==t.event_type,u=e("<option></option>",{text:a,disabled:l});n.isEditEvent(t)&&(u.attr("value",i),n.editEvents.push(t),i+=1),n.selector.append(u)})),this.selector.val(Math.max(0,i-1)),this.selector.change((function(e){n.updateEditor()}))}},{key:"moveToStart",value:function(){this.selector.val(0),this.updateEditor()}},{key:"movePrevious",value:function(){var e=parseInt(this.selector.val(),10);this.selector.val(Math.max(0,e-1)),this.updateEditor()}},{key:"moveNext",value:function(){var e=parseInt(this.selector.val(),10);this.selector.val(Math.min(this.editEvents.length-1,e+1)),this.updateEditor()}},{key:"moveToMostRecent",value:function(){this.selector.val(this.editEvents.length-1),this.updateEditor()}},{key:"updateEditor",value:function(){if(this.editEvents.length){var e=parseInt(this.selector.val(),10);this.main.components.pythonEditor.bm.setCode(this.editEvents[e].message)}}},{key:"use",value:function(){if(this.editEvents.length){var e=parseInt(this.selector.val(),10),t=this.editEvents[e].message;this.main.model.ui.editors.python.turnOffHistoryMode(),this.main.components.pythonEditor.file.handle(t)}}},{key:"isEditEvent",value:function(e){return("File.Edit"===e.event_type||"File.Create"===e.event_type)&&this.main.model.display.filename()===e.file_path}}])&&i(n.prototype,o),s&&i(n,s),t}(),r={"Session.Start":"Began session","X-IP.Change":"Changed IP address","File.Edit":"Edited code","File.Create":"Started assignment","Run.Program":"Ran program","Compile.Error":"Syntax error","X-Submission.LMS":"Updated grade"},a=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function c(e){if(void 0===e)return"Undefined Time";var t=new Date,n=new Date(parseInt(e,10));if(o=n,(i=t).getDate()===o.getDate()&&i.getMonth()===o.getMonth()&&i.getFullYear()===o.getFullYear())return"Today at "+n.toLocaleTimeString();var i,o,s=l[n.getDay()]+", "+a[n.getMonth()]+" "+n.getDate();return t.getFullYear()===n.getFullYear()?s+" at "+n.toLocaleTimeString():s+", "+n.getFullYear()+" at "+n.toLocaleTimeString()}s.prototype.openDialog=function(){var e=this.main.components.dialog,t="<pre>a = 0</pre>";this.main.components.server.getHistory((function(n){t=n.reverse().reduce((function(e,t){return e+"\n"+("<b>"+c(t.time)+"</b><br><pre>"+t.code+"</pre>")}),""),e.show("Work History",t,(function(){}))}))}}).call(this,n(5))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var i="\n    <div class='blockpy-dialog modal hidden'\n         role=\"dialog\"\n         aria-label='Dialog'\n         aria-hidden=\"true\"\n         aria-modal=\"true\">\n        <div class='modal-dialog modal-lg' role=\"document\">\n            <div class='modal-content' role='region' aria-label='Dialog content'>\n                <div class='modal-header'>\n                    <h4 class='modal-title'>Dynamic Content</h4>\n                    <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div class='modal-body' style='max-width:100%; max-height:400px'>\n                </div>\n                <div class='modal-footer'>\n                    <button type='button' class='btn btn-white modal-close' data-dismiss='modal'>Close</button>\n                    <button type='button' class='btn btn-success modal-okay' data-dismiss='modal'>Okay</button>\n                </div>    \n            </div>\n        </div>\n    </div>\n";function o(e,t){var n=this;this.main=e,this.tag=t,this.titleTag=t.find(".modal-title"),this.bodyTag=t.find(".modal-body"),this.footerTag=t.find(".modal-footer"),this.okayButton=t.find(".modal-okay"),this.closeButton=t.find(".modal-close"),this.yes=function(){},this.no=function(){},this.okayButton.click((function(){n.yes(),n.tag.modal("hide")})),this.closeButton.click((function(){n.no()}))}o.prototype.close=function(){this.tag.modal("hide")},o.prototype.show=function(e,t,n){this.titleTag.html(e),this.bodyTag.html(t),this.tag.modal("show"),this.okayButton.hide(),this.tag.draggable({handle:".modal-title"}),this.tag.on("hidden.bs.modal",(function(e){null!=n&&n()}))},o.prototype.confirm=function(e,t,n,i,o){void 0===o&&(o="Okay"),this.show(e,t,i),this.yes=n,this.no=i,this.okayButton.show().html(o)},o.prototype.ASSIGNMENT_VERSION_CHANGED=function(){this.confirm("Assignment Changed","Your instructor has made changes to this assignment. Would you like to reload? All your work has been saved.")},o.prototype.ERROR_LOADING_ASSIGNMNENT=function(e){this.show("Error Loading Assignment","BlockPy encountered an error while loading the assignment.<br>\nPlease reload the page and try again.<br>Response from server was:<br><pre>".concat(e,"</pre>"))},o.prototype.ERROR_SHOW_STUDENT_ERROR=function(e){this.show("Original Error",'When I ran your code, I encountered an error:\n\n<div class="blockpy-dialog-student-error-message">'.concat(e,"</div>"))},o.prototype.POSITIVE_FEEDBACK_FULL=function(e,t){this.show(e,t)},o.prototype.SCREENSHOT_BLOCKS=function(){},o.prototype.ERROR_UPDATING_SUBMISSION_STATUS=function(){this.show("Error Updating Submission Status","BlockPy encountered an error while updating your submission status.<br>\nPlease reload the page and try again.")},o.prototype.ERROR_LOADING_HISTORY=function(){this.show("Error Loading History","BlockPy encountered an error while loading your history.<br>\nPlease reload the page and try again.")},o.prototype.EDIT_INPUTS=function(){var e=this,t=this.main.model.execution.input().join("\n"),n=this.main.model.display.clearInputs()?"":"checked";this.confirm("Edit Remembered Inputs",'\n\n<div class="form-check">\n<input type="checkbox" class="blockpy-remember-inputs form-check-input"\n        name="blockpy-remember-inputs" '.concat(n,'>\n<label class="form-check-label" for="blockpy-remember-inputs">Reuse inputs for next execution</label>\n</div>\n\n<textarea class="blockpy-input-list form-control" rows="4">').concat(t,"</textarea><br>\nEdit the inputs above to store and reuse them across multiple executions.\nEach input should be put on its own line.\nYou do not need quotes; the text will be entered literally.\n \n"),(function(){var t=e.tag.find(".blockpy-remember-inputs").prop("checked"),n=e.tag.find(".blockpy-input-list").val().split("\n");e.main.model.display.clearInputs(!t),e.main.model.execution.input(n)}),this.no,"Save")}},function(e,t,n){"use strict";(function(e){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var o='\n\n<span class=\'blockpy-floating-feedback text-muted-less pull-right position-sticky sticky-top\'\n    aria-hidden="true" role="presentation" aria-label="New Feedback Alert">\n    New feedback &uarr;\n</span>\n\n<div class=\'blockpy-feedback col-md-6 blockpy-panel\'\n            role="region" aria-label="Feedback"\n            aria-live="polite">\n\n    \x3c!-- Feedback/Trace Visibility Control --\x3e\n    <button type=\'button\'\n            class=\'btn btn-sm btn-outline-secondary float-right\'\n            data-bind="click: ui.secondRow.advanceState">\n        <span class=\'fas fa-eye\'></span>\n        <span data-bind="text: ui.secondRow.switchLabel"></span>\n    </button>\n    \n    \x3c!-- Positive Feedback Region --\x3e\n    <div class="blockpy-feedback-positive float-right">\n        \n    \n    </div>\n\n    \x3c!-- Actual Feedback Region --\x3e    \n    <div>\n        <strong>反馈: </strong>\n        <span class=\'badge blockpy-feedback-category feedback-badge\'\n            data-bind="css: ui.feedback.badge,\n                       text: ui.feedback.category">Feedback Kind</span>\n        <small data-bind="text: (100*submission.score())+\'%\',\n                          visible: display.instructor() && execution.feedback.label()"\n            class="text-muted"></small>\n    </div>\n    <div>\n        <strong class="blockpy-feedback-label"\n            data-bind="text: execution.feedback.label"></strong>\n        <div class="blockpy-feedback-message"\n            data-bind="html: execution.feedback.message"></div>\n    </div>\n</div>            \n',s=function(){function t(e,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=e,this.tag=n,this.feedbackModel=this.main.model.execution.feedback,this.category=this.tag.find(".blockpy-feedback-category"),this.label=this.tag.find(".blockpy-feedback-label"),this.message=this.tag.find(".blockpy-feedback-message"),this.positive=this.tag.find(".blockpy-feedback-positive"),this.main.model.submission.code.subscribe((function(){return i.main.model.display.dirtySubmission(!0)}))}var n,o,s;return n=t,s=[{key:"findFirstErrorLine",value:function(e){if(e.quick$lookup){var t=e.quick$lookup(new Sk.builtin.str("location"));if(t){var n=t.tp$getattr(new Sk.builtin.str("line"));if(n)return Sk.ffi.remapToJs(n)}}return null}}],(o=[{key:"scrollIntoView",value:function(){e("html, body").animate({scrollTop:this.tag.offset().top},1e3)}},{key:"isFeedbackVisible",value:function(){var t=this.tag.offset().top,n=t+100,i=e(window).scrollTop()+e(window).height(),o=e(window).scrollTop();return t<i&&o<n}},{key:"clear",value:function(){this.feedbackModel.message("*就绪*"),this.feedbackModel.category(null),this.feedbackModel.label(null),this.feedbackModel.hidden(!1),this.feedbackModel.linesError.removeAll(),this.feedbackModel.linesUncovered.removeAll(),this.clearPositiveFeedback()}},{key:"updateRegularFeedback",value:function(){}},{key:"updateFeedback",value:function(e){var n=this,i=Sk.ffi.remapToJs(e.MESSAGE),o=Sk.ffi.remapToJs(e.CATEGORY),s=Sk.ffi.remapToJs(e.LABEL),r=(Sk.ffi.remapToJs(e.HIDE),e.DATA),a=Sk.ffi.remapToJs(e.POSITIVE);this.main.model.assignment.hidden()&&"complete"===o.toLowerCase()&&(o="no errors",s="No errors",i="No errors reported."),"instructor"===o.toLowerCase()&&"explain"===s.toLowerCase()&&(s="Instructor Feedback"),"Instructor"===o&&"No errors"===s&&(o="no errors"),i=this.main.utilities.markdown(i).replace(/<pre>\n/g,"<pre>\n\n"),this.feedbackModel.message(i),this.feedbackModel.category(o),this.feedbackModel.label(s),this.message.find("pre code").map((function(e,t){window.hljs.highlightBlock(t)})),this.main.components.server.logEvent("Intervention",o,s,i,"answer.py"),this.main.components.pythonEditor.bm.clearHighlightedLines();var l=t.findFirstErrorLine(r);this.feedbackModel.linesError.removeAll(),null!=l&&this.feedbackModel.linesError.push(l);var c=this.main.model.execution.reports.student;if(this.feedbackModel.linesUncovered.removeAll(),c.success){var u=[];this.main.model.execution.reports.parser.lines.forEach((function(e){-1===c.lines.indexOf(e)&&u.push(e)})),this.feedbackModel.linesUncovered(u)}for(var d=function(e){var t=a[e];n.addPositiveFeedback(t.message,"star","green",(function(){return n.main.components.dialog.POSITIVE_FEEDBACK_FULL(t.title,t.message)}))},f=0;f<a.length;f+=1)d(f)}},{key:"clearPositiveFeedback",value:function(){this.positive.empty(),this.main.model.configuration.container.find(".blockpy-student-error").hide()}},{key:"addPositiveFeedback",value:function(t,n,i,o,s){var r=this,a=e("<span></span>");a.addClass("blockpy-feedback-positive-icon fas fa-"+n),a.css("color",i),a.attr("title",t),s?this.positive.append(a):this.positive.prepend(a),a.tooltip({trigger:"hover",container:this.main.model.configuration.attachmentPoint}),void 0!==o&&a.click(o),a.hover((function(){r.main.components.server.logEvent("X-Feedback","positive","hover",t,"")}))}},{key:"presentFeedback",value:function(e){this.updateFeedback(e),this.notifyFeedbackUpdate()}},{key:"notifyFeedbackUpdate",value:function(){this.isFeedbackVisible()||(this.tag.find(".blockpy-floating-feedback").show().fadeOut(7e3),this.scrollIntoView())}},{key:"presentRunError",value:function(e,t){var n,i;if(void 0===t&&(t=!1),i=e.tp$name,n=this.convertSkulptError(e),t)return n;this.feedbackModel.message(n),this.feedbackModel.category("runtime"),this.feedbackModel.label(i),this.feedbackModel.linesError.removeAll()}},{key:"convertSkulptError",value:function(e,t){var n=this,i=e.tp$name,o=Sk.ffi.remapToJs(e.args),s="".concat(i,": ").concat(o[0],"\n<br>\n<br>"),r="";return e.traceback&&e.traceback.length&&(r="Traceback:<br>\n"+e.traceback.map((function(e){var i=e.lineno;e.filename.slice(0,-3)===t&&(i-=n.main.model.execution.reports.instructor.lineOffset);var o='File <code class="filename">"'.concat(e.filename,'"</code>, '),s='on line <code class="lineno">'.concat(i,"</code>, "),r="<module>"!==e.scope&&void 0!==e.scope?"in scope ".concat(e.scope):"",a="";return void 0!==e.source&&(a="\n<pre><code>".concat(e.source,"</code></pre>")),o+s+r+a})).join("\n<br>"),r="".concat(r)),s+"\n"+r}},{key:"presentInternalError",value:function(e,t){this.main.model.execution.feedback.category("internal"),this.main.model.execution.feedback.label("Internal Error");var n="Error in instructor feedback. Please show the following to an instructor:<br>\n";n+=this.convertSkulptError(e,t),this.main.model.execution.feedback.message(n),this.notifyFeedbackUpdate()}}])&&i(n.prototype,o),s&&i(n,s),t}()}).call(this,n(5))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return F}));var i=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var p="\n    <div class='col-md-6 blockpy-panel blockpy-console'\n          role=\"region\" aria-label=\"Console\"\n          data-bind=\"class: ui.console.size\">\n          \n        \x3c!-- Feedback/Trace Visibility Control --\x3e\n        <button type='button'\n                class='btn btn-sm btn-outline-secondary float-right blockpy-show-feedback'\n                data-bind=\"hidden: ui.secondRow.isConsoleShowVisible, click: ui.secondRow.advanceState\">\n            <span class='fas fa-eye'></span>\n        </button>\n          \n        <strong>控制台:</strong>\n        \n        <div class='blockpy-printer blockpy-printer-default'>\n        </div>\n        \n     </div>",m="text",h="plot",b="image",y="turtle",v="start_eval",g="value",k="input",S=function(){function t(n,i,o){u(this,t),this.main=n,this.type=i,this.content=o,this.origin={filename:Sk.currFilename,step:n.components.engine.executionBuffer.step,line:n.components.engine.executionBuffer.line},this.html=e("<div></div>",{class:"blockpy-printer-output","data-container":n.model.configuration.attachmentPoint,"data-toggle":"tooltip","data-placement":"auto","data-step":this.origin.step,title:"Step "+this.origin.step+", Line "+this.origin.line}),this.visible=!n.model.display.mutePrinter(),this.index=0}return f(t,[{key:"toSkulpt",value:function(){return Sk.ffi.remapToPy(this.content)}},{key:"delete",value:function(){this.html.remove()}}]),t}(),_=function(t){s(i,t);var n=a(i);function i(e){var t;return u(this,i),(t=n.call(this,e,y)).html.addClass("blockpy-console-turtle-output"),t}return f(i,[{key:"render",value:function(t){if(this.visible){t.prepend(this.html);this.html.position().top;e("html").scrollTop(0)}}}]),i}(S),w=function(e){s(n,e);var t=a(n);function n(e,i){var o;return u(this,n),(o=t.call(this,e,b,i)).html.addClass("blockpy-console-image-output"),o}return f(n,[{key:"render",value:function(e){this.visible&&(console.log(this.content),this.html.append(this.content),e.append(this.html))}}]),n}(S),x=function(e){s(n,e);var t=a(n);function n(e,i){var o;return u(this,n),(o=t.call(this,e,h,i)).html.addClass("blockpy-console-plot-output"),o}return f(n,[{key:"render",value:function(e){this.visible&&e.append(this.html)}}]),n}(S),E=function(t){s(o,t);var n=a(o);function o(){return u(this,o),n.apply(this,arguments)}return f(o,[{key:"addContent",value:function(e){this.content=this.content+e}},{key:"render",value:function(t){if(this.visible){var n=Object(i.b)(this.content);(!n||n.trim().length<=0)&&(n="\n");var o=e("<samp></samp>",{html:n});this.html.append(o),t.append(this.html),this.html.tooltip()}}}]),o}(S),O=function(t){s(o,t);var n=a(o);function o(e,t){return u(this,o),n.call(this,e,g,t)}return f(o,[{key:"render",value:function(t){if(this.visible){var n=Object(i.b)(this.content),o=e("<code></code>",{html:n});this.html.append(o),t.append(this.html),this.html.tooltip()}}}]),o}(S),R=function(t){s(o,t);var n=a(o);function o(e,t){var i;return u(this,o),(i=n.call(this,e,k,t)).visible=!0,i}return f(o,[{key:"render",value:function(t){if(this.visible){var n=e("<input type='text' />"),o=e("<button></button>",{html:"Enter"}),s=e("<div></div>",{class:"blockpy-console-input"});s.append(n),s.append(o);var r=e("<div></div>");if("\n"!==this.content){var a=Object(i.b)(this.content),l=e("<samp></samp>",{html:a});r.append(l)}return r.append(e("<br>")).append(s),this.html.append(r),t.append(this.html),this.makeInteractive(n,o)}return""}},{key:"makeInteractive",value:function(e,t){var n,i=this,o=new Promise((function(e){n=e})),s=this.main.model.execution.inputIndex(),r=function(){var o=e.val();Sk.queuedInput.push(o),i.main.model.execution.inputIndex(s+1),i.main.model.execution.input().push(o),n(o),e.prop("disabled",!0),t.prop("disabled",!0),i.html.tooltip()};if(t.click(r),e.keyup((function(e){13===e.keyCode&&r()})),e.focus(),s<this.main.model.execution.input().length){var a=this.main.model.execution.input()[s];return e.val(a),this.main.model.execution.inputIndex(s+1),new Promise((function(n){e.prop("disabled",!0),t.prop("disabled",!0),i.html.tooltip(),n(a)}))}return o}}]),o}(S),T=function(e){s(n,e);var t=a(n);function n(e){return u(this,n),t.call(this,e,"Evaluate:")}return n}(R),I=function(t){s(i,t);var n=a(i);function i(t){var o;return u(this,i),(o=n.call(this,t,v)).html.append(e('\n<button type="button" class="btn btn-sm btn-outline float-right blockpy-btn-eval">\n    Evaluate\n</button>')),o.html.click((function(){o.main.model.ui.execute.evaluate(),o.delete()})),o}return f(i,[{key:"render",value:function(e){e.append(this.html)}}]),i}(S),F=function(){function t(e,n){u(this,t),this.main=e,this.tag=n,this.printerTag=n.find(".blockpy-printer"),this.MINIMUM_WIDTH=200,this.MINIMUM_HEIGHT=200,this.DEFAULT_HEIGHT=this.printerTag.height(),this.main.model.display.previousConsoleHeight(this.DEFAULT_HEIGHT),this.output=this.main.model.execution.output,this.settings={},this.clear()}return f(t,[{key:"clear",value:function(){this.output.removeAll(),this.lineBuffer=null,this.plotBuffer=null,this.printerTag.empty(),this.main.model.display.previousConsoleHeight()===this.printerTag.height()&&(this.printerTag.height(this.DEFAULT_HEIGHT),this.main.model.display.previousConsoleHeight(this.printerTag.height())),this.turtleLine=null,Sk.TurtleGraphics={target:this.getTurtleLine.bind(this),width:this.getWidth(),height:this.getHeight(),assets:this.loadAsset.bind(this)}}},{key:"loadAsset",value:function(e){return e}},{key:"getTurtleLine",value:function(){if(null===this.turtleLine&&(this.turtleLine=new _(this.main),this.turtleLine.render(this.printerTag),this.main.model.display.previousConsoleHeight()===this.printerTag.height())){var e=this.printerTag.width();this.printerTag.height(e),this.main.model.display.previousConsoleHeight(this.printerTag.height()),Sk.TurtleGraphics.height=e-40}return this.turtleLine.html[0]}},{key:"finishTurtles",value:function(){if(this.main.model.assignment.settings.saveTurtleOutput()){var e=this.turtleLine.html.find("canvas").last()[0],t=(e.getContext("2d"),new Image,e.toDataURL("image/png"));this.main.components.server.saveImage("turtle_output",t)}}},{key:"newTurtle",value:function(){return this}},{key:"getWidth",value:function(){return Math.max(this.MINIMUM_WIDTH,this.printerTag.width()-40)}},{key:"getHeight",value:function(){return Math.max(this.MINIMUM_HEIGHT,this.printerTag.height()+40)}},{key:"isMuted",value:function(){return this.main.model.display.mutePrinter()}},{key:"stepPrinter",value:function(t,n){this.printerTag.find(".blockpy-printer-output").each((function(){e(this).attr("data-step")<=t?e(this).show():e(this).hide()}))}},{key:"print",value:function(e){if(e){var t=!1;"\n"===e.charAt(e.length-1)&&(t=!0);var n=e.split("\n");null===this.lineBuffer?this.lineBuffer=new E(this.main,m,n[0]):this.lineBuffer.addContent(n[0]);for(var i=1;i<n.length-1;i++)this.output.push(this.lineBuffer),this.lineBuffer.render(this.printerTag),this.lineBuffer=new E(this.main,m,n[i]);t&&(this.output.push(this.lineBuffer),this.lineBuffer.render(this.printerTag),this.lineBuffer=null)}}},{key:"plot",value:function(e){return this.plotBuffer=new x(this.main,e),this.plotBuffer.render(this.printerTag),this.plotBuffer}},{key:"printPILImage",value:function(e){return console.log("TEST",e.image),this.imageBuffer=new w(this.main,e.image),this.imageBuffer.render(this.printerTag),this.imageBuffer}},{key:"printValue",value:function(e){var t=new O(this.main,e);return t.render(this.printerTag),t}},{key:"input",value:function(e){return this.inputBuffer=new R(this.main,e),this.inputBuffer.render(this.printerTag)}},{key:"evaluate",value:function(){return this.inputBuffer=new T(this.main),this.inputBuffer.render(this.printerTag)}},{key:"beginEval",value:function(){return new I(this.main).render(this.printerTag)}},{key:"scrollToBottom",value:function(){this.tag.animate({scrollTop:this.tag.prop("scrollHeight")-this.tag.prop("clientHeight")},500)}}]),t}()}).call(this,n(5))},function(e,n){e.exports=t},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){var t;function n(e,t){this.lastResult=t,this.lastError=e}t={__name__:"image"},Sk.PIL||(Sk.PIL={assets:{}}),n.prototype.then=function(e){if(this.lastError)return this;try{this.lastResult=e(this.lastResult)}catch(e){this.lastResult=void 0,this.lastError=e}return this.lastResult instanceof Promise?this.lastResult:this},n.prototype.catch=function(e){if(this.lastError)try{this.lastResult=e(this.lastError),this.lastError=void 0}catch(e){this.lastResult=void 0,this.lastError=e}return this.lastResult instanceof Promise?this.lastResult:this};function i(e){return new Promise((function(t,n){if(void 0!==Sk.PIL.assets[e])t(Sk.PIL.assets[e]);else{var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){Sk.PIL.assets[e]=i,t(i)},i.onerror=function(){n(e)},i.src=e}}))}return t.Image=Sk.misceval.buildClass(t,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){Sk.builtin.pyCheckArgs("__init__",arguments,2,2),Sk.builtin.pyCheckType("file_or_url","string",Sk.builtin.checkString(t)),e.file_or_url=t;var n=i(Sk.ffi.remapToJs(t)),o=new Sk.misceval.Suspension;return e.image=Sk.builtin.none.none$,o.resume=function(){if(o.data.error)throw o.data.error},o.data={type:"Sk.promise",promise:n.then((function(t){e.image=t,e.canvas=document.createElement("canvas"),e.canvas.width=e.image.width,e.canvas.height=e.image.height,e.canvas.getContext("2d").drawImage(e.image,0,0,e.image.width,e.image.height),e.pixels=e.canvas.getContext("2d").getImageData(0,0,e.image.width,e.image.height).data}),(function(t){throw e.image="",t}))},o})),t.show=new Sk.builtin.func((function(e){if(void 0===Sk.console)throw new Sk.builtin.NameError("Can not resolve drawing area. Sk.console is undefined!");var t={image:e.image,file_or_url:e.file_or_url};Sk.console.printPILImage(t)})),t.flip=new Sk.builtin.func((function(e){if(e.image.style.transform="scaleX(-1)",void 0===Sk.console)throw new Sk.builtin.NameError("Can not resolve drawing area. Sk.console is undefined!");return e}))}),"Image",[]),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ke}));var i=n(0),o=n(1);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r="let $builtinmodule = function(mod){ return mod; }",a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.filename=null,this.code=null,this.sysmodules=void 0}var t,n,i;return t=e,i=[{key:"inputMockFunction",value:function(){return Sk.queuedInput.length?Sk.queuedInput.pop():""}}],(n=[{key:"use",value:function(e){var t=this;return this.engine=e,Sk.executionReports=this.main.model.execution.reports,Sk.console=this.main.components.console,Sk.queuedInput=[],Sk.configure(this.getSkulptOptions()),Sk.inBrowser=this.openFile.bind(this),Sk.requestsGet=function(e,n,i){return t.openURL(e,n,i)},this}},{key:"getSkulptOptions",value:function(){return{__future__:Sk.python3,read:this.importFile.bind(this),filewrite:this.writeFile.bind(this),output:this.print.bind(this),inputfun:this.input.bind(this),inputfunTakesPrompt:!0,imageProxy:this.getImageProxy.bind(this),retainGlobals:!0}}},{key:"importFile",value:function(e){console.warn("Unimplemented method!")}},{key:"openURL",value:function(e,t,n){var i=this.main.components.fileSystem.getFile("?mock_urls.blockpy");if(null==i)throw new Sk.builtin.IOError("Cannot access url: URL Data was not made available for this assignment");for(var o in i=JSON.parse(i.handle()))if(i.hasOwnProperty(o))for(var s=0;s<i[o].length;s+=1)if(i[o][s]===e)return this.main.components.fileSystem.readFile(o);throw new Sk.builtin.IOError("Cannot access url: "+e+" was not made available for this assignment")}},{key:"openFile",value:function(){console.warn("Unimplemented method!")}},{key:"writeFile",value:function(){console.warn("Unimplemented method!")}},{key:"print",value:function(e){this.main.components.console.print(e)}},{key:"input",value:function(){console.warn("Unimplemented method!")}},{key:"clearInput",value:function(){this.main.model.display.clearInputs()&&this.main.model.execution.input([]),this.main.model.execution.inputIndex(0)}},{key:"getImageProxy",value:function(e){return e}},{key:"step",value:function(){}},{key:"lastStep",value:function(){}},{key:"isForbidden",value:function(e){return!1}},{key:"success",value:function(e){throw new Error("Abstract success execution")}},{key:"failure",value:function(e){throw new Error("Abstract failure execution")}},{key:"dummyOutSandbox",value:function(){}}])&&s(t.prototype,n),i&&s(t,i),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b="var $builtinmodule = "+function(){var e={},t=Sk.builtin.none.none$,n=null;e.timeit=new Sk.builtin.func((function(e){var t;Sk.builtin.pyCheckArgs("timeit",arguments,1,1),t=null===n?0:Date.now()-n,console.log(Sk.ffi.remapToJs(e),t/1e3),n=Date.now()})),e.console_log=new Sk.builtin.func((function(){console.log(Array.prototype.slice.call(arguments).map(Sk.ffi.remapToJs))})),e.console_debug=new Sk.builtin.func((function(){console.log(arguments)})),e.get_output=new Sk.builtin.func((function(){if(Sk.builtin.pyCheckArgs("get_output",arguments,0,0),Sk.executionReports.student.success){var e=Sk.executionReports.student.output();return e=e.map((function(e){return e.toSkulpt()})),new Sk.builtin.list(e)}return new Sk.builtin.list([])})),e.reset_output=new Sk.builtin.func((function(){return Sk.builtin.pyCheckArgs("reset_output",arguments,0,0),Sk.executionReports.student.success&&Sk.executionReports.student.output.removeAll(),Sk.builtin.none.none$})),e.get_program=new Sk.builtin.func((function(){return Sk.builtin.pyCheckArgs("get_program",arguments,0,0),Sk.ffi.remapToPy(Sk.executionReports.verifier.code)})),e.get_evaluation=new Sk.builtin.func((function(){return Sk.builtin.pyCheckArgs("get_evaluation",arguments,0,0),Sk.ffi.remapToPy(Sk.executionReports.student.evaluation||"")})),e.trace_lines=new Sk.builtin.func((function(){if(Sk.executionReports.student.success){var e=Sk.executionReports.student.realLines;return Sk.ffi.remapToPy(e)}return new Sk.builtin.list([])})),e.get_student_error=new Sk.builtin.func((function(){if(Sk.builtin.pyCheckArgs("get_student_error",arguments,0,0),Sk.executionReports.student.success)return new Sk.builtin.tuple([t,t]);var e=Sk.executionReports.student.error,n={};return e&&e.traceback&&e.traceback.length>0?n.line=e.traceback[0].lineno:e=t,n=Sk.ffi.remapToPy(n),new Sk.builtin.tuple([e,n])})),e.had_execution_time_error=new Sk.builtin.func((function(){return Sk.builtin.pyCheckArgs("had_execution_time_error",arguments,0,0),!Sk.executionReports.student.success&&Sk.executionReports.student.error&&"TimeLimitError"===Sk.executionReports.student.error.tp$name}));var i=void 0;return e.limit_execution_time=new Sk.builtin.func((function(){Sk.builtin.pyCheckArgs("limit_execution_time",arguments,0,0),i=Sk.execLimit,Sk.execLimitFunction&&(Sk.execLimit=Sk.execLimitFunction(),Sk.execStart=Date.now())})),e.unlimit_execution_time=new Sk.builtin.func((function(){Sk.builtin.pyCheckArgs("unlimit_execution_time",arguments,0,0),Sk.execLimit=i,Sk.execStart=Date.now()})),e.suppress_scrolling=new Sk.builtin.func((function(){Sk.builtin.pyCheckArgs("suppress_scrolling",arguments,0,0),Sk.executionReports.instructor.scrolling=!0})),e.get_plots=new Sk.builtin.func((function(){if(Sk.builtin.pyCheckArgs("get_plots",arguments,0,0),Sk.executionReports.student.success){var e=Sk.executionReports.student.output();return e=e.filter((function(e){return"plot"===e.type})).map((function(e){return{data:e.content.map((function(e){var t={type:e.type,label:""};return"line"===e.type||"scatter"===e.type?(t.x=e.data.map((function(e){return e.x})),t.y=e.data.map((function(e){return e.y}))):"hist"===e.type&&(t.values=e.data),t})),xlabel:"",ylabel:"",title:"",legend:!1}})),Sk.ffi.remapToPy(e)}return Sk.ffi.remapToPy([])})),e.StudentData=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func((function(e){var t=new Sk.builtin.dict;if(Sk.abstr.sattr(e,new Sk.builtin.str("data"),t,!0),e.module=Sk.executionReports.student.results,void 0!==e.module)for(var n in e.module=e.module.$d,e.module)e.module.hasOwnProperty(n)&&Sk.abstr.objectSetItem(t,Sk.ffi.remapToPy(Sk.unfixReserved(n)),e.module[n]);else e.module={};return Sk.builtin.none.none$}));var n=function(e){Sk.builtin.pyCheckArgsLen("call",arguments.length,1,1/0,!0,!0);var t=Array.prototype.slice.call(arguments,1),n=new Sk.builtins.dict(e),i=t[0],o=t[1];t=t.slice(2);var s=n.mp$lookup(new Sk.builtin.str("inputs"));void 0!==s&&((s=Sk.ffi.remapToJs(s)).constructor===Array?s.forEach((function(e){Sk.queuedInput.push(e)})):Sk.queuedInput.push(input));var r=i.tp$getattr(new Sk.builtin.str("data")),a=r.mp$lookup(o),l=a.tp$call(t);return l};n.co_kwargs=!0,n.co_name=new Sk.builtin.str("call"),t.call_$rn$=new Sk.builtin.func(n),t.__repr__=new Sk.builtin.func((function(e){return new Sk.builtin.str("")})),t.get_names_by_type=new Sk.builtin.func((function(e,t,n){Sk.builtin.pyCheckArgs("get_names_by_type",arguments,2,3),void 0===n?n=!0:(Sk.builtin.pyCheckType("exclude_builtins","boolean",Sk.builtin.checkBool(n)),n=Sk.ffi.remapToJs(n));var i=[];for(var o in e.module)if(e.module.hasOwnProperty(o)&&e.module[o].tp$name===t.tp$name){if(n&&o.startsWith("__"))continue;i.push(Sk.ffi.remapToPy(Sk.unfixReserved(o)))}return new Sk.builtin.list(i)})),t.get_values_by_type=new Sk.builtin.func((function(e,t,n){Sk.builtin.pyCheckArgs("get_values_by_type",arguments,2,3),void 0===n?n=!0:(Sk.builtin.pyCheckType("exclude_builtins","boolean",Sk.builtin.checkBool(n)),n=Sk.ffi.remapToJs(n));var i=[];for(var o in e.module)if(e.module.hasOwnProperty(o)&&e.module[o].tp$name===t.tp$name){if(n&&o.startsWith("__"))continue;i.push(e.module[o])}return new Sk.builtin.list(i)}))}),"StudentData"),e.student=Sk.misceval.callsimOrSuspend(e.StudentData),e.get_student_data=new Sk.builtin.func((function(){return Sk.builtin.pyCheckArgs("get_student_data",arguments,0,0),e.student})),e.set_instructions=new Sk.builtin.func((function(e){Sk.builtin.pyCheckArgs("set_instructions",arguments,1,2),e=Sk.ffi.remapToJs(e),Sk.executionReports.model.display.changedInstructions(e)})),e.get_model_info=new Sk.builtin.func((function(e){Sk.builtin.pyCheckArgs("get_model_info",arguments,1,1);var t=Sk.executionReports.model;e=Sk.ffi.remapToJs(e).split(".");for(var n=0;n<e.length;n++)t=t[e[n]];return Sk.ffi.remapToPy(t())})),e}.toString(),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,i,o=p(s);function s(){return c(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"use",value:function(e){var t=this;d(h(s.prototype),"use",this).call(this,e),Sk.execLimitFunction=function(){return t.main.model.assignment.settings.disableTimeout()?1/0:7e3},Sk.execLimit=Sk.execLimitFunction(),Sk.afterSingleExecution=null,this.main.model.display.mutePrinter(!0),Sk.queuedInput=[],Sk.builtinFiles.files["src/lib/utility/__init__.js"]=b,Sk.builtinFiles.files["src/lib/coverage.py"]='\n"""\nHideous fill-in replacement for Coverage, leveraging some magic from the\nUtility function. The data this returns is false - it doesn\'t actually\ndescribe the missing lines and all lines; it just describes the traced lines.\nBut since Pedal doesn\'t need the other two, it works out fine when you do:\n\nstatements - missing\n"""\n\nimport utility\n\nclass Coverage:\n    def start(self):\n        pass\n\n    def stop(self):\n        pass\n\n    def save(self):\n        pass\n\n    def _analyze(self, filename: str):\n        lines = set(utility.trace_lines())\n        # lines will be the lines that were actually executed\n        return Analysis(None, len(lines), None, set(), lines)\n\n\nclass Numbers:\n    def __init__(self, n_missing, n_statements, pc_covered):\n        self.n_missing = n_missing\n        self.n_statements = n_statements\n        self.pc_covered = pc_covered\n\n\nclass Analysis:\n    def __init__(self, n_missing, n_statements, pc_covered, missing, statements):\n        self.missing = missing\n        self.statements = statements\n        self.numbers = Numbers(n_missing, n_statements, pc_covered)\n\n\nclass python:\n    def get_python_source(self):\n        return None\n',Sk.builtinFiles.files["./_instructor/__init__.js"]=r,this.sysmodules=this.main.model.execution.instructor.sysmodules;var n=new Sk.builtin.str("__main__");return void 0!==this.sysmodules&&this.sysmodules.quick$lookup(n)&&this.sysmodules.del$item(n),this}},{key:"openFile",value:function(e){var t=this.main.components.fileSystem.searchForFile(e,!1);if(void 0===t)throw new Sk.builtin.OSError("File not found: "+e);return t.contents()}},{key:"importFile",value:function(e){if("./answer.py"===e)return this.main.model.submission.code();if("./_instructor/on_run.py"===e)return this.main.model.assignment.onRun();if("./_instructor/on_eval.py"===e)return this.main.model.assignment.onEval()||"";if("./_instructor/__init__.js"===e)return r;if(void 0===Sk.builtinFiles)throw new Sk.builtin.OSError("Built-in modules not accessible.");if(void 0!==Sk.builtinFiles.files[e])return Sk.builtinFiles.files[e];var t=this.main.components.fileSystem.searchForFile(e,!1);if(void 0===t)throw new Sk.builtin.OSError("File not found: '"+e+"'");return t.contents()}},{key:"input",value:function(e){if(this.main.model.execution.inputIndex()<this.main.model.execution.input().length){var t=this.main.model.execution.inputIndex(),n=this.main.model.execution.input()[t];return this.main.model.execution.inputIndex(t+1),n}return"ApplePie"}}])&&u(t.prototype,n),i&&u(t,i),s}(a);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=/\r\n|\r|\n/,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,s,r=w(a);function a(){return g(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"use",value:function(e){S(E(a.prototype),"use",this).call(this,e),this.filename="_instructor.on_run",this.code=this.main.model.assignment.onRun();var t=this.main.model.assignment.settings.disableTifa(),n=this.main.model.execution.reports,i=this.main.model.submission.code();this.dummyOutSandbox();var s=this.code;return s.split(O).length,s=function(e,t,n,i){var s=JSON.stringify(e);return Object(o.d)(Object(o.d)(i?e:"pass")),"\n# Support our sysmodules hack by clearing out any lingering old data\nfrom pedal.core.report import MAIN_REPORT\nMAIN_REPORT.clear()\n\nfrom cisc108 import student_tests\nstudent_tests.reset()\n\nfrom utility import *\n\n# Load in some commonly used tools\nfrom pedal.cait.cait_api import parse_program\nfrom pedal.sandbox.commands import *\nfrom pedal.core.commands import *\n\nfrom pedal.environments.blockpy import setup_environment\n# Do we execute student's code?\nskip_run = get_model_info('assignment.settings.disableInstructorRun')\ninputs = None if skip_run else get_model_info('execution.input')\n\n# Initialize the BlockPy environment\npedal = setup_environment(skip_tifa=".concat(n?"True":"False",",\n                          skip_run=skip_run,\n                          inputs=inputs,\n                          main_file='answer.py',\n                          main_code=").concat(s,")\nstudent = pedal.fields['student']\n\n# TODO: Refactor resolver to return instructions\n# Monkey-patch questions\n#from pedal import questions\n#questions.show_question = set_instructions\n\n# Run the actual instructor code\n").concat(t,'\n\n# Resolve everything\nfrom pedal.resolvers.simple import resolve\nfinal = resolve()\nSUCCESS = final.success\nSCORE = final.score\nCATEGORY = final.category\nLABEL = final.title\nMESSAGE = final.message\nDATA = final.data\nHIDE = final.hide_correctness\n\n# Handle questions\nif final.instructions:\n    set_instructions(final.instructions[-1].message)\n    \n# Handle positive feedback\nPOSITIVE = []\nfor positive in final.positives:\n    message = positive.message\n    if not positive:\n        message = positive.else_message\n    POSITIVE.append({\n        "title": positive.title,\n        "label": positive.label,\n        "message": message\n    })\n    \n# Handle system messages\nfor system in final.systems:\n    if system.label == \'log\':\n        console_log(system.title, system.message);\n    if system.label == \'debug\':\n        console_debug(system.title, system.message);\n\n')}(i,s,t,!n.parser.empty&&n.verifier.success),n.instructor={compliments:[],filename:"./_instructor/on_run.py",code:s,lineOffset:0},this.code=s,Sk.retainGlobals=!1,this}},{key:"success",value:function(e){this.main.model.execution.instructor.globals=Sk.globals,this.main.model.execution.instructor.sysmodules=Sk.sysmodules,Sk.globals={};var t=e.$d.on_run.$d;this.main.components.feedback.presentFeedback(t),this.main.model.execution.reports.instructor.success=!0;var n=Sk.ffi.remapToJs(t.SUCCESS);this.main.model.submission.correct(n||this.main.model.submission.correct());var o=Sk.ffi.remapToJs(t.SCORE);o=Math.max(0,Math.min(1,o));var s=this.main.model.submission.score();o=Math.max(s,o),this.main.model.submission.score(o);var r=Sk.ffi.remapToJs(t.HIDE);if(this.main.components.server.updateSubmission(o,n,r,!1),this.main.model.status.onExecution(i.b.READY),!Sk.executionReports.instructor.scrolling)try{this.main.components.console.scrollToBottom()}catch(e){}}},{key:"failure",value:function(e){console.log("OnRun failure");var t=this.main.model.execution.reports;"GracefulExit"===e.tp$name?(t.instructor.success=!0,this.main.model.status.onExecution(i.b.READY)):(this.main.model.status.onExecution(i.b.FAILED),console.error(e),this.main.components.feedback.presentInternalError(e,this.filename))}}])&&k(t.prototype,n),s&&k(t,s),a}(y);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(s,e);var t,n,i,o=A(s);function s(){return I(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"use",value:function(e){var t=this;return C(M(s.prototype),"use",this).call(this,e),this.main.model.settings,Sk.execLimitFunction=function(){return t.main.model.assignment.settings.disableTimeout()?1/0:5e3},Sk.execLimit=Sk.execLimitFunction(),Sk.afterSingleExecution=this.step.bind(this),this.main.model.display.mutePrinter(!1),Sk.builtinFiles.files["src/lib/utility/__init__.js"]=r,this}},{key:"openFile",value:function(e){var t=this.main.components.fileSystem.searchForFile(e,!0);if(void 0===t)throw new Sk.builtin.OSError("File not found: "+e);return t.contents()}},{key:"importFile",value:function(e){if(this.isForbidden(e))throw"File not accessible: '"+e+"'";if("./answer.py"===e)return this.main.model.submission.code();if(void 0===Sk.builtinFiles)throw new Sk.builtin.OSError("Built-in modules not accessible.");if(void 0!==Sk.builtinFiles.files[e])return Sk.builtinFiles.files[e];var t=this.main.components.fileSystem.searchForFile(e,!0);if(void 0===t)throw new Sk.builtin.OSError("File not found: '"+e+"'");return t.contents()}},{key:"input",value:function(e){return this.main.components.console.input(e)}},{key:"isForbidden",value:function(e){return e.startsWith("src/lib/utility/")||e.startsWith("src/lib/pedal/")||e.startsWith("./_instructor/")}},{key:"step",value:function(e,t,n,i,o,s){if("answer.py"===o){var r=this.engine.executionBuffer.step,a=this.main.components.trace.parseGlobals(a);this.engine.executionBuffer.trace.push({step:r,filename:o,line:n,column:i,properties:a.properties,modules:a.modules,isDocstring:s}),this.engine.executionBuffer.step=r+1,this.engine.executionBuffer.line=n}}},{key:"lastStep",value:function(){var e=this.main.model.execution;e.student.currentTraceData(this.engine.executionBuffer.trace),e.student.currentStep(this.engine.executionBuffer.step),e.student.lastStep(this.engine.executionBuffer.step),e.student.currentLine(this.engine.executionBuffer.line),e.student.lastLine(this.engine.executionBuffer.line),e.student.currentTraceStep(this.engine.executionBuffer.step)}},{key:"getLines",value:function(e){var t=new Set;return function e(n){void 0!==n.lineno&&t.add(n.lineno),n.body&&n.body.forEach((function(t){return e(t)})),n.orelse&&n.orelse.forEach((function(t){return e(t)})),n.finalbody&&n.finalbody.forEach((function(t){return e(t)}))}(e),Array.from(t)}},{key:"updateParse",value:function(){var e,t=this.main.model.execution.reports,n=[];try{var i=Sk.parse(this.filename,this.code);e=Sk.astFromParse(i.cst,this.filename,i.flags),n=this.getLines(e)}catch(e){return t.parser={success:!1,error:e,empty:!0,lines:n},console.error(e),console.log(this.filename,this.code),!1}return t.parser={success:!0,ast:e,empty:0===e.body.length,lines:n},!0}},{key:"showErrors",value:function(){var e=this.main.model.execution.reports;e.student.success?this.main.components.feedback.clear():this.main.components.feedback.presentRunError(e.student.error)}},{key:"provideSecretError",value:function(){var e=this,t=this.main.model.execution.reports,n=this.main.components.feedback;if(!t.student.success){var i=this.main.model.configuration.container.find(".blockpy-student-error"),o=n.presentRunError(t.student.error,!0);i.attr("title","Click to see Original Error"),i.tooltip({trigger:"hover",container:this.main.model.configuration.attachmentPoint}),i.click((function(){return e.main.components.dialog.ERROR_SHOW_STUDENT_ERROR(o)})),i.show()}}}])&&F(t.prototype,n),i&&F(t,i),s}(a);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function H(e,t,n){return(H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(r,e);var t,n,o,s=U(r);function r(){return B(this,r),s.apply(this,arguments)}return t=r,(n=[{key:"use",value:function(e){return this.main.model.execution.feedback.message("Running..."),this.filename="answer",this.code=this.main.model.submission.code(),this.main.components.server.saveFile("answer.py",this.code,null),this.main.components.server.logEvent("Compile","","","","answer.py"),H(G(r.prototype),"use",this).call(this,e),e.reset(),this.updateParse(),this.main.model.execution.reports.verifier={success:Boolean(this.code.trim()),code:this.code},Sk.retainGlobals=!1,this.clearInput(),this}},{key:"success",value:function(e){var t=this;console.log("Run success");var n={inputs:this.main.model.execution.input().join("\n"),outputs:this.main.model.execution.output().map((function(e){return e.content})).join("\n")};this.main.components.server.logEvent("Run.Program","","",JSON.stringify(n),"answer.py"),this.main.model.display.dirtySubmission(!1),this.main.components.console.finishTurtles(),this.main.model.status.onExecution(i.b.READY),this.main.model.execution.student.globals(Sk.globals),Sk.globals={};var o=this.main.model.execution.reports,s=this.filename;return this.main.model.execution.student.results=e,this.main.model.assignment.settings.hideEvaluate()||this.main.components.console.beginEval(),new Promise((function(n,i){t.step(e.$d,e.$d,-1,0,s+".py"),t.lastStep(),o.student={success:!0,trace:t.engine.executionBuffer.trace,lines:t.engine.executionBuffer.trace.map((function(e){return e.line})),realLines:t.engine.executionBuffer.trace.filter((function(e){return!e.isDocstring})).map((function(e){return e.line})),results:e,output:t.main.model.execution.output,input:t.main.model.execution.input},n()}))}},{key:"failure",value:function(e){var t=this;console.log("Run failure"),this.main.model.status.onExecution(i.b.FAILED);var n=this.main.model.execution.reports;return n.parser.success&&n.verifier.success?this.main.components.server.logEvent("Compile.Error","","",e.toString(),"answer.py"):this.main.components.server.logEvent("Run.Program","ProgramErrorOutput","",e.toString(),"answer.py"),new Promise((function(i,o){n.student={success:!1,error:e,lines:t.engine.executionBuffer.trace.map((function(e){return e.line})),realLines:t.engine.executionBuffer.trace.filter((function(e){return!e.isDocstring})).map((function(e){return e.line})),input:t.main.model.execution.input},console.error(e),i()}))}}])&&N(t.prototype,n),o&&N(t,o),r}(j);n(9);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function X(e,t,n){return(X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Q(this,n)}}function Q(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(r,e);var t,n,o,s=z(r);function r(){return J(this,r),s.apply(this,arguments)}return t=r,(n=[{key:"use",value:function(e,t){return this.main.model.execution.feedback.message("Running..."),this.filename="answer",this.code="_ = "+t,Sk.afterSingleExecution=null,X(Z(r.prototype),"use",this).call(this,e),Sk.retainGlobals=!0,Sk.globals=this.main.model.execution.student.globals(),this.main.components.server.logEvent("X-File.Add","","",t,"evaluations"),this.main.components.server.logEvent("Compile","","",this.code,"evaluations"),this}},{key:"success",value:function(e){var t=this;console.log("Eval success"),this.main.components.server.logEvent("X-Evaluate.Program","","","","evaluations"),this.main.model.status.onExecution(i.b.READY),this.main.model.execution.student.globals(Sk.globals),Sk.globals={};var n=this.main.model.execution.reports;return this.filename,this.main.model.execution.student.results=e,this.main.components.console.printValue(Sk.ffi.remapToJs(e.$d._.$r())),new Promise((function(i,o){t.lastStep(),n.student={success:!0,trace:t.engine.executionBuffer.trace,lines:t.engine.executionBuffer.trace.map((function(e){return e.line})),realLines:t.engine.executionBuffer.trace.filter((function(e){return!e.isDocstring})).map((function(e){return e.line})),results:e,output:t.main.model.execution.output,evaluation:t.code},i()}))}},{key:"failure",value:function(e){var t=this;console.log("Eval failure"),this.main.model.status.onExecution(i.b.FAILED);var n=this.main.model.execution.reports;return this.main.components.server.logEvent("Compile.Error","","",e.toString(),"evaluations"),new Promise((function(i,o){n.student={success:!1,error:e,evaluation:t.code},console.error(e),i()}))}}])&&W(t.prototype,n),o&&W(t,o),r}(j);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oe(e,t,n){return(oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=le(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return ae(this,n)}}function ae(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(s,e);var t,n,i,o=re(s);function s(){return ne(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"use",value:function(e){return oe(le(s.prototype),"use",this).call(this,e),this.filename="on_change.py",this.code=this.main.model.assignment.onChange(),clearTimeout(this.main.model.display.triggerOnChange),this}}])&&ie(t.prototype,n),i&&ie(t,i),s}(y);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pe(e,t,n){return(pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ye(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return be(this,n)}}function be(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,e);var t,n,s,r=he(a);function a(){return de(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"use",value:function(e){pe(ye(a.prototype),"use",this).call(this,e),this.filename="_instructor.on_eval",this.code=this.main.model.assignment.onEval()||"",this.main.model.assignment.settings.disableTifa();var t=this.main.model.execution.reports,n=this.main.model.execution.reports.student.evaluation||"None";this.dummyOutSandbox();var i=this.code,s=i.split(O).length;return s=(i=function(e,t,n,i){var s=JSON.stringify(e);return Object(o.d)(Object(o.d)(i?e:"None")),"\nfrom utility import *\n\n# Load in some commonly used tools\nfrom pedal.cait.cait_api import parse_program\nfrom pedal.sandbox.commands import *\nfrom pedal.core.commands import *\n\n# Backup the feedback\non_run_feedback = []\nfor feedback in MAIN_REPORT.feedback:\n    on_run_feedback.append(feedback)\nMAIN_REPORT.feedback.clear()\n\nfrom pedal.environments.blockpy import setup_environment\n# Add in evaluated stuff from last time\nstudent = get_sandbox()\n# TODO: What about new inputs since we last ran/evaled?\nMAIN_REPORT.submission.files['evaluation'] = ".concat(s,"\nevaluate(").concat(s,")\n\n# TODO: Refactor resolver to return instructions\n# Monkey-patch questions\n#from pedal import questions\n#questions.show_question = set_instructions\n\n# Run the actual instructor code\n").concat(t,'\n\n# Resolve everything\nfrom pedal.resolvers.simple import resolve\nfinal = resolve()\nSUCCESS = final.success\nSCORE = final.score\nCATEGORY = final.category\nLABEL = final.title\nMESSAGE = final.message\nDATA = final.data\nHIDE = final.hide_correctness\n\n# Handle questions\nif final.instructions:\n    set_instructions(final.instructions[-1].message)\n    \n# Handle positive feedback\nPOSITIVE = []\nfor positive in final.positives:\n    message = positive.message\n    if not positive:\n        message = positive.else_message\n    POSITIVE.append({\n        "title": positive.title,\n        "label": positive.label,\n        "message": message\n    })\n    \n# Handle system messages\nfor system in final.systems:\n    if system.label == \'log\':\n        console_log(system.title, system.message);\n    if system.label == \'debug\':\n        console_debug(system.title, system.message);\n\n')}(n,i,0,!t.parser.empty&&t.verifier.success)).split(O).length-s,t.instructor={compliments:[],filename:"./_instructor/on_eval.py",code:i,lineOffset:s},this.code=i,pe(ye(a.prototype),"use",this).call(this,e),Sk.globals=this.main.model.execution.instructor.globals,this}},{key:"success",value:function(e){console.log("OnEval success"),this.main.model.execution.instructor.globals=Sk.globals,this.main.model.execution.instructor.sysmodules=Sk.sysmodules,console.log(e);var t=e.$d.on_eval.$d;console.log(e.$d),this.main.components.feedback.presentFeedback(t),this.main.model.execution.reports.instructor.success=!0;var n=Sk.ffi.remapToJs(t.SUCCESS);this.main.model.submission.correct(n||this.main.model.submission.correct());var o=Sk.ffi.remapToJs(t.SCORE);o=Math.max(0,Math.min(1,o));var s=this.main.model.submission.score();this.main.model.submission.score(Math.max(s,o));var r=Sk.ffi.remapToJs(t.HIDE);if(this.main.components.server.updateSubmission(o,n,r,!1),this.main.model.status.onExecution(i.b.READY),!Sk.executionReports.instructor.scrolling)try{this.main.components.console.scrollToBottom()}catch(e){}}},{key:"failure",value:function(e){console.log("OnEval failure");var t=this.main.model.execution.reports;"GracefulExit"===e.tp$name?(t.instructor.success=!0,this.main.model.status.onExecution(i.b.READY)):(this.main.model.status.onExecution(i.b.FAILED),console.error(e),this.main.components.feedback.presentInternalError(e,this.filename))}}])&&fe(t.prototype,n),s&&fe(t,s),a}(y);function ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.executionModel=this.main.model.execution,this.configurations={run:new Y(t),eval:new ee(t),onRun:new R(t),onChange:new ce(t),onEval:new ve(t)},Sk.configure(this.configurations.run.getSkulptOptions()),this.executionBuffer={},this.onExecutionBegin=null,this.onExecutionEnd=null}var t,n,o;return t=e,(n=[{key:"resetReports",value:function(){var e=this.executionModel.reports;e.verifier={},e.parser={},e.student={},e.instructor={},e.model=this.main.model}},{key:"resetStudentModel",value:function(){var e=this.executionModel.student;e.currentStep(null),e.currentTraceStep(0),e.lastStep(0),e.currentLine(null),e.currentTraceData.removeAll(),e.results=null}},{key:"resetExecutionBuffer",value:function(){this.executionBuffer={trace:[],step:0,line:0}}},{key:"reset",value:function(){this.resetStudentModel(),this.resetReports(),this.resetExecutionBuffer(),this.main.components.console.clear(),this.main.components.feedback.clear()}},{key:"delayedRun",value:function(){this.run()}},{key:"run",value:function(){var e=this;this.configuration=this.configurations.run.use(this);var t=this.execute().then(this.configuration.success.bind(this.configuration),this.configuration.failure.bind(this.configuration));this.main.model.assignment.settings.disableFeedback()?t.then(this.configuration.showErrors.bind(this.configuration)):t.then((function(){return e.configuration.provideSecretError(),e.onRun()}))}},{key:"onRun",value:function(){this.configuration=this.configurations.onRun.use(this),this.execute().then(this.configuration.success.bind(this.configuration),this.configuration.failure.bind(this.configuration)).then(this.executionEnd_.bind(this))}},{key:"evaluate",value:function(){var e=this;this.main.model.status.onExecution(i.b.ACTIVE);var t=this.main.components.console.evaluate();console.log(t),t.then((function(t){e.configuration=e.configurations.eval.use(e,t);var n=e.execute().then(e.configuration.success.bind(e.configuration),e.configuration.failure.bind(e.configuration));!e.main.model.assignment.settings.disableFeedback()&&e.main.model.assignment.onEval()?n.then(e.onEval.bind(e)):n.then(e.configuration.showErrors.bind(e.configuration)).then(e.evaluate.bind(e))}))}},{key:"onEval",value:function(){this.configuration=this.configurations.onEval.use(this),this.execute().then(this.configuration.success.bind(this.configuration),this.configuration.failure.bind(this.configuration)).then(this.evaluate.bind(this))}},{key:"onChange",value:function(){this.configuration=this.configurations.onChange.use(this)}},{key:"execute",value:function(){var e=this;return this.main.model.status.onExecution(i.b.ACTIVE),Sk.misceval.asyncToPromise((function(){return Sk.importMainWithBody(e.configuration.filename,!1,e.configuration.code,!0,e.configuration.sysmodules)}))}},{key:"on_change",value:function(){if(!this.main.model.programs.on_change().trim())return!1;this.main.model.execution.status("changing"),this.main.components.server.saveCode();var e=this,t=this.main.components.feedback;e.resetReports(),e.verifyCode(),e.updateParse(),e.runInstructorCode("on_change",!0,(function(n){Sk.executionReports.instructor.success&&(success||"Instructor"===category&&"No errors"===label||t.presentFeedback(category,label,message,line),e.main.components.feedback.presentFeedback(n.$d),e.main.model.execution.status("complete"))})),e.main.components.server.logEvent("engine","on_change")}},{key:"executionEnd_",value:function(){null!==this.onExecutionEnd&&this.onExecutionEnd()}},{key:"executionBegin_",value:function(){null!==this.onExecutionBegin&&this.onExecutionBegin()}}])&&ge(t.prototype,n),o&&ge(t,o),e}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"BlockPy",(function(){return w}));n(20),n(21);var i=n(5),o=n.n(i),s=n(17),r=n(11),a=n(7),l=n(6),c=n(0),u=n(4),d=n(3),f=n(2),p=n(18),m=n(9),h=n(15),b=n(14),y=n(13),v=n(8),g=n(10);n.d(t,"_IMPORTED_COMPLETE_DATASETS",(function(){return g.b})),n.d(t,"_IMPORTED_DATASETS",(function(){return g.c}));var k=n(12),S=n(1);function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var w=function(){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.initModel(e),void 0!==n&&this.setAssignment(e,n,i),this.initMain()}var n,i,w;return n=t,(i=[{key:"initMain",value:function(){this.initUtilities(),this.initModelMethods(),this.turnOnHacks(),this.initInterface(),this.applyModel(),this.initComponents(),this.makeExtraSubscriptions(),this.start()}},{key:"getSetting",value:function(e,t){return e in this.initialConfiguration_?this.initialConfiguration_[e]:this.localSettings_.has(e)?this.localSettings_.get(e):t}},{key:"initModel",value:function(t){this.localSettings_=new r.a("localSettings"),this.initialConfiguration_=t,this.model={user:{id:e.observable(t["user.id"]),name:e.observable(t["user.name"]),role:e.observable(this.getSetting("user.role","owner")),courseId:e.observable(t["user.course_id"]),groupId:e.observable(t["user.group_id"])},assignment:{id:e.observable(null),name:e.observable("Scratch Canvas"),instructions:e.observable("Welcome to BlockPy. Try editing and running the code below."),url:e.observable(""),type:e.observable(""),startingCode:e.observable(t["assignment.starting_code"]||""),onRun:e.observable(t["assignment.on_run"]||""),onChange:e.observable(t["assignment.on_change"]||null),onEval:e.observable(t["assignment.on_eval"]||null),extraInstructorFiles:e.observableArray([]),extraStartingFiles:e.observableArray([]),forkedId:e.observable(null),forkedVersion:e.observable(null),ownerId:e.observable(null),courseId:e.observable(null),version:e.observable(null),tags:e.observableArray([]),sampleSubmissions:e.observableArray([]),reviewed:e.observable(t["assignment.reviewed"]),public:e.observable(t["assignment.public"]),hidden:e.observable(t["assignment.hidden"]),ipRanges:e.observable(t["assignment.ip_ranges"]),settings:Object(v.c)(t)},submission:{id:e.observable(null),code:e.observable(t["submission.code"]||""),extraFiles:e.observableArray([]),url:e.observable(""),endpoint:e.observable(""),score:e.observable(0),correct:e.observable(!1),version:e.observable(0),submissionStatus:e.observable("Started"),gradingStatus:e.observable("NotReady"),ownerId:e.observable(null)},display:{filename:e.observable(null),instructor:e.observable("true"===this.getSetting("display.instructor","false").toString()),mutePrinter:e.observable(!1),pythonMode:e.observable(this.getSetting("display.python.mode",l.a.SPLIT)),historyMode:e.observable(!1),autoSave:e.observable(!0),bigConsole:e.observable(!1),previousConsoleHeight:e.observable(null),currentConsoleHeight:e.observable(null),secondRowSecondPanel:e.observable(u.a.FEEDBACK),traceExecution:e.observable(!1),loadingDatasets:e.observableArray([]),changedInstructions:e.observable(null),triggerOnChange:null,dirtySubmission:e.observable(!0),fullscreen:e.observable(!1),passcode:e.observable(""),clearInputs:e.observable(!0)},status:{loadAssignment:e.observable(c.b.READY),loadAssignmentMessage:e.observable(""),loadHistory:e.observable(c.b.READY),loadHistoryMessage:e.observable(""),loadFile:e.observable(c.b.READY),loadFileMessage:e.observable(""),loadDataset:e.observable(c.b.READY),loadDatasetMessage:e.observable(""),logEvent:e.observable(c.b.READY),logEventMessage:e.observable(""),saveImage:e.observable(c.b.READY),saveImageMessage:e.observable(""),saveFile:e.observable(c.b.READY),saveFileMessage:e.observable(""),saveAssignment:e.observable(c.b.READY),saveAssignmentMessage:e.observable(""),updateSubmission:e.observable(c.b.READY),updateSubmissionMessage:e.observable(""),updateSubmissionStatus:e.observable(c.b.READY),updateSubmissionStatusMessage:e.observable(""),onExecution:e.observable(c.b.READY)},execution:{reports:{},output:e.observableArray([]),input:e.observableArray([]),inputIndex:e.observable(0),student:{filename:e.observable(null),currentStep:e.observable(null),lastStep:e.observable(null),currentLine:e.observable(null),lastLine:e.observable(0),currentTraceData:e.observableArray([]),currentTraceStep:e.observable(0),results:null,globals:e.observable(null)},instructor:{globals:null,sysmodules:void 0},feedback:{message:e.observable("Ready"),category:e.observable(null),label:e.observable(null),hidden:e.observable(!1),linesError:e.observableArray([]),linesUncovered:e.observableArray([]),results:null}},configuration:{callbacks:{success:this.initialConfiguration_["callback.success"]},serverConnected:e.observable(this.getSetting("server.connected",!0)),blocklyPath:this.initialConfiguration_["blockly.path"],attachmentPoint:this.initialConfiguration_["attachment.point"],container:null,urls:this.initialConfiguration_.urls||{}}}}},{key:"initInterface",value:function(){var e=this.model.configuration,t=Object(u.c)(this);e.container=o()(e.attachmentPoint).html(o()(t))}},{key:"loadAssignment",value:function(e){this.components.server.loadAssignment(e)}},{key:"loadTags",value:function(e){}},{key:"loadSampleSubmissions",value:function(e){}},{key:"loadNoSubmission",value:function(e){this.model.submission.code(e.starting_code),Object(d.e)(e.extra_starting_files,this.model.submission.extraFiles)}},{key:"loadSubmission",value:function(e,t){if(!e)return this.loadNoSubmission(t),!1;this.model.submission.id(e.id),this.model.submission.code(e.code),this.model.submission.correct(e.correct),this.model.submission.score(e.score),this.model.submission.endpoint(e.endpoint),this.model.submission.url(e.url),this.model.submission.version(e.version),this.model.submission.gradingStatus(e.grading_status),this.model.submission.submissionStatus(e.submission_status),this.model.submission.ownerId(e.user_id),this.model.user.courseId(e.course_id),Object(d.e)(e.extra_files,this.model.submission.extraFiles)}},{key:"loadAssignmentData_",value:function(e){console.log(e),this.resetInterface(),this.components.fileSystem.dismountExtraFiles();var t=this.model.configuration.serverConnected();this.model.configuration.serverConnected(!1);var n=e.assignment;this.model.assignment.id(n.id),this.model.assignment.version(n.version),this.model.assignment.courseId(n.course_id),this.model.assignment.forkedId(n.forked_id),this.model.assignment.forkedVersion(n.forked_version),this.model.assignment.hidden(n.hidden),this.model.assignment.reviewed(n.reviewed),this.model.assignment.public(n.public),this.model.assignment.type(n.type),this.model.assignment.url(n.url),this.model.assignment.ipRanges(n.ip_ranges),this.model.assignment.instructions(n.instructions),this.model.assignment.name(n.name),this.model.assignment.onChange(n.on_change||null),n.on_change&&this.components.fileSystem.newFile("!on_change.py",n.on_change),this.model.assignment.onEval(n.on_eval||null),n.on_eval&&this.components.fileSystem.newFile("!on_eval.py",n.on_eval),this.model.assignment.onRun(n.on_run),this.model.assignment.startingCode(n.starting_code),this.model.assignment.ownerId(n.owner_id),Object(v.b)(this.model,n.settings),this.loadTags(n.tags),this.loadSampleSubmissions(n.sample_submissions),Object(d.e)(n.extra_instructor_files,this.model.assignment.extraInstructorFiles),Object(d.e)(n.extra_starting_files,this.model.assignment.extraStartingFiles),this.loadSubmission(e.submission,n),this.model.display.dirtySubmission(!0),this.model.display.changedInstructions(null),this.model.configuration.serverConnected(t),this.components.corgis.loadDatasets(!0),this.components.pythonEditor.bm.refresh(),this.components.server.setStatus("saveFile",c.b.READY)}},{key:"initModelMethods",value:function(){var t=this,n=this,i=this.model;i.ui={role:{isGrader:e.pureComputed((function(){return"owner"===i.user.role()||"grader"===i.user.role()}))},instructions:{isChanged:e.pureComputed((function(){return null!==i.display.changedInstructions()})),current:e.pureComputed((function(){return i.ui.instructions.isChanged()?n.utilities.markdown(i.display.changedInstructions()):n.utilities.markdown(i.assignment.instructions())})),reset:function(){return i.display.changedInstructions(null)}},menu:{textFullscreen:e.pureComputed((function(){return i.display.fullscreen()?"fa-compress-arrows-alt":"fa-expand-arrows-alt"})),clickFullscreen:function(){i.display.fullscreen(!i.display.fullscreen())},editInputs:function(){t.components.dialog.EDIT_INPUTS()},canMarkSubmitted:e.pureComputed((function(){return i.assignment.hidden()||i.assignment.reviewed()||i.assignment.settings.canClose()})),textMarkSubmitted:e.pureComputed((function(){return i.ui.menu.isCompleted()?i.user.groupId()?"Problem closed":"Assignment closed":i.ui.menu.isSubmitted()?"Reopen for editing":i.display.dirtySubmission()?"Run":!i.assignment.hidden()&&i.submission.correct()?"Submit":"Submit early"})),clickMarkSubmitted:function(){i.ui.menu.isCompleted()?alert("You cannot reopen closed assignments. Contact a grader!"):i.ui.menu.isSubmitted()?n.components.server.updateSubmissionStatus("inProgress"):i.display.dirtySubmission()?n.components.engine.delayedRun():n.components.server.updateSubmissionStatus("Submitted")},isSubmitted:e.pureComputed((function(){return(i.assignment.reviewed()||i.assignment.settings.canClose())&&"submitted"===i.submission.submissionStatus().toLowerCase()})),isCompleted:e.pureComputed((function(){return"completed"===i.submission.submissionStatus().toLowerCase()})),showQueuedInputs:e.pureComputed((function(){return!i.assignment.settings.hideQueuedInputs()}))},secondRow:{isAllVisible:e.pureComputed((function(){return!i.assignment.settings.hideMiddlePanel()})),isFeedbackVisible:e.pureComputed((function(){return i.display.secondRowSecondPanel()===u.a.FEEDBACK})),isTraceVisible:e.pureComputed((function(){return i.display.secondRowSecondPanel()===u.a.TRACE})),isConsoleShowVisible:e.pureComputed((function(){return i.ui.secondRow.isFeedbackVisible()||i.ui.secondRow.isTraceVisible()})),switchLabel:e.pureComputed((function(){return null!==i.execution.student.lastStep()?"View Trace":""})),advanceState:function(){var e=i.display.secondRowSecondPanel;e()===u.a.NONE?e(u.a.FEEDBACK):e()===u.a.TRACE?e(u.a.NONE):null!==i.execution.student.lastStep()?e(u.a.TRACE):e(u.a.NONE)}},console:{size:e.pureComputed((function(){return i.display.secondRowSecondPanel()===u.a.NONE?"col-md-12":"col-md-6"})),hideEvaluate:e.pureComputed((function(){return i.assignment.settings.hideEvaluate()||!i.execution.student.globals()||i.status.onExecution()===c.b.ACTIVE}))},feedback:{badge:e.pureComputed((function(){if(null===i.execution.feedback.category())return"label-none";switch(i.execution.feedback.category().toLowerCase()){default:case"none":return"label-none";case"runtime":return"label-runtime-error";case"syntax":case"editor":return"label-syntax-error";case"internal":return"label-internal-error";case"semantic":case"analyzer":return"label-semantic-error";case"feedback":case"instructor":return"label-feedback-error";case"complete":return"label-problem-complete";case"instructions":return"label-instructions";case"no errors":return"label-no-errors"}})),category:e.pureComputed((function(){if(null===i.execution.feedback.category())return"";switch(i.execution.feedback.category().toLowerCase()){default:case"none":return"";case"runtime":return"Runtime Error";case"syntax":return"Syntax Error";case"editor":return"Editor Error";case"internal":return"Internal Error";case"semantic":case"analyzer":return"Algorithm Error";case"feedback":case"instructions":return"Instructions";case"instructor":return"Incorrect Answer";case"complete":return"Complete";case"no errors":return"No errors"}}))},trace:{has:e.pureComputed((function(){return null!==i.execution.student.currentTraceData()})),line:e.pureComputed((function(){var e=i.execution.student.currentTraceStep(),t=i.execution.student.lastStep(),n=i.execution.student.currentTraceData();return n&&null!==e?0===e?"Before run":e===t?"Finished run":"Line "+(n[e].line-1):"No trace"})),first:function(){i.execution.student.currentTraceStep(0)},backward:function(){var e=Math.max(0,i.execution.student.currentTraceStep()-1);i.execution.student.currentTraceStep(e)},forward:function(){var e=Math.min(i.execution.student.lastStep(),i.execution.student.currentTraceStep()+1);i.execution.student.currentTraceStep(e)},last:function(){i.execution.student.currentTraceStep(i.execution.student.lastStep())},data:e.pureComputed((function(){var e=i.execution.student.currentTraceStep(),t=i.execution.student.lastStep(),n=i.execution.student.currentTraceData();if(!n)return[];switch(e){case 0:return[];case t:return n[e-1];default:return n[e]}}))},files:{visible:e.pureComputed((function(){return i.display.instructor()||!i.assignment.settings.hideFiles()})),hasContents:function(e){switch(e){case"answer.py":return i.submission.code();case"!instructions.md":return i.assignment.instructions();case"!on_change.py":return null!==i.assignment.onChange();case"!on_eval.py":return null!==i.assignment.onEval();case"?mock_urls.blockpy":return i.assignment.extraInstructorFiles().some((function(e){return"?mock_urls.blockpy"===e.filename()}));case"!tags.blockpy":return i.assignment.tags().length;case"!sample_submissions.blockpy":return i.assignment.sampleSubmissions().length;default:return!1}},add:function(e){switch(e){case"?mock_urls.blockpy":case"?tags.blockpy":case"?settings.blockpy":n.components.fileSystem.newFile(e);break;case"!on_change.py":i.assignment.onChange(""),n.components.fileSystem.newFile(e);break;case"!on_eval.py":i.assignment.onEval(""),n.components.fileSystem.newFile(e);break;case"instructor":return void n.components.fileSystem.newFileDialog("instructor");case"student":return void n.components.fileSystem.newFileDialog("student");case"starting":return void n.components.fileSystem.newFileDialog("starting")}i.display.filename(e)},delete:function(){return n.components.fileSystem.deleteFile(i.display.filename())},extraStudentFiles:Object(d.g)(i.submission.extraFiles),extraInstructorFiles:Object(d.g)(i.assignment.extraInstructorFiles),extraStartingFiles:Object(d.g)(i.assignment.extraStartingFiles),displayFilename:function(e){return"?mock_urls.blockpy"===e?"URL Data":e.startsWith("&")?e.slice(1):e}},editors:{current:e.pureComputed((function(){return n.components.editors.getEditor(i.display.filename())})),view:e.pureComputed((function(){return!i.display.instructor()&&i.assignment.settings.hideEditors()?"None":i.display.filename()?i.ui.editors.current():"None"})),reset:function(){n.components.server.logEvent("X-File.Reset","","","","answer.py"),i.submission.code(i.assignment.startingCode()),i.submission.extraFiles(i.assignment.extraStartingFiles().map((function(e){var t=e.filename().substr(1);return Object(d.f)(t,e.contents())})))},canSave:e.pureComputed((function(){return!i.display.autoSave()})),canDelete:e.pureComputed((function(){return(!i.assignment.settings.hideFiles()||i.display.instructor())&&-1===d.c.indexOf(i.display.filename())})),canRename:e.pureComputed((function(){return(!i.assignment.settings.hideFiles()||i.display.instructor())&&-1===d.d.indexOf(i.display.filename())})),upload:f.d.bind(n),download:f.b.bind(n),importDataset:function(){n.components.corgis.openDialog()},python:{fullscreen:function(){var e=n.components.pythonEditor.bm.textEditor.codeMirror;return e.setOption("fullScreen",!e.getOption("fullScreen"))},updateMode:function(e){n.components.server.logEvent("X-View.Change","","",e,i.display.filename()),i.display.pythonMode(e),"answer.py"===i.display.filename()&&(n.components.pythonEditor.oldPythonMode=e)},isHistoryAvailable:e.pureComputed((function(){return i.ui.server.isEndpointConnected("loadHistory")})),turnOffHistoryMode:function(){n.components.pythonEditor.updateEditor(),n.components.pythonEditor.setReadOnly(!1),i.display.historyMode(!1)},turnOnHistoryMode:function(){n.components.server.loadHistory((function(e){e.success?(n.components.history.load(e.history),i.display.historyMode(!0),n.components.pythonEditor.setReadOnly(!0)):n.components.dialog.ERROR_LOADING_HISTORY()}))},toggleHistoryMode:function(){i.display.historyMode()?i.ui.editors.python.turnOffHistoryMode():i.ui.editors.python.turnOnHistoryMode()},history:{start:function(){n.components.history.moveToStart()},previous:function(){n.components.history.movePrevious()},next:function(){n.components.history.moveNext()},mostRecent:function(){n.components.history.moveToMostRecent()},use:function(){n.components.history.use()}}},settings:{save:function(){return n.components.server.saveAssignment()}}},execute:{isRunning:e.pureComputed((function(){return i.status.onExecution()===c.b.ACTIVE})),run:function(){return n.components.engine.delayedRun()},evaluate:function(){return n.components.engine.evaluate()}},server:{status:function(e){return"server-status-"+i.status[e]()},isEndpointConnected:function(e){return i.configuration.serverConnected()&&void 0!==i.configuration.urls&&void 0!==i.configuration.urls[e]},messages:e.pureComputed((function(){return Object(S.a)(i.status.loadAssignmentMessage()||i.status.saveAssignmentMessage()||i.status.loadHistoryMessage()||i.status.loadFileMessage()||i.status.saveFileMessage()||i.status.loadDatasetMessage()||i.status.logEventMessage()||i.status.saveImage()||i.status.updateSubmissionMessage()||i.status.updateSubmissionStatusMessage()||"")})),force:{updateSubmission:function(e,t){console.log(t),n.components.server.updateSubmission(n.model.submission.score(),n.model.submission.correct(),!1,!0),o()(t.target).fadeOut(100).fadeIn(100)}}}},Object(u.b)(n,i)}},{key:"turnOnHacks",value:function(){Sk.builtinFiles.files["src/lib/image.js"]=s.a.toString()}},{key:"applyModel",value:function(){e.applyBindings(this.model)}},{key:"initUtilities",value:function(){this.utilities={markdown:function(e){return e?EasyMDE.prototype.markdown(e):"<p></p>"}}}},{key:"initComponents",value:function(){var e=this.model.configuration.container,t=this.components={};t.dialog=new y.a(this,e.find(".blockpy-dialog")),t.feedback=new b.a(this,e.find(".blockpy-feedback")),t.trace=new m.a(this),t.console=new h.a(this,e.find(".blockpy-console")),t.engine=new p.a(this),t.fileSystem=new d.a(this),t.editors=new a.b(this,e.find(".blockpy-editor")),t.pythonEditor=this.components.editors.byName("python"),t.server=new c.a(this),t.corgis=new g.a(this),t.history=new k.a(this,e.find(".blockpy-history-toolbar"))}},{key:"makeExtraSubscriptions",value:function(){var e=this;this.model.display.changedInstructions.subscribe((function(t){e.components.server.logEvent("X-Instructions.Change","","",t,"instructions.md")}))}},{key:"start",value:function(){this.model.display.filename("answer.py")}},{key:"resetInterface",value:function(){this.components.engine.reset()}},{key:"requestPasscode",value:function(){var e=prompt("Please enter the passcode.");this.model.display.passcode(e)}}])&&_(n.prototype,i),w&&_(n,w),t}()}.call(this,n(16))},function(e,t,n){},function(e,t,n){}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja3B5L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9ibG9ja3B5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvc2VydmVyLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvdXRpbGl0aWVzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL2Fic3RyYWN0X2VkaXRvci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2ZpbGVzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvaW50ZXJmYWNlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZm9vdGVyLmpzIiwid2VicGFjazovL2Jsb2NrcHkvZXh0ZXJuYWwgXCJqUXVlcnlcIiIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9weXRob24uanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9lZGl0b3IvdGV4dC5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci90YWdzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9yL21hcmtkb3duLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZWRpdG9ycy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VkaXRvci9hc3NpZ25tZW50X3NldHRpbmdzLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvdHJhY2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9jb3JnaXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvaGlzdG9yeS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2RpYWxvZy5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2ZlZWRiYWNrLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvY29uc29sZS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5L2V4dGVybmFsIFwia29cIiIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3NrdWxwdF9tb2R1bGVzL2ltYWdlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL2NvbmZpZ3VyYXRpb25zLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL2luc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmxvY2tweS8uL3NyYy9za3VscHRfbW9kdWxlcy9za19tb2RfaW5zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL3NrdWxwdF9tb2R1bGVzL2NvdmVyYWdlLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL29uX3J1bi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9zdHVkZW50LmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL3J1bi5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9ldmFsLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lL29uX2NoYW5nZS5qcyIsIndlYnBhY2s6Ly9ibG9ja3B5Ly4vc3JjL2VuZ2luZS9vbl9ldmFsLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvZW5naW5lLmpzIiwid2VicGFjazovL2Jsb2NrcHkvLi9zcmMvYmxvY2tweS5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX181X18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNl9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlN0YXR1c1N0YXRlIiwiUkVBRFkiLCJBQ1RJVkUiLCJSRVRSWUlORyIsIkZBSUxFRCIsIk9GRkxJTkUiLCJCbG9ja1B5U2VydmVyIiwibWFpbiIsInVybHMiLCJtb2RlbCIsImNvbmZpZ3VyYXRpb24iLCJzdG9yYWdlIiwiTG9jYWxTdG9yYWdlV3JhcHBlciIsInF1ZXVlIiwiSlNPTiIsInBhcnNlIiwiZ2V0RGVmYXVsdCIsIk1BWF9RVUVVRV9TSVpFIiwiVElNRVJfREVMQVkiLCJGQUlMX0RFTEFZIiwidGltZXJzIiwib3ZlcmxheSIsImJsb2NraW5nQXR0ZW1wdHMiLCJjYWNoZWRGaWxlbmFtZXMiLCJjcmVhdGVTdWJzY3JpcHRpb25zIiwiY2hlY2tDYWNoZXMiLCJjaGVja0lQIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiaGFzIiwib2xkSVAiLCJpcCIsIm1lc3NhZ2UiLCJzdHJpbmdpZnkiLCJsb2dFdmVudCIsInVuZGVmaW5lZCIsInNldCIsImRhdGEiLCJfcG9zdExhdGVzdFJldHJ5IiwiZm9yRWFjaCIsImZpbGVuYW1lIiwic2VydmVyIiwia2V5cyIsImVuZHBvaW50IiwicHVzaEFueVF1ZXVlZCIsImxlbmd0aCIsInBvcCIsIl9wb3N0UmV0cnkiLCJjcmVhdGVGaWxlU3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlIiwiY29udGVudHMiLCJkaXNwbGF5IiwiYXV0b1NhdmUiLCJzYXZlRmlsZSIsInB1c2giLCJzdWJtaXNzaW9uIiwiY29kZSIsImFzc2lnbm1lbnQiLCJvblJ1biIsIm9uRXZhbCIsIm9uQ2hhbmdlIiwiaW5zdHJ1Y3Rpb25zIiwic3RhcnRpbmdDb2RlIiwidWkiLCJmaWxlcyIsImV4dHJhU3R1ZGVudEZpbGVzIiwiZXh0cmFTdGFydGluZ0ZpbGVzIiwiZXh0cmFJbnN0cnVjdG9yRmlsZXMiLCJjcmVhdGVFdmVudExvZ3MiLCJ3aW5kb3ciLCJvbmJsdXIiLCJvbmZvY3VzIiwiZmluYWxpemVTdWJzY3JpcHRpb25zIiwiY3JlYXRlU2VydmVyRGF0YSIsInVzZXIiLCJub3ciLCJEYXRlIiwibWljcm9zZWNvbmRzIiwiZ2V0VGltZSIsImlkIiwiZ3JvdXBJZCIsImNvdXJzZUlkIiwidmVyc2lvbiIsImdldFRpbWV6b25lT2Zmc2V0IiwicGFzc2NvZGUiLCJzZXRTdGF0dXMiLCJzdGF0dXMiLCJzaG93T3ZlcmxheSIsImF0dGVtcHQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCIkIiwiYXBwZW5kVG8iLCJib2R5IiwiY3NzIiwiaGlkZU92ZXJsYXkiLCJyZW1vdmUiLCJfZW5xdWV1ZURhdGEiLCJjYWNoZSIsIm1heCIsInNsaWNlIiwiaW5kZXhPZiIsIl9kZXF1ZXVlRGF0YSIsImluZGV4Iiwic3BsaWNlIiwiZGVsYXkiLCJjYWxsYmFjayIsInBvc3RSZXF1ZXN0IiwicG9zdCIsImRvbmUiLCJjb25zb2xlIiwiZXJyb3IiLCJmYWlsIiwidGV4dFN0YXR1cyIsInRvU3RyaW5nIiwic2V0VGltZW91dCIsInJlcXVlc3QiLCJ0aW1lIiwiY2FjaGVkVGltZSIsImNsZWFyVGltZW91dCIsIl9wb3N0QmxvY2tpbmciLCJhdHRlbXB0cyIsImZhaWx1cmUiLCJlIiwiZXJyb3JUaHJvd24iLCJsb2FkQXNzaWdubWVudCIsImFzc2lnbm1lbnRfaWQiLCJpc0VuZHBvaW50Q29ubmVjdGVkIiwibG9hZEFzc2lnbm1lbnREYXRhXyIsImNvbXBvbmVudHMiLCJkaWFsb2ciLCJFUlJPUl9MT0FESU5HX0FTU0lHTk1ORU5UIiwic2F2ZUFzc2lnbm1lbnQiLCJoaWRkZW4iLCJyZXZpZXdlZCIsInVybCIsImlwUmFuZ2VzIiwic2F2ZUFzc2lnbm1lbnRTZXR0aW5ncyIsIkVSUk9SX1NBVklOR19BU1NJR05NTkVOVCIsImxvYWRIaXN0b3J5IiwiRVJST1JfTE9BRElOR19ISVNUT1JZIiwiZXZlbnRfdHlwZSIsImNhdGVnb3J5IiwibGFiZWwiLCJmaWxlX3BhdGgiLCJzYXZlSW1hZ2UiLCJkaXJlY3RvcnkiLCJpbWFnZSIsInVwZGF0ZVN1Ym1pc3Npb25TdGF0dXMiLCJuZXdTdGF0dXMiLCJzdWJtaXNzaW9uU3RhdHVzIiwiRVJST1JfVVBEQVRJTkdfU1VCTUlTU0lPTl9TVEFUVVMiLCJsb2FkRmlsZSIsInR5cGUiLCJlcnJvckNhbGxiYWNrIiwibG9hZF9maWxlIiwidXBkYXRlU3VibWlzc2lvbiIsInNjb3JlIiwiY29ycmVjdCIsImhpZGRlbk92ZXJyaWRlIiwiZm9yY2VVcGRhdGUiLCJjYWxsYmFja3MiLCJweXRob25FZGl0b3IiLCJibSIsImJsb2NrRWRpdG9yIiwiZ2V0UG5nRnJvbUJsb2NrcyIsInBuZ0RhdGEiLCJpbWciLCJpbmRlbnQiLCJzdHIiLCJyZXBsYWNlIiwic2x1ZyIsInRvTG93ZXJDYXNlIiwiY2FwaXRhbGl6ZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwicmFuZG9tSW50ZWdlciIsIm1pbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImVuY29kZUhUTUwiLCJmaXJzdERlZmluZWRWYWx1ZSIsImFyZ3VtZW50cyIsIkJsb2NrbHkiLCJXb3Jrc3BhY2VTdmciLCJzaHVmZmxlIiwibWV0cmljcyIsImdldE1ldHJpY3MiLCJ3aWR0aCIsInZpZXdXaWR0aCIsImhlaWdodCIsInZpZXdIZWlnaHQiLCJibG9ja3MiLCJnZXRUb3BCbG9ja3MiLCJ5IiwieCIsIm1heGltYWxfaW5jcmVhc2UiLCJibG9jayIsInByb3BlcnRpZXMiLCJnZXRSZWxhdGl2ZVRvU3VyZmFjZVhZIiwibW92ZUJ5IiwidXBsb2FkRmlsZSIsImV2ZW50IiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJ0YXJnZXQiLCJvbmxvYWQiLCJlZGl0b3JzIiwiY3VycmVudCIsImZpbGVOYW1lIiwicmVhZEFzVGV4dCIsInNsdWdnaWZ5IiwidGV4dCIsImRvd25sb2FkRmlsZSIsImV4dGVuc2lvbiIsIm1pbWV0eXBlIiwiYmxvYiIsIkJsb2IiLCJuYXZpZ2F0b3IiLCJtc1NhdmVPck9wZW5CbG9iIiwibXNTYXZlQmxvYiIsInRlbXBvcmFyeURvd25sb2FkTGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJBYnN0cmFjdEVkaXRvciIsInRhZyIsImZpbGVTeXN0ZW0iLCJmaWxlIiwiZGVsZXRlRmlsZSIsImNoYW5nZUVkaXRvciIsIndhdGNoRmlsZSIsInVwZGF0ZWQiLCJvbkZpbGVVcGRhdGVkIiwiZGVsZXRlZCIsIm9uRmlsZURlbGV0ZWQiLCJuZXdGaWxlbmFtZSIsIm9sZEVkaXRvciIsImdldEZpbGUiLCJ0cmFja0N1cnJlbnRGaWxlIiwibmV3RWRpdG9yIiwic3RvcFdhdGNoaW5nRmlsZSIsInJlc3VsdCIsImhhbmRsZSIsIkVkaXRvcnMiLCJwYXJzZUZpbGVuYW1lIiwibWFrZVRhYiIsImZyaWVuZGx5TmFtZSIsImhpZGVJZkVtcHR5Iiwibm90SW5zdHJ1Y3RvciIsImluc3RydWN0b3JGaWxlQ2xhc3MiLCJoaWRlSWZOb3RJbnN0cnVjdG9yIiwiRklMRVNfSFRNTCIsIlNlYXJjaE1vZGVzIiwiREVMRVRBQkxFX1NJTVBMRV9GSUxFUyIsIlVOREVMRVRBQkxFX0ZJTEVTIiwiVU5SRU5BTUFCTEVfRklMRVMiLCJCbG9ja1B5RmlsZSIsIm93bmVyIiwibWFrZU1vZGVsRmlsZSIsImtvIiwib2JzZXJ2YWJsZSIsIm1ha2VNb2NrTW9kZWxGaWxlIiwibG9hZENvbmNhdGVuYXRlZEZpbGUiLCJjb25jYXRlbmF0ZWRGaWxlIiwibW9kZWxGaWxlTGlzdCIsIm1vZGVsRmlsZXMiLCJvYnNlcnZlQ29uY2F0ZW5hdGVkRmlsZSIsInB1cmVDb21wdXRlZCIsIkJsb2NrUHlGaWxlU3lzdGVtIiwiZmlsZXNfIiwibW91bnRGaWxlcyIsIndhdGNoTW9kZWwiLCJ3YXRjaGVzXyIsImluc3RydWN0b3IiLCJ2aXNpYmxpdHkiLCJ0b2dnbGUiLCJmaWxlc3lzdGVtIiwiZXh0cmFGaWxlcyIsImZpbGVBcnJheSIsImNoYW5nZXMiLCJjaGFuZ2UiLCJtb2RlbEZpbGUiLCJuZXdGaWxlIiwibm90aWZ5V2F0Y2hlcyIsImRlbGV0ZUZpbGVMb2NhbGx5XyIsIm9ic2VydmVJbkFycmF5XyIsInRhZ3MiLCJzZXR0aW5ncyIsInN0YXJ0c1dpdGgiLCJhcnJheSIsImNvZGVCdW5kbGUiLCJleGlzdGluZ0ZpbGUiLCJvYnNlcnZlRmlsZV8iLCJzdHVkZW50U2VhcmNoIiwic2VhcmNoTW9kZSIsInNwZWNpYWxGaWxlIiwic2VhcmNoRm9yU3BlY2lhbEZpbGVzXyIsInN0dWRlbnRWZXJzaW9uIiwic2VhcmNoRm9yRmlsZUluTGlzdF8iLCJnZW5lcmF0ZWRWZXJzaW9uIiwiZGVmYXVsdFZlcnNpb24iLCJpbnN0cnVjdG9yVmVyc2lvbiIsImhpZGRlblZlcnNpb24iLCJzdGFydGluZ1ZlcnNpb24iLCJtb2RlbExpc3QiLCJraW5kIiwiZmluZCIsImZpbGV0eXBlIiwibmFtZXNwYWNlIiwiZXh0ZW5zaW9uUmVnZXgiLCJvbiIsImV4ZWMiLCJ2YWwiLCJ5ZXMiLCJwcmVmaXgiLCJzdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImNsb3NlIiwiY29uZmlybSIsIlNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucyIsIkZFRURCQUNLIiwiVFJBQ0UiLCJOT05FIiwibWFrZUV4dHJhSW50ZXJmYWNlU3Vic2NyaXB0aW9ucyIsImhpZ2hsaWdodFRpbWVvdXQiLCJjb250YWluZXIiLCJtYXAiLCJobGpzIiwiaGlnaGxpZ2h0QmxvY2siLCJmdWxsc2NyZWVuIiwiaXNGdWxsc2NyZWVuIiwicGFyZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJlcnIiLCJhbGVydCIsInRoZW4iLCJleGl0RnVsbHNjcmVlbiIsIm1ha2VJbnRlcmZhY2UiLCJESUFMT0dfSFRNTCIsIkNPTlNPTEVfSFRNTCIsIkZFRURCQUNLX0hUTUwiLCJUUkFDRV9IVE1MIiwiRURJVE9SU19IVE1MIiwiRGlzcGxheU1vZGVzIiwiQkxPQ0siLCJTUExJVCIsIlRFWFQiLCJpY29uIiwiUFlUSE9OX0VESVRPUl9IVE1MIiwiSElTVE9SWV9UT09MQkFSX0hUTUwiLCJQeXRob25FZGl0b3IiLCJleHRlbnNpb25zIiwiY29uc3RydWN0b3IiLCJzZXRQYXJlbnRDb250YWluZXIiLCJCbG9ja01pcnJvciIsImVuZ2luZSIsInJ1biIsImJsb2NrbHlQYXRoIiwidG9vbGJveCIsImltYWdlRG93bmxvYWRIT29rIiwib2xkVXJsIiwiaW1hZ2VVcGxvYWRIb29rIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbWFnZUxpdGVyYWxIb29rIiwiZGlydHkiLCJyZWFkT25seSIsIm1ha2VTdWJzY3JpcHRpb25zIiwibGluZUVycm9yU3Vic2NyaXB0aW9uIiwibGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiIsIm9sZFB5dGhvbk1vZGUiLCJweXRob25Nb2RlIiwibWFrZVBlckFzc2lnbm1lbnRTdWJzY3JpcHRpb25zIiwid29ya3NwYWNlIiwiY29uZmlndXJlQ29udGV4dE1lbnUiLCJvcHRpb25zIiwiZW5hYmxlZCIsIlNDUkVFTlNIT1RfQkxPQ0tTIiwib2xkRmlsZW5hbWUiLCJ1cGRhdGVFZGl0b3IiLCJjdXJyZW50U3Vic2NyaXB0aW9uIiwiY3VycmVudEJNTGlzdGVuZXIiLCJ1cGRhdGVIYW5kbGUiLCJhZGRDaGFuZ2VMaXN0ZW5lciIsImlzUGFyc29ucyIsImV4ZWN1dGlvbiIsImZlZWRiYWNrIiwibGluZXNFcnJvciIsImxpbmVzIiwic2V0SGlnaGxpZ2h0ZWRMaW5lcyIsImxpbmVzVW5jb3ZlcmVkIiwicmVmcmVzaCIsIm5ld0NvbnRlbnRzIiwic2V0Q29kZSIsImNsZWFySGlnaGxpZ2h0ZWRMaW5lcyIsImhpc3RvcnlNb2RlIiwiZ2V0Q29kZSIsImRpc3Bvc2UiLCJyZW1vdmVDaGFuZ2VMaXN0ZW5lciIsInB5dGhvbiIsInR1cm5PZmZIaXN0b3J5TW9kZSIsImNsZWFyTGluZVN1YnNjcmlwdGlvbnMiLCJzZXRNb2RlIiwiZW5hYmxlQmxvY2tzIiwicmVtYWtlVG9vbGJveCIsImVuYWJsZUltYWdlcyIsImltYWdlTW9kZSIsInNldEltYWdlTW9kZSIsImNoYW5nZWQiLCJzZXRSZWFkT25seSIsImRlY2lkZUlmTm90RWRpdGFibGUiLCJvbmx5VXBsb2FkcyIsImlzUmVhZE9ubHkiLCJlbmRzV2l0aCIsImNlbGxzIiwiZmlsdGVyIiwiY2VsbCIsImNlbGxfdHlwZSIsInNvdXJjZSIsImpvaW4iLCJjb252ZXJ0SXB5bmJUb1B5dGhvbiIsInRlbXBsYXRlIiwiVGV4dEVkaXRvciIsImNvZGVNaXJyb3IiLCJDb2RlTWlycm9yIiwiZnJvbVRleHRBcmVhIiwic2hvd0N1cnNvcldoZW5TZWxlY3RpbmciLCJsaW5lTnVtYmVycyIsImZpcnN0TGluZU51bWJlciIsImluZGVudFVuaXQiLCJ0YWJTaXplIiwiaW5kZW50V2l0aFRhYnMiLCJleHRyYUtleXMiLCJjbSIsImdldE9wdGlvbiIsInNldE9wdGlvbiIsImlucHV0IiwiYmx1ciIsImN1cnJlbnRMaXN0ZW5lciIsInNldFZhbHVlIiwiZ2V0VmFsdWUiLCJvZmYiLCJUYWdzRWRpdG9yIiwiTWFya2Rvd25FZGl0b3IiLCJtZGUiLCJFYXN5TURFIiwiZWxlbWVudCIsImF1dG9Eb3dubG9hZEZvbnRBd2Vzb21lIiwiZm9yY2VTeW5jIiwibWluSGVpZ2h0IiwicmVuZGVyaW5nQ29uZmlnIiwiY29kZVN5bnRheEhpZ2hsaWdodGluZyIsImNvZGVtaXJyb3IiLCJTUEVDSUFMX05BTUVTUEFDRVMiLCJBVkFJTEFCTEVfRURJVE9SUyIsIkFzc2lnbm1lbnRTZXR0aW5ncyIsImVkaXRvciIsInJlZ2lzdGVyZWRfIiwiZXh0ZW5zaW9uc18iLCJieU5hbWVfIiwicmVnaXN0ZXJFZGl0b3IiLCJwYXRoIiwic3BhY2UiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsImluc3RhbmNlIiwiZ2V0RWRpdG9yIiwiZXhpdCIsImVudGVyIiwiQVNTSUdOTUVOVF9TRVRUSU5HUyIsImdldERvY3VtZW50YXRpb24iLCJtYWtlU3RhcnRWaWV3VGFiIiwiQVNTSUdOTUVOVF9TRVRUSU5HU19CT09MRUFOX0NPTVBPTkVOVFNfSFRNTCIsInNldHRpbmciLCJwcmV0dHlOYW1lIiwic3BsaXQiLCJ3b3JkIiwiQVNTSUdOTUVOVF9TRVRUSU5HU19FRElUT1JfSFRNTCIsImNsaWVudE5hbWUiLCJzZXJ2ZXJOYW1lIiwiZGVmYXVsdFZhbHVlIiwibG9hZEFzc2lnbm1lbnRTZXR0aW5ncyIsInN0YXJ0X3ZpZXciLCJtYWtlQXNzaWdubWVudFNldHRpbmdzTW9kZWwiLCJmaWVsZFR5cGUiLCJjb25maWdWYWx1ZSIsImxvZyIsIkJsb2NrUHlUcmFjZSIsIklHTk9SRURfR0xPQkFMUyIsImZ1bGxMZW5ndGgiLCJTayIsImJ1aWx0aW4iLCJmdW5jIiwiZnVuY19jb2RlIiwiY29fdmFybmFtZXMiLCJ2IiwiJHIiLCJzcSRsZW5ndGgiLCJub25lIiwiYm9vbCIsIm5tYmVyIiwic2tUeXBlIiwiaW50XyIsImZsb2F0XyIsInR1cGxlIiwibGlzdCIsImRpY3QiLCJOdW1iZXIiLCJTdHJpbmciLCJCb29sZWFuIiwidHAkbmFtZSIsInZhcmlhYmxlcyIsInRyYWNlRXhlY3V0aW9uIiwicGFyc2VkIiwicGFyc2VWYWx1ZSIsIiRkIiwiX19uYW1lX18iLCJfSU1QT1JURURfREFUQVNFVFMiLCJfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMiLCJzZXRCdXR0b25Mb2FkZWQiLCJidG4iLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwicHJvcCIsImF0dHIiLCJCbG9ja1B5Q29yZ2lzIiwibG9hZGVkRGF0YXNldHMiLCJsb2FkRGF0YXNldHMiLCJzaWxlbnRseSIsImltcG9ydHMiLCJkYXRhc2V0cyIsIkJsb2NrTWlycm9yQmxvY2tFZGl0b3IiLCJFWFRSQV9UT09MUyIsImFwcGx5IiwiaW1wb3J0RGF0YXNldCIsIndoZW4iLCJmb3JjZUJsb2NrUmVmcmVzaCIsImFsd2F5cyIsInVybF9yZXRyaWV2YWxzIiwiaW1wb3J0RGF0YXNldHMiLCJsb2FkaW5nRGF0YXNldHMiLCJnZXREYXRhc2V0IiwiZ2V0U2NyaXB0IiwiZ2V0U2t1bHB0IiwiYnVpbHRpbkZpbGVzIiwiZ2V0QmxvY2tseSIsInRleHRUb0Jsb2NrcyIsImhpZGRlbkltcG9ydHMiLCJvcGVuRGlhbG9nIiwiZ2V0SlNPTiIsImJsb2NrcHkiLCJzdGFydCIsInNvcnQiLCJzbHVnZ2VkTmFtZSIsInRpdGxlIiwiYXBwZW5kIiwib3ZlcnZpZXciLCJzaG93IiwiTE9DQUxfU1RPUkFHRV9SRUYiLCJsb2NhbFN0b3JhZ2UiLCJtb2QiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsIl9kYXRhIiwiZ2V0SXRlbSIsImNsZWFyIiwicGFyc2VJbnQiLCJpc19uZXciLCJzZXJ2ZXJfdGltZSIsIkJsb2NrUHlIaXN0b3J5IiwiY3VycmVudElkIiwiaGlzdG9yeSIsImVkaXRFdmVudHMiLCJzZWxlY3RvciIsImVtcHR5IiwiZWRpdElkIiwiZW50cnkiLCJSRU1BUF9FVkVOVF9UWVBFUyIsImRpc3BsYXllZCIsInByZXR0eVByaW50RGF0ZVRpbWUiLCJjbGllbnRfdGltZXN0YW1wIiwiZGlzYWJsZSIsIm9wdGlvbiIsImRpc2FibGVkIiwiaXNFZGl0RXZlbnQiLCJldnQiLCJtb250aE5hbWVzIiwid2Vla0RheXMiLCJ0aW1lU3RyaW5nIiwicGFzdCIsInNlY29uZCIsImZpcnN0IiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJkYXRlIiwiZ2V0RGF5IiwiZ2V0SGlzdG9yeSIsInJldmVyc2UiLCJyZWR1Y2UiLCJjb21wbGV0ZSIsImVsZW0iLCJCbG9ja1B5RGlhbG9nIiwidGl0bGVUYWciLCJib2R5VGFnIiwiZm9vdGVyVGFnIiwib2theUJ1dHRvbiIsImNsb3NlQnV0dG9uIiwibm8iLCJtb2RhbCIsIm9uY2xvc2UiLCJodG1sIiwiaGlkZSIsImRyYWdnYWJsZSIsInllc1RleHQiLCJBU1NJR05NRU5UX1ZFUlNJT05fQ0hBTkdFRCIsInJlYXNvbiIsIkVSUk9SX1NIT1dfU1RVREVOVF9FUlJPUiIsIlBPU0lUSVZFX0ZFRURCQUNLX0ZVTEwiLCJFRElUX0lOUFVUUyIsImlucHV0VGV4dCIsImNsZWFySW5wdXRzIiwiY2hlY2tlZCIsImlucHV0cyIsIkJsb2NrUHlGZWVkYmFjayIsImZlZWRiYWNrTW9kZWwiLCJwb3NpdGl2ZSIsImRpcnR5U3VibWlzc2lvbiIsImZlZWRiYWNrRGF0YSIsInF1aWNrJGxvb2t1cCIsImxvY2F0aW9uIiwibGluZSIsInRwJGdldGF0dHIiLCJmZmkiLCJyZW1hcFRvSnMiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwidG9wT2ZFbGVtZW50IiwiYm90dG9tT2ZFbGVtZW50IiwiYm90dG9tT2ZTY3JlZW4iLCJ0b3BPZlNjcmVlbiIsInJlbW92ZUFsbCIsImNsZWFyUG9zaXRpdmVGZWVkYmFjayIsImV4ZWN1dGlvblJlc3VsdHMiLCJNRVNTQUdFIiwiQ0FURUdPUlkiLCJMQUJFTCIsIkhJREUiLCJEQVRBIiwicG9zaXRpdmVzIiwiUE9TSVRJVkUiLCJ1dGlsaXRpZXMiLCJtYXJrZG93biIsImZpbmRGaXJzdEVycm9yTGluZSIsInN0dWRlbnRSZXBvcnQiLCJyZXBvcnRzIiwic3R1ZGVudCIsInVuY292ZXJlZExpbmVzIiwicGFyc2VyIiwicG9zaXRpdmVEYXRhIiwiYWRkUG9zaXRpdmVGZWVkYmFjayIsImNvbG9yIiwib25jbGljayIsInRvRW5kIiwicHJlcGVuZCIsInRvb2x0aXAiLCJhdHRhY2htZW50UG9pbnQiLCJob3ZlciIsInVwZGF0ZUZlZWRiYWNrIiwibm90aWZ5RmVlZGJhY2tVcGRhdGUiLCJpc0ZlZWRiYWNrVmlzaWJsZSIsImZhZGVPdXQiLCJzY3JvbGxJbnRvVmlldyIsImp1c3RfcmV0dXJuIiwiY29udmVydFNrdWxwdEVycm9yIiwiZmlsZW5hbWVFeGVjdXRlZCIsImFyZ3MiLCJ0cmFjZWJhY2siLCJmcmFtZSIsImxpbmVubyIsImxpbmVPZmZzZXQiLCJzY29wZSIsIkNvbnNvbGVMaW5lVHlwZSIsIkNvbnNvbGVMaW5lIiwiY29udGVudCIsIm9yaWdpbiIsImN1cnJGaWxlbmFtZSIsInN0ZXAiLCJleGVjdXRpb25CdWZmZXIiLCJ2aXNpYmxlIiwibXV0ZVByaW50ZXIiLCJyZW1hcFRvUHkiLCJDb25zb2xlTGluZVR1cnRsZSIsIndoZXJlIiwicG9zaXRpb24iLCJDb25zb2xlTGluZUltYWdlIiwiQ29uc29sZUxpbmVQbG90IiwiQ29uc29sZUxpbmVUZXh0IiwiZW5jb2RlZFRleHQiLCJ0cmltIiwibGluZURhdGEiLCJDb25zb2xlTGluZVZhbHVlIiwiQ29uc29sZUxpbmVJbnB1dCIsInByb21wdE1lc3NhZ2UiLCJpbnB1dEZvcm0iLCJpbnB1dEJ0biIsImlucHV0R3JvdXAiLCJpbnB1dEJveCIsImlucHV0TXNnIiwibWFrZUludGVyYWN0aXZlIiwiYnV0dG9uIiwicmVzb2x2ZU9uQ2xpY2siLCJzdWJtaXR0ZWRQcm9taXNlIiwiaW5wdXRJbmRleCIsInN1Ym1pdEZvcm0iLCJ1c2VySW5wdXR0ZWRWYWx1ZSIsInF1ZXVlZElucHV0Iiwia2V5dXAiLCJrZXlDb2RlIiwiZm9jdXMiLCJDb25zb2xlTGluZUV2YWx1YXRlIiwiQ29uc29sZUxpbmVTdGFydEV2YWx1YXRlIiwiZXhlY3V0ZSIsImV2YWx1YXRlIiwiQmxvY2tQeUNvbnNvbGUiLCJwcmludGVyVGFnIiwiTUlOSU1VTV9XSURUSCIsIk1JTklNVU1fSEVJR0hUIiwiREVGQVVMVF9IRUlHSFQiLCJwcmV2aW91c0NvbnNvbGVIZWlnaHQiLCJvdXRwdXQiLCJsaW5lQnVmZmVyIiwicGxvdEJ1ZmZlciIsInR1cnRsZUxpbmUiLCJUdXJ0bGVHcmFwaGljcyIsImdldFR1cnRsZUxpbmUiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImFzc2V0cyIsImxvYWRBc3NldCIsInJlbmRlciIsImN1cnJlbnRQcmludGVyRGltZW5zaW9uIiwic2F2ZVR1cnRsZU91dHB1dCIsImNhbnZhcyIsImxhc3QiLCJkYXRhVXJsIiwiZ2V0Q29udGV4dCIsIkltYWdlIiwidG9EYXRhVVJMIiwicGFnZSIsImVhY2giLCJsaW5lVGV4dCIsImZsdXNoIiwic3BsaXRMaW5lcyIsImFkZENvbnRlbnQiLCJwbG90cyIsImltYWdlRGF0YSIsImltYWdlQnVmZmVyIiwicHJpbnRlZFZhbHVlIiwiaW5wdXRCdWZmZXIiLCIkYnVpbHRpbm1vZHVsZSIsIkluc3RhbnRQcm9taXNlIiwibGFzdFJlc3VsdCIsImxhc3RFcnJvciIsIlBJTCIsImNiIiwiZ2V0QXNzZXQiLCJyZWplY3QiLCJjcm9zc09yaWdpbiIsIm9uZXJyb3IiLCJzcmMiLCJtaXNjZXZhbCIsImJ1aWxkQ2xhc3MiLCIkZ2JsIiwiJGxvYyIsIl9faW5pdF9fIiwiZmlsZV9vcl91cmwiLCJweUNoZWNrQXJncyIsInB5Q2hlY2tUeXBlIiwiY2hlY2tTdHJpbmciLCJpbWFnZVByb21pc2UiLCJzdXNwIiwiU3VzcGVuc2lvbiIsIm5vbmUkIiwicmVzdW1lIiwicHJvbWlzZSIsImRyYXdJbWFnZSIsInBpeGVscyIsImdldEltYWdlRGF0YSIsIk5hbWVFcnJvciIsImNvbnNvbGVEYXRhIiwicHJpbnRQSUxJbWFnZSIsImZsaXAiLCJzdHlsZSIsInRyYW5zZm9ybSIsIkVNUFRZX01PRFVMRSIsIkNvbmZpZ3VyYXRpb24iLCJzeXNtb2R1bGVzIiwiZXhlY3V0aW9uUmVwb3J0cyIsImNvbmZpZ3VyZSIsImdldFNrdWxwdE9wdGlvbnMiLCJpbkJyb3dzZXIiLCJvcGVuRmlsZSIsInJlcXVlc3RzR2V0IiwidGltZW91dCIsIm9wZW5VUkwiLCJfX2Z1dHVyZV9fIiwicHl0aG9uMyIsInJlYWQiLCJpbXBvcnRGaWxlIiwiZmlsZXdyaXRlIiwid3JpdGVGaWxlIiwicHJpbnQiLCJpbnB1dGZ1biIsImlucHV0ZnVuVGFrZXNQcm9tcHQiLCJpbWFnZVByb3h5IiwiZ2V0SW1hZ2VQcm94eSIsInJldGFpbkdsb2JhbHMiLCJ3YXJuIiwibW9ja1VybERhdGEiLCJJT0Vycm9yIiwicmVhZEZpbGUiLCJFcnJvciIsIlVUSUxJVFlfTU9EVUxFX0NPREUiLCJwcmlvciIsInRpbWVpdCIsImRpZmZlcmVuY2UiLCJjb25zb2xlX2xvZyIsImNvbnNvbGVfZGVidWciLCJnZXRfb3V0cHV0IiwiaXRlbSIsInRvU2t1bHB0IiwicmVzZXRfb3V0cHV0IiwiZ2V0X3Byb2dyYW0iLCJnZXRfZXZhbHVhdGlvbiIsImV2YWx1YXRpb24iLCJ0cmFjZV9saW5lcyIsInJlYWxMaW5lcyIsImdldF9zdHVkZW50X2Vycm9yIiwiaGFkX2V4ZWN1dGlvbl90aW1lX2Vycm9yIiwiYmFja3VwVGltZSIsImxpbWl0X2V4ZWN1dGlvbl90aW1lIiwiZXhlY0xpbWl0IiwiZXhlY0xpbWl0RnVuY3Rpb24iLCJleGVjU3RhcnQiLCJ1bmxpbWl0X2V4ZWN1dGlvbl90aW1lIiwic3VwcHJlc3Nfc2Nyb2xsaW5nIiwic2Nyb2xsaW5nIiwiZ2V0X3Bsb3RzIiwib3V0cHV0cyIsImdyYXBoIiwicGxvdCIsIm5ld1Bsb3QiLCJTdHVkZW50RGF0YSIsIm5ld0RpY3QiLCJhYnN0ciIsInNhdHRyIiwicmVzdWx0cyIsIm9iamVjdFNldEl0ZW0iLCJ1bmZpeFJlc2VydmVkIiwiY2FsbF9mIiwia3dhIiwicHlDaGVja0FyZ3NMZW4iLCJJbmZpbml0eSIsIkFycmF5Iiwia3dhcmdzIiwiYnVpbHRpbnMiLCJmdW5jdGlvbk5hbWUiLCJtcCRsb29rdXAiLCJmdW5jdGlvbk9iamVjdCIsInRwJGNhbGwiLCJjb19rd2FyZ3MiLCJjb19uYW1lIiwiZ2V0X25hbWVzX2J5X3R5cGUiLCJleGNsdWRlX2J1aWx0aW5zIiwiY2hlY2tCb29sIiwiZ2V0X3ZhbHVlc19ieV90eXBlIiwiY2FsbHNpbU9yU3VzcGVuZCIsImdldF9zdHVkZW50X2RhdGEiLCJzZXRfaW5zdHJ1Y3Rpb25zIiwibmV3SW5zdHJ1Y3Rpb25zIiwiY2hhbmdlZEluc3RydWN0aW9ucyIsImdldF9tb2RlbF9pbmZvIiwiSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24iLCJkaXNhYmxlVGltZW91dCIsImFmdGVyU2luZ2xlRXhlY3V0aW9uIiwiJG1haW4iLCJkZWwkaXRlbSIsImZvdW5kIiwic2VhcmNoRm9yRmlsZSIsIk9TRXJyb3IiLCJuZXh0SW5wdXQiLCJORVdfTElORV9SRUdFWCIsIk9uUnVuQ29uZmlndXJhdGlvbiIsImRpc2FibGVUaWZhIiwicmVwb3J0Iiwic3R1ZGVudENvZGVTYWZlIiwiZHVtbXlPdXRTYW5kYm94IiwiaW5zdHJ1Y3RvckNvZGUiLCJzdHVkZW50Q29kZSIsInF1aWNrIiwiaXNTYWZlIiwic2FmZUNvZGUiLCJXUkFQX0lOU1RSVUNUT1JfQ09ERSIsImdsb2JhbHMiLCJvbl9ydW4iLCJwcmVzZW50RmVlZGJhY2siLCJTVUNDRVNTIiwiU0NPUkUiLCJvbGRTY29yZSIsIm9uRXhlY3V0aW9uIiwic2Nyb2xsVG9Cb3R0b20iLCJwcmVzZW50SW50ZXJuYWxFcnJvciIsIlN0dWRlbnRDb25maWd1cmF0aW9uIiwiaXNGb3JiaWRkZW4iLCJsb2NhbHMiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwiaXNEb2NzdHJpbmciLCJjdXJyZW50U3RlcCIsInRyYWNlIiwicGFyc2VHbG9iYWxzIiwiY3VycmVudFRyYWNlRGF0YSIsImxhc3RTdGVwIiwiY3VycmVudExpbmUiLCJsYXN0TGluZSIsImN1cnJlbnRUcmFjZVN0ZXAiLCJhc3QiLCJ2aXNpdGVkTGluZXMiLCJTZXQiLCJ2aXNpdEJvZHkiLCJub2RlIiwiYWRkIiwic3RhdGVtZW50Iiwib3JlbHNlIiwiZmluYWxib2R5IiwiZnJvbSIsImFzdEZyb21QYXJzZSIsImNzdCIsImZsYWdzIiwiZ2V0TGluZXMiLCJwcmVzZW50UnVuRXJyb3IiLCJlcnJvckJ1dHRvbiIsIlJ1bkNvbmZpZ3VyYXRpb24iLCJyZXNldCIsInVwZGF0ZVBhcnNlIiwiY2xlYXJJbnB1dCIsImZpbmlzaFR1cnRsZXMiLCJoaWRlRXZhbHVhdGUiLCJiZWdpbkV2YWwiLCJ2ZXJpZmllciIsIkV2YWxDb25maWd1cmF0aW9uIiwicHJpbnRWYWx1ZSIsIl8iLCJPbkNoYW5nZUNvbmZpZ3VyYXRpb24iLCJ0cmlnZ2VyT25DaGFuZ2UiLCJPbkV2YWxDb25maWd1cmF0aW9uIiwib25fZXZhbCIsIkJsb2NrUHlFbmdpbmUiLCJleGVjdXRpb25Nb2RlbCIsImNvbmZpZ3VyYXRpb25zIiwiZXZhbCIsIm9uRXhlY3V0aW9uQmVnaW4iLCJvbkV4ZWN1dGlvbkVuZCIsInJlc2V0U3R1ZGVudE1vZGVsIiwicmVzZXRSZXBvcnRzIiwicmVzZXRFeGVjdXRpb25CdWZmZXIiLCJ1c2UiLCJkaXNhYmxlRmVlZGJhY2siLCJzaG93RXJyb3JzIiwicHJvdmlkZVNlY3JldEVycm9yIiwiZXhlY3V0aW9uRW5kXyIsImV2YWx1YXRpb25JbnB1dCIsInVzZXJJbnB1dCIsImFzeW5jVG9Qcm9taXNlIiwiaW1wb3J0TWFpbldpdGhCb2R5IiwicHJvZ3JhbXMiLCJzYXZlQ29kZSIsInZlcmlmeUNvZGUiLCJydW5JbnN0cnVjdG9yQ29kZSIsIkJsb2NrUHkiLCJpbml0TW9kZWwiLCJzZXRBc3NpZ25tZW50IiwiaW5pdE1haW4iLCJpbml0VXRpbGl0aWVzIiwiaW5pdE1vZGVsTWV0aG9kcyIsInR1cm5PbkhhY2tzIiwiaW5pdEludGVyZmFjZSIsImFwcGx5TW9kZWwiLCJpbml0Q29tcG9uZW50cyIsIm1ha2VFeHRyYVN1YnNjcmlwdGlvbnMiLCJpbml0aWFsQ29uZmlndXJhdGlvbl8iLCJsb2NhbFNldHRpbmdzXyIsInJvbGUiLCJnZXRTZXR0aW5nIiwib2JzZXJ2YWJsZUFycmF5IiwiZm9ya2VkSWQiLCJmb3JrZWRWZXJzaW9uIiwib3duZXJJZCIsInNhbXBsZVN1Ym1pc3Npb25zIiwicHVibGljIiwiZ3JhZGluZ1N0YXR1cyIsImJpZ0NvbnNvbGUiLCJjdXJyZW50Q29uc29sZUhlaWdodCIsInNlY29uZFJvd1NlY29uZFBhbmVsIiwibG9hZEFzc2lnbm1lbnRNZXNzYWdlIiwibG9hZEhpc3RvcnlNZXNzYWdlIiwibG9hZEZpbGVNZXNzYWdlIiwibG9hZERhdGFzZXQiLCJsb2FkRGF0YXNldE1lc3NhZ2UiLCJsb2dFdmVudE1lc3NhZ2UiLCJzYXZlSW1hZ2VNZXNzYWdlIiwic2F2ZUZpbGVNZXNzYWdlIiwic2F2ZUFzc2lnbm1lbnRNZXNzYWdlIiwidXBkYXRlU3VibWlzc2lvbk1lc3NhZ2UiLCJ1cGRhdGVTdWJtaXNzaW9uU3RhdHVzTWVzc2FnZSIsInNlcnZlckNvbm5lY3RlZCIsImNvbnN0YW50cyIsImd1aSIsInNhbXBsZXMiLCJzdGFydGluZ19jb2RlIiwiZXh0cmFfc3RhcnRpbmdfZmlsZXMiLCJsb2FkTm9TdWJtaXNzaW9uIiwiZ3JhZGluZ19zdGF0dXMiLCJzdWJtaXNzaW9uX3N0YXR1cyIsInVzZXJfaWQiLCJjb3Vyc2VfaWQiLCJleHRyYV9maWxlcyIsInJlc2V0SW50ZXJmYWNlIiwiZGlzbW91bnRFeHRyYUZpbGVzIiwid2FzU2VydmVyQ29ubmVjdGVkIiwiZm9ya2VkX2lkIiwiZm9ya2VkX3ZlcnNpb24iLCJpcF9yYW5nZXMiLCJvbl9jaGFuZ2UiLCJvd25lcl9pZCIsImxvYWRUYWdzIiwibG9hZFNhbXBsZVN1Ym1pc3Npb25zIiwic2FtcGxlX3N1Ym1pc3Npb25zIiwiZXh0cmFfaW5zdHJ1Y3Rvcl9maWxlcyIsImxvYWRTdWJtaXNzaW9uIiwiY29yZ2lzIiwiaXNHcmFkZXIiLCJpc0NoYW5nZWQiLCJtZW51IiwidGV4dEZ1bGxzY3JlZW4iLCJjbGlja0Z1bGxzY3JlZW4iLCJlZGl0SW5wdXRzIiwiY2FuTWFya1N1Ym1pdHRlZCIsImNhbkNsb3NlIiwidGV4dE1hcmtTdWJtaXR0ZWQiLCJpc0NvbXBsZXRlZCIsImlzU3VibWl0dGVkIiwiY2xpY2tNYXJrU3VibWl0dGVkIiwiZGVsYXllZFJ1biIsInNob3dRdWV1ZWRJbnB1dHMiLCJoaWRlUXVldWVkSW5wdXRzIiwic2Vjb25kUm93IiwiaXNBbGxWaXNpYmxlIiwiaGlkZU1pZGRsZVBhbmVsIiwiaXNUcmFjZVZpc2libGUiLCJpc0NvbnNvbGVTaG93VmlzaWJsZSIsInN3aXRjaExhYmVsIiwiYWR2YW5jZVN0YXRlIiwiY3VycmVudFBhbmVsIiwic2l6ZSIsImJhZGdlIiwidHJhY2VEYXRhIiwiYmFja3dhcmQiLCJwcmV2aW91cyIsImZvcndhcmQiLCJuZXh0IiwiaGlkZUZpbGVzIiwiaGFzQ29udGVudHMiLCJzb21lIiwibmV3RmlsZURpYWxvZyIsImRlbGV0ZSIsImRpc3BsYXlGaWxlbmFtZSIsInZpZXciLCJoaWRlRWRpdG9ycyIsImNhblNhdmUiLCJjYW5EZWxldGUiLCJjYW5SZW5hbWUiLCJ1cGxvYWQiLCJ0ZXh0RWRpdG9yIiwidXBkYXRlTW9kZSIsIm5ld01vZGUiLCJpc0hpc3RvcnlBdmFpbGFibGUiLCJ0dXJuT25IaXN0b3J5TW9kZSIsImxvYWQiLCJ0b2dnbGVIaXN0b3J5TW9kZSIsIm1vdmVUb1N0YXJ0IiwibW92ZVByZXZpb3VzIiwibW92ZU5leHQiLCJtb3N0UmVjZW50IiwibW92ZVRvTW9zdFJlY2VudCIsInNhdmUiLCJpc1J1bm5pbmciLCJtZXNzYWdlcyIsImZvcmNlIiwiZmFkZUluIiwiYXBwbHlCaW5kaW5ncyIsImJ5TmFtZSIsInVzZXJTdXBwbGllZFBhc3Njb2RlIiwicHJvbXB0Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxVQUFXQSxRQUFRLE9BQzNCLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sVUFBVyxDQUFDLFNBQVUsTUFBT0osR0FDVixpQkFBWkMsUUFDZEEsUUFBaUIsUUFBSUQsRUFBUUcsUUFBUSxVQUFXQSxRQUFRLE9BRXhESixFQUFjLFFBQUlDLEVBQVFELEVBQWEsT0FBR0EsRUFBUyxJQVJyRCxDQVNtQixvQkFBVE8sS0FBdUJBLEtBQU9DLE1BQU0sU0FBU0MsRUFBZ0NDLEdBQ3ZGLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMs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SyxzQkFDL0R4TCxFQUFXaXlCLE1BQVEsSUFBSXBiLElBTFpwaEIsTUFNWHVLLEVBQVduQixRQUFVLElBQUlnbkIsSUFOZHB3QixLQU1tQ2tYLEVBQVVuQixLQUFLLHFCQUM3RHhMLEVBQVd5TyxPQUFTLElBQUk4bEIsSUFQYjkrQixNQVFYdUssRUFBV3dHLFdBQWEsSUFBSTBDLElBUmpCelQsTUFTWHVLLEVBQVcrRSxRQUFVLElBQUkwQyxJQVRkaFMsS0FTNEJrWCxFQUFVbkIsS0FBSyxvQkFFdER4TCxFQUFXaUMsYUFBZXhNLEtBQUt1SyxXQUFXK0UsUUFBUXc0QixPQUFPLFVBQ3pEdjlCLEVBQVd4RixPQUFTLElBQUluQyxJQVpiNUMsTUFhWHVLLEVBQVcwNUIsT0FBUyxJQUFJdmdCLElBYmIxakIsTUFjWHVLLEVBQVdpYyxRQUFVLElBQUlGLElBZGR0bUIsS0FjbUNrWCxFQUFVbkIsS0FBSywrQkExMUJyRSwrQ0E2MUI2QixXQUNyQi9WLEtBQUsrQyxNQUFNMEMsUUFBUXcwQixvQkFBb0IxMEIsV0FBVSxTQUFDOFcsR0FDOUMsRUFBSzlSLFdBQVd4RixPQUFPUCxTQUFTLHdCQUF5QixHQUFJLEdBQzdCNlgsRUFBUyx3QkFoMkJyRCw4QkFxMkJRcmMsS0FBSytDLE1BQU0wQyxRQUFRWCxTQUFTLGVBcjJCcEMsdUNBeTJCUTlFLEtBQUt1SyxXQUFXeU8sT0FBT2dsQixVQXoyQi9CLHdDQTYyQlEsSUFBSStKLEVBQXVCQyxPQUFPLDhCQUNsQ2hvQyxLQUFLK0MsTUFBTTBDLFFBQVFpQyxTQUFTcWdDLFEsMkJBOTJCcEMsTSIsImZpbGUiOiJibG9ja3B5Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImpRdWVyeVwiKSwgcmVxdWlyZShcImtvXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiYmxvY2tweVwiLCBbXCJqUXVlcnlcIiwgXCJrb1wiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJibG9ja3B5XCJdID0gZmFjdG9yeShyZXF1aXJlKFwialF1ZXJ5XCIpLCByZXF1aXJlKFwia29cIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImJsb2NrcHlcIl0gPSBmYWN0b3J5KHJvb3RbXCJqUXVlcnlcIl0sIHJvb3RbXCJrb1wiXSk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNl9fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5KTtcbiIsImltcG9ydCB7TG9jYWxTdG9yYWdlV3JhcHBlcn0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHtsb2FkQXNzaWdubWVudFNldHRpbmdzLCBzYXZlQXNzaWdubWVudFNldHRpbmdzfSBmcm9tIFwiLi9lZGl0b3IvYXNzaWdubWVudF9zZXR0aW5nc1wiO1xuXG4vKipcbiAqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgbGV0IFN0YXR1c1N0YXRlID0ge1xuICAgIFJFQURZOiBcInJlYWR5XCIsXG4gICAgQUNUSVZFOiBcImFjdGl2ZVwiLFxuICAgIFJFVFJZSU5HOiBcInJldHJ5aW5nXCIsXG4gICAgRkFJTEVEOiBcImZhaWxlZFwiLFxuICAgIE9GRkxJTkU6IFwib2ZmbGluZVwiXG59O1xuXG4vKipcbiAqIE9iamVjdCBmb3IgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBleHRlcm5hbCBzZXJ2ZXJzLiBUaGlzIGluY2x1ZGVzIGZ1bmN0aW9uYWxpdHkgZm9yXG4gKiBzYXZpbmcgYW5kIGxvYWRpbmcgZmlsZXMsIGxvZ2dpbmcgZXZlbnRzLCBzYXZpbmcgY29tcGxldGlvbnMsIGFuZCByZXRyaWV2aW5nIGhpc3RvcnkuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAdGhpcyB7QmxvY2tQeVNlcnZlcn1cbiAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQmxvY2tQeVNlcnZlcihtYWluKSB7XG4gICAgdGhpcy5tYWluID0gbWFpbjtcblxuICAgIC8vIFNhdmUgVVJMcyBsb2NhbGx5IGZvciBxdWlja2VyIGFjY2Vzc1xuICAgIHRoaXMudXJscyA9IG1haW4ubW9kZWwuY29uZmlndXJhdGlvbi51cmxzO1xuXG4gICAgLy8gQWRkIHRoZSBMb2NhbFN0b3JhZ2UgY29ubmVjdGlvblxuICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBMb2NhbFN0b3JhZ2VXcmFwcGVyKFwiQkxPQ0tQWVwiKTtcblxuICAgIC8vIEZhdWx0UmVzaXN0YW50Q2FjaGVcbiAgICB0aGlzLnF1ZXVlID0ge1xuICAgICAgICBcImxvZ0V2ZW50XCI6IEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldERlZmF1bHQoXCJsb2dFdmVudFwiLCBcIltdXCIpKSxcbiAgICAgICAgXCJ1cGRhdGVTdWJtaXNzaW9uXCI6IEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldERlZmF1bHQoXCJ1cGRhdGVTdWJtaXNzaW9uXCIsIFwiW11cIikpXG4gICAgfTtcbiAgICB0aGlzLk1BWF9RVUVVRV9TSVpFID0ge1xuICAgICAgICBcImxvZ0V2ZW50XCI6IDIwMCxcbiAgICAgICAgXCJ1cGRhdGVTdWJtaXNzaW9uXCI6IDUwXG4gICAgfTtcblxuICAgIHRoaXMuVElNRVJfREVMQVkgPSAxMDAwO1xuICAgIHRoaXMuRkFJTF9ERUxBWSA9IDIwMDA7XG5cbiAgICB0aGlzLnRpbWVycyA9IHt9O1xuXG4gICAgdGhpcy5vdmVybGF5ID0gbnVsbDtcbiAgICB0aGlzLmJsb2NraW5nQXR0ZW1wdHMgPSAwO1xuXG4gICAgdGhpcy5jYWNoZWRGaWxlbmFtZXMgPSBbXTtcbiAgICB0aGlzLmNyZWF0ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB0aGlzLmNoZWNrQ2FjaGVzKCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIElQIGFkZHJlc3MgaGFzIGNoYW5nZWQsIGxvZ2dpbmcgYW4gZXZlbnQgaWYgdGhhdCBvY2N1cnMuXG4gKiBAcGFyYW0gcmVzcG9uc2VcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY2hlY2tJUCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwiSVBcIikpIHtcbiAgICAgICAgICAgIGxldCBvbGRJUCA9IHRoaXMuc3RvcmFnZS5nZXQoXCJJUFwiKTtcbiAgICAgICAgICAgIGlmIChvbGRJUCAhPT0gcmVzcG9uc2UuaXApIHtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgXCJvbGRcIjogb2xkSVAsXG4gICAgICAgICAgICAgICAgICAgIFwibmV3XCI6IHJlc3BvbnNlLmlwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dFdmVudChcIlgtSVAuQ2hhbmdlXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KFwiSVBcIiwgcmVzcG9uc2UuaXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldChcIklQXCIsIHJlc3BvbnNlLmlwKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGVyZSBoYXZlIGJlZW4gcHJldmlvdXMgZmFpbHVyZXMgY2FjaGVkLCBhbmQgaWYgc28gcmV0cmllcyB0aGVtLlxuICogVE9ETzogdXBkYXRlXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNoZWNrQ2FjaGVzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwic2F2ZUFzc2lnbm1lbnRcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXQoXCJzYXZlQXNzaWdubWVudFwiKSk7XG4gICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBcImFzc2lnbm1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2F2ZUFzc2lnbm1lbnRcIiwgdGhpcy5USU1FUl9ERUxBWSk7XG4gICAgfVxuICAgIHRoaXMuY2FjaGVkRmlsZW5hbWVzLmZvckVhY2goKGZpbGVuYW1lKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UuaGFzKFwic2F2ZUZpbGVcIiArIGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXQoXCJzYXZlRmlsZVwiICsgZmlsZW5hbWUpKTtcbiAgICAgICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBmaWxlbmFtZSwgXCJzYXZlRmlsZVwiLCB0aGlzLlRJTUVSX0RFTEFZKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBzZXJ2ZXIgPSB0aGlzO1xuICAgIE9iamVjdC5rZXlzKHRoaXMucXVldWUpLmZvckVhY2goZnVuY3Rpb24gKGVuZHBvaW50KSB7XG4gICAgICAgIChmdW5jdGlvbiBwdXNoQW55UXVldWVkKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXIucXVldWVbZW5kcG9pbnRdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2VydmVyLnF1ZXVlW2VuZHBvaW50XS5wb3AoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBzZXJ2ZXIudXJsc1tlbmRwb2ludF07XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlci5fcG9zdFJldHJ5KGRhdGEsIGVuZHBvaW50LCAxMDAwLCBwdXNoQW55UXVldWVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKHtcInN1Y2Nlc3NcIjogdHJ1ZX0pO1xuICAgIH0pO1xufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlRmlsZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCwgZmlsZW5hbWUpIHtcbiAgICBtb2RlbC5zdWJzY3JpYmUoKGNvbnRlbnRzKSA9PlxuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5hdXRvU2F2ZSgpID8gdGhpcy5zYXZlRmlsZShmaWxlbmFtZSwgY29udGVudHMpIDogZmFsc2UsIHRoaXMpO1xuICAgIHRoaXMuY2FjaGVkRmlsZW5hbWVzLnB1c2goZmlsZW5hbWUpO1xufTtcblxuLyoqXG4gKiBUT0RPOiBmaXhcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnN1Ym1pc3Npb24uY29kZSwgXCJhbnN3ZXIucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQub25SdW4sIFwiIW9uX3J1bi5weVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5vbkV2YWwsIFwiIW9uX2V2YWwucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLmFzc2lnbm1lbnQub25DaGFuZ2UsIFwiIW9uX2NoYW5nZS5weVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5pbnN0cnVjdGlvbnMsIFwiIWluc3RydWN0aW9ucy5tZFwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGUsIFwiXnN0YXJ0aW5nX2NvZGUucHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnVpLmZpbGVzLmV4dHJhU3R1ZGVudEZpbGVzLCBcIiNleHRyYV9zdHVkZW50X2ZpbGVzLmJsb2NrcHlcIik7XG4gICAgdGhpcy5jcmVhdGVGaWxlU3Vic2NyaXB0aW9uKG1vZGVsLnVpLmZpbGVzLmV4dHJhU3RhcnRpbmdGaWxlcywgXCIjZXh0cmFfc3RhcnRpbmdfZmlsZXMuYmxvY2tweVwiKTtcbiAgICB0aGlzLmNyZWF0ZUZpbGVTdWJzY3JpcHRpb24obW9kZWwudWkuZmlsZXMuZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiI2V4dHJhX2luc3RydWN0b3JfZmlsZXMuYmxvY2tweVwiKTtcbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmNyZWF0ZUV2ZW50TG9ncyA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5vbmJsdXIgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nRXZlbnQoXCJTZXNzaW9uLkVuZFwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIHdpbmRvdy5vbmZvY3VzID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ0V2ZW50KFwiU2Vzc2lvbi5TdGFydFwiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETzogQWRkIGluIGJlYWNvbj9cbn07XG5cbi8qKlxuICpcbiAqIFNvbWUgc3Vic2NyaXB0aW9ucyBoYXZlIHRvIGhhcHBlbiBhZnRlciBvdGhlciB0aGluZ3MgaGF2ZSBiZWVuIGxvYWRlZC5cbiAqIFJpZ2h0IG5vdyB0aGlzIGlzIGp1c3QgYWZ0ZXIgQ09SR0lTIGxpYnJhcmllcyBoYXZlIGJlZW4gbG9hZGVkLCBidXQgbWF5YmVcbiAqIHdlJ2xsIGFkZCBtb3JlIGxhdGVyIGFuZCB0aGlzIHdpbGwgbmVlZCB0byBiZSByZWZhY3RvcmVkLlxuICpcbiAqIFRPRE86IGZpeFxuICpcbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuZmluYWxpemVTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIC8vdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGF0YXNldHMuc3Vic2NyaWJlKHRoaXMuc2F2ZUFzc2lnbm1lbnQuYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGRlZmF1bHQgcGF5bG9hZCBmb3IgYW55IGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyIEFQSVxuICogQHJldHVybnMge3thc3NpZ25tZW50X2lkOiAqLCBjb3Vyc2VfaWQ6ICosIGdyb3VwX2lkOiAqLCB1c2VyX2lkOiAqLCB0aW1lem9uZTogKiwgdmVyc2lvbjogKiwgdGltZXN0YW1wOiAqfX1cbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuY3JlYXRlU2VydmVyRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYXNzaWdubWVudCA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50O1xuICAgIGxldCB1c2VyID0gdGhpcy5tYWluLm1vZGVsLnVzZXI7XG4gICAgbGV0IHN1Ym1pc3Npb24gPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbjtcbiAgICBsZXQgZGlzcGxheSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5O1xuICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBtaWNyb3NlY29uZHMgPSBub3cuZ2V0VGltZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIFwiYXNzaWdubWVudF9pZFwiOiBhc3NpZ25tZW50LmlkKCksXG4gICAgICAgIFwiYXNzaWdubWVudF9ncm91cF9pZFwiOiB1c2VyLmdyb3VwSWQoKSxcbiAgICAgICAgXCJjb3Vyc2VfaWRcIjogdXNlci5jb3Vyc2VJZCgpLFxuICAgICAgICBcInN1Ym1pc3Npb25faWRcIjogc3VibWlzc2lvbi5pZCgpLFxuICAgICAgICBcInVzZXJfaWRcIjogdXNlci5pZCgpLFxuICAgICAgICBcInZlcnNpb25cIjogYXNzaWdubWVudC52ZXJzaW9uKCksXG4gICAgICAgIFwidGltZXN0YW1wXCI6IG1pY3Jvc2Vjb25kcyxcbiAgICAgICAgXCJ0aW1lem9uZVwiOiBub3cuZ2V0VGltZXpvbmVPZmZzZXQoKSxcbiAgICAgICAgXCJwYXNzY29kZVwiOiBkaXNwbGF5LnBhc3Njb2RlKClcbiAgICB9O1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBzdGF0dXMgYW5kIG1lc3NhZ2UgZm9yIHRoZSByZWxldmFudCBlbmRwb2ludC5cbiAqIEBwYXJhbSBlbmRwb2ludCB7c3RyaW5nfSBvbmUgb2YgdGhlIFVSTCBlbmRwb2ludHNcbiAqIEBwYXJhbSBzdGF0dXMge1N0YXR1c1N0YXRlfVxuICogQHBhcmFtIG1lc3NhZ2Uge3N0cmluZz99XG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnNldFN0YXR1cyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgc3RhdHVzLCBtZXNzYWdlKSB7XG4gICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1c1tlbmRwb2ludF0oc3RhdHVzKTtcbiAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzW2VuZHBvaW50ICsgXCJNZXNzYWdlXCJdKG1lc3NhZ2UgfHwgXCJcIik7XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgYW4gb3ZlcmxheSBvbiB0aGUgc2NyZWVuIHRoYXQgYmxvY2tzIG9wZXJhdGlvbiB1bnRpbCB0aGUgc3lzdGVtIGlzIHJlYWR5LlxuICogVGhlIG92ZXJsYXkgZ2V0cyBwcm9ncmVzc2l2ZWx5IGRhcmtlciB0byBpbmRpY2F0ZSByZXBlYXRlZCBmYWlsdXJlcy5cbiAqL1xuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc2hvd092ZXJsYXkgPSBmdW5jdGlvbiAoYXR0ZW1wdCkge1xuICAgIHRoaXMuYmxvY2tpbmdBdHRlbXB0cyArPSAxO1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImJsb2NrcHktb3ZlcmxheVwiKS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gJCgnPGRpdiBjbGFzcz1cImJsb2NrcHktb3ZlcmxheVwiPiA8L2Rpdj4nKTtcbiAgICAgICAgdGhpcy5vdmVybGF5LmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuICAgIH1cbiAgICBzd2l0Y2ggKGF0dGVtcHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdGhpcy5vdmVybGF5LmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgXCIjOTg4XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiIzY1NVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBcIiMzMzNcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiYmxhY2tcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59O1xuXG4vKipcbiAqIFVuZG8gYSBsZXZlbCBvZiBvdmVybGF5OyBpZiB0aGlzIHdhcyB0aGUgbGFzdCBsZXZlbCwgcmVtb3ZlcyBpdCBmcm9tIHRoZSBzY3JlZW4uXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmhpZGVPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYmxvY2tpbmdBdHRlbXB0cyAtPSAxO1xuICAgIGlmICh0aGlzLmJsb2NraW5nQXR0ZW1wdHMgPD0gMCkge1xuICAgICAgICB0aGlzLm92ZXJsYXkucmVtb3ZlKCk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuX2VucXVldWVEYXRhID0gZnVuY3Rpb24gKGNhY2hlLCBkYXRhKSB7XG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgbm90IG92ZXJmaWxsZWQgdGhlIHF1ZXVlXG4gICAgbGV0IGxlbmd0aCA9IHRoaXMucXVldWVbY2FjaGVdLmxlbmd0aDtcbiAgICBsZXQgbWF4ID0gdGhpcy5NQVhfUVVFVUVfU0laRVtjYWNoZV07XG4gICAgaWYgKGxlbmd0aCA+IG1heCkge1xuICAgICAgICB0aGlzLnF1ZXVlW2NhY2hlXSA9IHRoaXMucXVldWVbY2FjaGVdLnNsaWNlKGxlbmd0aCAtIG1heCwgbWF4KTtcbiAgICB9XG4gICAgLy8gT25seSBhZGQgdGhlIGVsZW1lbnQgaWYgaXQncyBuZXdcbiAgICBsZXQga2V5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5xdWV1ZVtjYWNoZV0uaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtjYWNoZV0ucHVzaChrZXkpO1xuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KGNhY2hlLCBKU09OLnN0cmluZ2lmeSh0aGlzLnF1ZXVlW2NhY2hlXSkpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9kZXF1ZXVlRGF0YSA9IGZ1bmN0aW9uIChjYWNoZSwgZGF0YSkge1xuICAgIGxldCBrZXkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICBsZXQgaW5kZXggPSB0aGlzLnF1ZXVlW2NhY2hlXS5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtjYWNoZV0uc3BsaWNlKGluZGV4KTtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldChjYWNoZSwgSlNPTi5zdHJpbmdpZnkodGhpcy5xdWV1ZVtjYWNoZV0pKTtcbiAgICB9XG59O1xuXG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9wb3N0UmV0cnkgPSBmdW5jdGlvbiAoZGF0YSwgZW5kcG9pbnQsIGRlbGF5LCBjYWxsYmFjaykge1xuICAgIC8vIFRyaWdnZXIgcmVxdWVzdFxuICAgIGxldCBwb3N0UmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgLy8gTWFrZSBhIGJhY2t1cCBvZiB0aGUgY3VycmVudCBwb3N0XG4gICAgICAgIHRoaXMuX2VucXVldWVEYXRhKGVuZHBvaW50LCBkYXRhKTtcbiAgICAgICAgJC5wb3N0KHRoaXMudXJsc1tlbmRwb2ludF0sIGRhdGEpXG4gICAgICAgICAgICAuZG9uZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXF1ZXVlRGF0YShlbmRwb2ludCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLkZBSUxFRCwgcmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tJUChyZXNwb25zZS5pcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIElmIHNlcnZlciByZXF1ZXN0IGlzIHRoZSBsYXRlc3Qgb25lLCB0aGVuIGxldCdzIHRyeSBpdCBhZ2FpbiBpbiBhIGJpdFxuICAgICAgICAgICAgLmZhaWwoKGVycm9yLCB0ZXh0U3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoZW5kcG9pbnQsIFN0YXR1c1N0YXRlLlJFVFJZSU5HLCB0ZXh0U3RhdHVzLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RSZXRyeShkYXRhLCBlbmRwb2ludCwgZGVsYXkgKyB0aGlzLkZBSUxfREVMQVksIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKGRlbGF5ID09PSBudWxsKSB7XG4gICAgICAgIHBvc3RSZXF1ZXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChwb3N0UmVxdWVzdCwgZGVsYXkpO1xuICAgIH1cbn07XG5cbi8qKlxuICogTWFrZSBhIEFKQVggcmVxdWVzdCB0aGF0LCB1cG9uIGZhaWx1cmUsIHdpbGwgY2hlY2sgdG8gc2VlIGlmIHRoaXMgd2FzIHRoZVxuICogbGF0ZXN0IGF0dGVtcHQgZm9yIHRoaXMgYGNhY2hlYCBtYXJrZXIuIElmIHNvLCBpdCB3aWxsIGF0dGVtcHQgYWdhaW4gdW50aWxcbiAqIHN1Y2Nlc3NmdWw7IG90aGVyd2lzZSwgaXQgZ2l2ZXMgdXAgdGhlIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgQUpBWC1yZWFkeSBkYXRhIHRvIGJlIHBvc3RlZFxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lIC0gVGhlIHVuaXF1ZSBuYW1lIGdpdmVuIHRvIHRoZSByZWxldmFudCB0aW1lclxuICogQHBhcmFtIHtTdHJpbmd9IGVuZHBvaW50IC0gVGhlIHVuaXF1ZSBuYW1lIGdpdmVuIHRvIHRoZSByZWxldmFudCBjYWNoZSBlbnRyeVxuICogQHBhcmFtIHtJbnRlZ2VyfSBkZWxheSAtIFRoZSBjdXJyZW50IG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmVcbiB0cnlpbmcgdGhlIHJlcXVlc3QgYWdhaW4uXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLl9wb3N0TGF0ZXN0UmV0cnkgPSBmdW5jdGlvbiAoZGF0YSwgZmlsZW5hbWUsIGVuZHBvaW50LCBkZWxheSkge1xuICAgIGxldCBjYWNoZSA9IGVuZHBvaW50ICsgZmlsZW5hbWU7XG4gICAgbGV0IHJlcXVlc3QgPSAoKSA9PiB7XG4gICAgICAgIC8vIE1ha2UgYSBiYWNrdXAgb2YgdGhlIGN1cnJlbnQgcG9zdFxuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KGNhY2hlLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIGxldCB0aW1lID0gdGhpcy5zdG9yYWdlLmdldFRpbWUoY2FjaGUpO1xuICAgICAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgICAgICQucG9zdCh0aGlzLnVybHNbZW5kcG9pbnRdLCBkYXRhKVxuICAgICAgICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0lQKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2VydmVyIHJlcXVlc3QgaXMgdGhlIGxhdGVzdCBvbmUsIGNsZWFyIGl0IGZyb20gdGhlIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZWRUaW1lID0gdGhpcy5zdG9yYWdlLmdldFRpbWUoY2FjaGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA+PSBjYWNoZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlKGNhY2hlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY29ubmVjdGVkIGJ1dCBmYWlsZWQsIGRvbid0IHRyeSBhZ2FpbiBidXQgbGV0IHRoZSB1c2VyIGtub3cgd2h5LlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSB0aGUgbGF0ZXN0IG9uZSwgY2xlYXIgaXQgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWNoZWRUaW1lID0gdGhpcy5zdG9yYWdlLmdldFRpbWUoY2FjaGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPj0gY2FjaGVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmUoY2FjaGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mYWlsKChlcnJvciwgdGV4dFN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5SRVRSWUlORywgdGV4dFN0YXR1cy50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBzZXJ2ZXIgcmVxdWVzdCBpcyB0aGUgbGF0ZXN0IG9uZSwgdGhlbiBsZXQncyB0cnkgaXQgYWdhaW4gaW4gYSBiaXRcbiAgICAgICAgICAgICAgICBsZXQgY2FjaGVkVGltZSA9IHRoaXMuc3RvcmFnZS5nZXRUaW1lKGNhY2hlKTtcbiAgICAgICAgICAgICAgICBpZiAodGltZSA+PSBjYWNoZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RMYXRlc3RSZXRyeShkYXRhLCBmaWxlbmFtZSwgZW5kcG9pbnQsIGRlbGF5ICsgdGhpcy5GQUlMX0RFTEFZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyc1tjYWNoZV0pO1xuICAgIGlmIChkZWxheSA9PT0gbnVsbCkge1xuICAgICAgICByZXF1ZXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aW1lcnNbY2FjaGVdID0gc2V0VGltZW91dChyZXF1ZXN0LCBkZWxheSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuX3Bvc3RCbG9ja2luZyA9IGZ1bmN0aW9uIChlbmRwb2ludCwgZGF0YSwgYXR0ZW1wdHMsIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICB0aGlzLnNob3dPdmVybGF5KGF0dGVtcHRzKTtcbiAgICAkLnBvc3QodGhpcy51cmxzW2VuZHBvaW50XSwgZGF0YSlcbiAgICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGVPdmVybGF5KCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrSVAocmVzcG9uc2UpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbCgoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgIGlmIChhdHRlbXB0cyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKGVuZHBvaW50LCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHRleHRTdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZShlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhlbmRwb2ludCwgU3RhdHVzU3RhdGUuUkVUUllJTkcsIHRleHRTdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhlbmRwb2ludCwgZGF0YSwgYXR0ZW1wdHMgLSAxLCBzdWNjZXNzLCBmYWlsdXJlKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLkZBSUxfREVMQVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn07XG5cblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUubG9hZEFzc2lnbm1lbnQgPSBmdW5jdGlvbiAoYXNzaWdubWVudF9pZCkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2FkQXNzaWdubWVudFwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiYXNzaWdubWVudF9pZFwiXSA9IGFzc2lnbm1lbnRfaWQ7XG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcImxvYWRBc3NpZ25tZW50XCIsIGRhdGEsIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4ubG9hZEFzc2lnbm1lbnREYXRhXyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJsb2FkQXNzaWdubWVudFwiLCBTdGF0dXNTdGF0ZS5GQUlMRUQsIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfTE9BRElOR19BU1NJR05NTkVOVChyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX0xPQURJTkdfQVNTSUdOTU5FTlQodGV4dFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcImxvYWRBc3NpZ25tZW50XCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnNhdmVBc3NpZ25tZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJzYXZlQXNzaWdubWVudFwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiaGlkZGVuXCJdID0gbW9kZWwuYXNzaWdubWVudC5oaWRkZW4oKTtcbiAgICAgICAgZGF0YVtcInJldmlld2VkXCJdID0gbW9kZWwuYXNzaWdubWVudC5yZXZpZXdlZCgpO1xuICAgICAgICBkYXRhW1wicHVibGljXCJdID0gbW9kZWwuYXNzaWdubWVudC5wdWJsaWMoKTtcbiAgICAgICAgZGF0YVtcInVybFwiXSA9IG1vZGVsLmFzc2lnbm1lbnQudXJsKCk7XG4gICAgICAgIGRhdGFbXCJpcF9yYW5nZXNcIl0gPSBtb2RlbC5hc3NpZ25tZW50LmlwUmFuZ2VzKCk7XG4gICAgICAgIGRhdGFbXCJuYW1lXCJdID0gbW9kZWwuYXNzaWdubWVudC5uYW1lKCk7XG4gICAgICAgIGRhdGFbXCJzZXR0aW5nc1wiXSA9IHNhdmVBc3NpZ25tZW50U2V0dGluZ3MobW9kZWwpO1xuXG4gICAgICAgIHRoaXMuX3Bvc3RCbG9ja2luZyhcInNhdmVBc3NpZ25tZW50XCIsIGRhdGEsIDMsICgpID0+IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfU0FWSU5HX0FTU0lHTk1ORU5UKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVBc3NpZ25tZW50XCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUsIFwiU2VydmVyIGlzIG5vdCBjb25uZWN0ZWQhIChTYXZlIEFzc2lnbm1lbnQpXCIpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmxvYWRIaXN0b3J5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImxvYWRIaXN0b3J5XCIpKSB7XG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgdGhpcy5fcG9zdEJsb2NraW5nKFwibG9hZEhpc3RvcnlcIiwgZGF0YSwgMiwgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoZSwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuRVJST1JfTE9BRElOR19ISVNUT1JZKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS5sb2dFdmVudCA9IGZ1bmN0aW9uIChldmVudF90eXBlLCBjYXRlZ29yeSwgbGFiZWwsIG1lc3NhZ2UsIGZpbGVfcGF0aCkge1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2dFdmVudFwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiZXZlbnRfdHlwZVwiXSA9IGV2ZW50X3R5cGU7XG4gICAgICAgIGRhdGFbXCJjYXRlZ29yeVwiXSA9IGNhdGVnb3J5O1xuICAgICAgICBkYXRhW1wibGFiZWxcIl0gPSBsYWJlbDtcbiAgICAgICAgZGF0YVtcIm1lc3NhZ2VcIl0gPSBtZXNzYWdlO1xuICAgICAgICBkYXRhW1wiZmlsZV9wYXRoXCJdID0gZmlsZV9wYXRoO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcImxvZ0V2ZW50XCIsIFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIC8vIFRyaWdnZXIgcmVxdWVzdFxuICAgICAgICB0aGlzLl9wb3N0UmV0cnkoZGF0YSwgXCJsb2dFdmVudFwiLCAwLCAoKSA9PiB7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwibG9nRXZlbnRcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUuc2F2ZUltYWdlID0gZnVuY3Rpb24gKGRpcmVjdG9yeSwgaW1hZ2UpIHtcbiAgICBpZiAodGhpcy5tYWluLm1vZGVsLnVpLnNlcnZlci5pc0VuZHBvaW50Q29ubmVjdGVkKFwic2F2ZUltYWdlXCIpKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5jcmVhdGVTZXJ2ZXJEYXRhKCk7XG4gICAgICAgIGRhdGFbXCJkaXJlY3RvcnlcIl0gPSBkaXJlY3Rvcnk7XG4gICAgICAgIGRhdGFbXCJpbWFnZVwiXSA9IGltYWdlO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVJbWFnZVwiLCBTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICAvLyBUcmlnZ2VyIHJlcXVlc3RcbiAgICAgICAgdGhpcy5fcG9zdExhdGVzdFJldHJ5KGRhdGEsIFwidHVydGxlX291dHB1dFwiLCBcInNhdmVJbWFnZVwiLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcInNhdmVJbWFnZVwiLCBTdGF0dXNTdGF0ZS5PRkZMSU5FKTtcbiAgICB9XG59O1xuXG5CbG9ja1B5U2VydmVyLnByb3RvdHlwZS51cGRhdGVTdWJtaXNzaW9uU3RhdHVzID0gZnVuY3Rpb24obmV3U3RhdHVzKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInVwZGF0ZVN1Ym1pc3Npb25TdGF0dXNcIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcInN0YXR1c1wiXSA9IG5ld1N0YXR1cztcbiAgICAgICAgbGV0IHBvc3RTdGF0dXNDaGFuZ2UgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLnN1Ym1pc3Npb25TdGF0dXMobmV3U3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcG9zdEJsb2NraW5nKFwidXBkYXRlU3VibWlzc2lvblN0YXR1c1wiLCBkYXRhLCAyLCBwb3N0U3RhdHVzQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX1VQREFUSU5HX1NVQk1JU1NJT05fU1RBVFVTKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gbG9hZCBmaWxlcyBhbmQgd2ViIHJlc291cmNlcy5cbiAqXG4gKiBERVBSRUNBVEVEXG4gKi9cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLmxvYWRGaWxlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCB0eXBlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgIHZhciBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICB2YXIgc2VydmVyID0gdGhpcztcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJsb2FkX2ZpbGVcIikpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcImZpbGVuYW1lXCJdID0gZmlsZW5hbWU7XG4gICAgICAgIGRhdGFbXCJ0eXBlXCJdID0gdHlwZTtcbiAgICAgICAgdGhpcy5fcG9zdEJsb2NraW5nKHRoaXMudXJscy5sb2FkX2ZpbGUsIGRhdGEsIDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuc2V0U3RhdHVzKFwibG9hZEZpbGVcIiwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlNlcnZlciBmYWlsdXJlISBSZXBvcnQgdG8gaW5zdHJ1Y3RvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yQ2FsbGJhY2soXCJObyBmaWxlIHNlcnZlciBhdmFpbGFibGUuXCIpO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcImxvYWRGaWxlXCIsIFN0YXR1c1N0YXRlLk9GRkxJTkUsIFwiU2VydmVyIGlzIG5vdCBjb25uZWN0ZWQhIChMb2FkIEZpbGUpXCIpO1xuICAgIH1cbn07XG5cbkJsb2NrUHlTZXJ2ZXIucHJvdG90eXBlLnNhdmVGaWxlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjb250ZW50cywgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWxheSA9IHRoaXMuVElNRVJfREVMQVk7XG4gICAgfVxuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbDtcbiAgICBpZiAobW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJzYXZlRmlsZVwiKSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuY3JlYXRlU2VydmVyRGF0YSgpO1xuICAgICAgICBkYXRhW1wiZmlsZW5hbWVcIl0gPSBmaWxlbmFtZTtcbiAgICAgICAgZGF0YVtcImNvZGVcIl0gPSBjb250ZW50cztcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoXCJzYXZlRmlsZVwiLCBTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICB0aGlzLl9wb3N0TGF0ZXN0UmV0cnkoZGF0YSwgZmlsZW5hbWUsIFwic2F2ZUZpbGVcIiwgZGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdHVzKFwic2F2ZUZpbGVcIiwgU3RhdHVzU3RhdGUuT0ZGTElORSk7XG4gICAgfVxufTtcblxuQmxvY2tQeVNlcnZlci5wcm90b3R5cGUudXBkYXRlU3VibWlzc2lvbiA9IGZ1bmN0aW9uIChzY29yZSwgY29ycmVjdCwgaGlkZGVuT3ZlcnJpZGUsIGZvcmNlVXBkYXRlKSB7XG4gICAgbGV0IGNhbGxiYWNrID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY2FsbGJhY2tzLnN1Y2Nlc3M7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcInVwZGF0ZVN1Ym1pc3Npb25cIikpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNyZWF0ZVNlcnZlckRhdGEoKTtcbiAgICAgICAgZGF0YVtcInNjb3JlXCJdID0gc2NvcmU7XG4gICAgICAgIGRhdGFbXCJjb3JyZWN0XCJdID0gY29ycmVjdDtcbiAgICAgICAgZGF0YVtcImhpZGRlbl9vdmVycmlkZVwiXSA9IGhpZGRlbk92ZXJyaWRlO1xuICAgICAgICBkYXRhW1wiZm9yY2VfdXBkYXRlXCJdID0gZm9yY2VVcGRhdGU7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5ibG9ja0VkaXRvci5nZXRQbmdGcm9tQmxvY2tzKChwbmdEYXRhLCBpbWcpID0+IHtcbiAgICAgICAgICAgIGRhdGFbXCJpbWFnZVwiXSA9IHBuZ0RhdGE7XG4gICAgICAgICAgICBpZiAoaW1nLnJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGltZy5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Bvc3RSZXRyeShkYXRhLCBcInVwZGF0ZVN1Ym1pc3Npb25cIiwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKFwidXBkYXRlU3VibWlzc2lvblwiLCBTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhcInVwZGF0ZVN1Ym1pc3Npb25cIiwgU3RhdHVzU3RhdGUuRkFJTEVELCByZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhpZGRlbk92ZXJyaWRlICYmIGNvcnJlY3QgJiYgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFbXCJhc3NpZ25tZW50X2lkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59OyIsIi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZWxlbWVudCBpcyBpbiB0aGUgbGlzdC5cbiAqIEBwYXJhbSB7YW55dGhpbmd9IG5lZWRsZSAtIFRoZSBlbGVtZW50IHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIHtBcnJheX0gaGF5c3RhY2sgLSBUaGUgbGlzdCB0byBzZWFyY2guXG4gKiBAcmV0dXJuIHtCb29sZWFufSBXaGV0aGVyIHRoZSBlbGVtZW50IGV4aXN0c1xuICovXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID4gLTE7XG59XG5cbi8qKlxuICogUmVtb3ZlIGR1cGxpY2F0ZSB2YWx1ZXMgZnJvbSBhbiBhcnJheSwgcHJlc2VydmluZyBvcmRlci5cbiAqIENyZWF0ZXMgYSBuZXcgYXJyYXksIHNvIGlzIG5vbi1kZXN0cnVjdGl2ZS5cbiAqIENvdXJ0ZXN5OlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU4NDM3MC9ob3ctdG8tbWVyZ2UtdHdvLWFycmF5cy1pbi1qYXZhc2NyaXB0LWFuZC1kZS1kdXBsaWNhdGUtaXRlbXNcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSAtIFRoZSBhcnJheSB0byB1bmlxdWlmeS4gRWxlbWVudHMgY29tcGFyZWQgd2l0aCA9PT0uXG4gKi9cbmZ1bmN0aW9uIGFycmF5VW5pcXVlKGFycmF5KSB7XG4gICAgdmFyIGEgPSBhcnJheS5jb25jYXQoKTtcbiAgICBmb3IodmFyIGk9MDsgaTxhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGZvcih2YXIgaj1pKzE7IGo8YS5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgaWYoYVtpXSA9PT0gYVtqXSkge2Euc3BsaWNlKGotLSwgMSk7fVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG59XG5cbi8qKlxuICogQSBoZWxwZXIgZnVuY3Rpb24gZm9yIGV4dGVuZGluZyBhbiBhcnJheSBiYXNlZFxuICogb24gYW4gXCJhZGRBcnJheVwiIGFuZCBcInJlbW92ZUFycmF5XCIuIEFueSBlbGVtZW50XG4gKiBmb3VuZCBpbiByZW1vdmVBcnJheSBpcyByZW1vdmVkIGZyb20gdGhlIGZpcnN0IGFycmF5XG4gKiBhbmQgYWxsIHRoZSBlbGVtZW50cyBvZiBhZGRBcnJheSBhcmUgYWRkZWQuXG4gKiBBbnkgZHVwbGljYXRlIGl0ZW1zIGFyZSByZW1vdmVkLlxuICogQ3JlYXRlcyBhIG5ldyBhcnJheSwgc28gaXMgbm9uLWRlc3RydWN0aXZlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IC0gdGhlIGFycmF5IHRvIG1hbmlwdWxhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFkZEFycmF5IC0gdGhlIGVsZW1lbnRzIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IHJlbW92ZUFycmF5IC0gdGhlIGVsZW1lbnRzIHRvIHJlbW92ZSBmcm9tIHRoZSBhcnJheVxuICogQHJldHVybiB7QXJyYXl9IFRoZSBtb2RpZmllZCBhcnJheVxuICovXG5mdW5jdGlvbiBleHBhbmRBcnJheShhcnJheSwgYWRkQXJyYXksIHJlbW92ZUFycmF5KSB7XG4gICAgdmFyIGNvcHlBcnJheSA9IGFycmF5LmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVBcnJheS5pbmRleE9mKGl0ZW0pID09PSAtMTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXlVbmlxdWUoY29weUFycmF5LmNvbmNhdChhZGRBcnJheSkpO1xufVxuXG4vKipcbiAqIERlZXBseSBjbG9uZXMgYSBub2RlXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgQSBub2RlIHRvIGNsb25lXG4gKiBAcmV0dXJuIHtOb2RlfSBBIGNsb25lIG9mIHRoZSBnaXZlbiBub2RlIGFuZCBhbGwgaXRzIGNoaWxkcmVuXG4gKi9cbmZ1bmN0aW9uIGNsb25lTm9kZShub2RlKSB7XG4gICAgLy8gSWYgdGhlIG5vZGUgaXMgYSB0ZXh0IG5vZGUsIHRoZW4gcmUtY3JlYXRlIGl0IHJhdGhlciB0aGFuIGNsb25lIGl0XG4gICAgdmFyIGNsb25lID0gbm9kZS5ub2RlVHlwZSA9PSAzID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobm9kZS5ub2RlVmFsdWUpIDogbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xuIFxuICAgIC8vIFJlY3Vyc2UgICAgIFxuICAgIHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICB3aGlsZShjaGlsZCkge1xuICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChjbG9uZU5vZGUoY2hpbGQpKTtcbiAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICB9XG4gICAgIFxuICAgIHJldHVybiBjbG9uZTtcbn1cblxuLyoqXG4gKiBJbmRlbnRzIHRoZSBnaXZlbiBzdHJpbmcgYnkgNCBzcGFjZXMuIFRoaXMgY29ycmVjdGx5IGhhbmRsZXMgbXVsdGktbGluZSBzdHJpbmdzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIGJlIG1hbmlwdWxhdGVkLlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIHN0cmluZyB3aXRoIGZvdXIgc3BhY2VzIGFkZGVkIGF0IHRoZSBzdGFydCBvZiBldmVyeSBuZXcgbGluZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGVudChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL14oPz0uKS9nbSwgXCIgICAgXCIpO1xufVxuXG4vKipcbiAqIFR1cm5zIHNwYWNlcyBpbnRvIHVuZGVyc2NvcmVzIGluIHRoZSBzdHJpbmcsIG1ha2VzIGl0IGxvd2VyY2FzZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgLSB0aGUgc3RyaW5nIHRvIGJlIG1hbmlwdWxhdGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2x1ZyhzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccy9nLCBcIl9cIikudG9Mb3dlckNhc2UoKTtcbn1cblxuLyoqXG4gKiBDYXBpdGFsaXplIHRoZSBmaXJzdCBsZXR0ZXIgb2YgYSBzdHJpbmcuXG4gKiBAcGFyYW0ge1N0cmluZ30gcyAtIFRoZSBzdHJpbmcgdG8gYmUgY2FwaXRhbGl6ZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwaXRhbGl6ZShzKSB7XG4gICAgaWYgKHR5cGVvZiBzICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBbYG1pbmAsIGBtYXhgXS5cbiAqIFxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiAtIFRoZSBsb3dlc3QgcG9zc2libGUgaW50ZWdlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggLSBUaGUgaGlnaGVzdCBwb3NzaWJsZSBpbnRlZ2VyIChpbmNsdXNpdmUpLlxuICogQHJldHVybnMge251bWJlcn0gQSByYW5kb20gaW50ZWdlci5cbiAqL1xuZnVuY3Rpb24gcmFuZG9tSW50ZWdlcihtaW4sbWF4KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoobWF4LW1pbisxKSttaW4pO1xufVxuXG4vKipcbiAqIEVuY29kZXMgc29tZSB0ZXh0IHNvIHRoYXQgaXQgY2FuIGJlIHNhZmVseSB3cml0dGVuIGludG8gYW4gSFRNTCBib3guXG4gKiBUaGlzIGluY2x1ZGVzIHJlcGxhY2luZyBzcGVjaWFsIEhUTUwgY2hhcmFjdGVycyAoJiwgPCwgPiwgZXRjLikuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSB0ZXh0IHRvIGJlIGNvbnZlcnRlZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIEhUTUwtc2FmZSB0ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlSFRNTChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCBcIiZsdDtcIilcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKVxuICAgICAgICAucmVwbGFjZSgvJy9nLCBcIiZhcG9zO1wiKTtcbn1cblxuLyoqXG4gKiBTaHVmZmxlIHRoZSBibG9ja3MgaW4gdGhlIHdvcmtzcGFjZVxuICovXG5pZiAodHlwZW9mIEJsb2NrbHkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2h1ZmZsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWV0cmljcyA9IHRoaXMuZ2V0TWV0cmljcygpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZXRyaWNzLnZpZXdXaWR0aCAvIDIsXG4gICAgICAgICAgICBoZWlnaHQgPSBtZXRyaWNzLnZpZXdIZWlnaHQ7XG4gICAgICAgIHZhciBibG9ja3MgPSB0aGlzLmdldFRvcEJsb2NrcyhmYWxzZSk7XG4gICAgICAgIHZhciB5ID0gNSwgeCA9IDAsXG4gICAgICAgICAgICBtYXhpbWFsX2luY3JlYXNlID0gaGVpZ2h0L2Jsb2Nrcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2tzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIC8vIEdldCBhIGJsb2NrXG4gICAgICAgICAgICB2YXIgYmxvY2sgPSBibG9ja3NbaV07XG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IGJsb2NrLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtcbiAgICAgICAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgICAgICAgICB4ID0gNTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IC1wcm9wZXJ0aWVzLngrcmFuZG9tSW50ZWdlcigxMCwgd2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2subW92ZUJ5KHgsIFxuICAgICAgICAgICAgICAgICAgICAgICAgIC1wcm9wZXJ0aWVzLnkreSk7XG4gICAgICAgICAgICB5ID0geSArIHJhbmRvbUludGVnZXIoNSwgbWF4aW1hbF9pbmNyZWFzZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKipcbiAqIE1vdmUgZWxlbWVudHMgZnJvbSBvbmUgYXJyYXkgdG8gYW5vdGhlciBiYXNlZCBvbiBhIGNvbmRpdGlvbmFsIGNoZWNrLlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzE4ODc5NjcvamF2YXNjcmlwdC1tb3ZlLW9iamVjdHMtZnJvbS1vbmUtYXJyYXktdG8tYW5vdGhlci1iZXN0LWFwcHJvYWNoXG4gKi9cbmZ1bmN0aW9uIG1vdmVFbGVtZW50cyhzb3VyY2UsIHRhcmdldCwgbW92ZUNoZWNrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBzb3VyY2VbaV07XG4gICAgICAgIGlmIChtb3ZlQ2hlY2soZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB0YXJnZXQucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgIH0gXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0RGVmaW5lZFZhbHVlKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHNbaV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBnaXZlbiBvYmplY3QgaXMgb25lIG9mIHRoZSBTay5idWlsdGluIG9iamVjdHNcbiAqIFRPRE86IG1ha2UgdGhpcyBzbyB3ZSBkb24ndCBoYXZlIHRvIGV4cGxpY2l0bHkgcHV0IG91dCBldmVyeSBvcHRpb25cbiAqICAgICAgICAgIG9uZSBwb3NzaWJsZSB0aGluZyB3ZSBjb3VsZCBkbyBpcyBnZXQgYSBzdHJpbmcgdmVyc2lvbiBvZiB0aGUgXG4gKiAgICAgICAgICBvZiB0aGUgY29uc3RydWN0b3IgYW5kIGxvb2sgZm9yIHRoZSBzdWJzdHJpbmcgXCJyZXR1cm4gbmV3IFNrLmJ1aWx0aW5cIlxuICogICAgICAgICAgQnV0IEkgZG9uJ3Qga25vdyBob3cgcmVsaWFibGUgdGhhdCBpcy4gIFJhdGhlciwgaXQncyBraW5kIG9mIGhhY2tpc2guXG4gKiAgICAgICAgICBTaG91bGQgdGVob3JldGljYWxseSBiZWxvbmcgaW4gU2suZmZpXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gdGhlIG9iamVjdCB0byBiZSBleGFtaW5lZFxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIG9uZSBvZiB0aGUgU2suYnVpbHRpbiB0eXBlc1xuKiovXG5mdW5jdGlvbiBpc1NrQnVpbHRpbihvYmope1xuICAgIHJldHVybiAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5kaWN0KSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5saXN0KSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi50dXBsZSkgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uYm9vbCkgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uaW50XykgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIFNrLmJ1aWx0aW4uZmxvYXRfKSB8fFxuICAgICAgICAob2JqIGluc3RhbmNlb2YgU2suYnVpbHRpbi5zdHIpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBTay5idWlsdGluLmxuZyk7XG4gICAgLy92YXIgY29uc19zdHIgPSBvYmouY29uc3RydWN0b3IgKyBcIlwiO1xuICAgIC8vcmV0dXJuIGNvbnNfc3RyLmluZGV4T2YoXCJyZXR1cm4gbmV3IFNrLmJ1aWx0aW5cIikgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBpc0FzdE5vZGUob2JqKXtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmIFwiX2FzdG5hbWVcIiBpbiBvYmo7XG59XG5cbi8qKlxuICogU2hvdWxkIHRoZW9yZXRpY2FsbHkgYmVsb25nIGluIFNrLmZmaSwgYnV0IEkgcHV0IGl0IGhlcmUgaW5zdGVhZCB0byBub3QgbWVzcyB1cCB0aGUgc2t1bHB0IGZpbGVzXG4gKiBsaWtlIHRoZSBub3JtYWwgU2suZmZpLnJlbWFwVG9QeSwgaXQgZG9lc24ndCB3b3JrIGZvciBmdW5jdGlvbnMgb3IgbW9yZSBjb21wbGV4IG9iamVjdHMsIGJ1dCBpdCBoYW5kbGVzXG4gKiBjYXNlcyB3aGVyZSB0aGUgdHlwZXMgaW4gb2JqIGFyZSBhIG1peCBvZiBweXRob24gU0lNUExFIG9iamVjdHMgYW5kIFNJTVBMRSBub3JtYWwgamF2YXNjcmlwdCBvYmplY3RzXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gdGhlIG9iamVjdCB0byBiZSBjb252ZXJ0ZWRcbiAqIEByZXR1cm4ge1NrLmJ1aWx0aW4uPz8/fSAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcHl0aG9uIG9iamVjdCwgZHJvcHBpbmcgYWxsIGZ1bmN0aW9ucyBhbmQgdGhpbmdzIGl0IGNhbid0IGNvbnZlcnRcbioqL1xuZnVuY3Rpb24gbWl4ZWRSZW1hcFRvUHkob2JqKXtcbiAgICB2YXIgaztcbiAgICB2YXIga3ZzO1xuICAgIHZhciBpO1xuICAgIHZhciBhcnI7XG4gICAgLy9AVE9ETzogc2hvdWxkIHRoZW9yZXRpY2FsbHkgY2hlY2sgaWYgdGhlIG9iamVjdCBpcyBhIHB5aG9uIGRpY3Qgb3IgYXJyYXkgd2l0aCBqcyBvYmplY3RzXG4gICAgaWYgKGlzU2tCdWlsdGluKG9iaikpe1xuICAgICAgICAvL29iamVjdCBpcyBhbHJlYWR5IHB5dGhvbiByZWFkeVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgICAvL29iamVjdCBpcyBhY3R1YWxseSBhIGphdmFzY3JpcHQgYXJyYXlcbiAgICAgICAgYXJyID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIC8vZm9yIGVhY2ggb2JqZWN0LCBjb252ZXJ0IGl0IHRvIGEgcHl0aG9uIG9iamVjdCBpZiBpdCBpc24ndCBvbmUgYWxyZWFkeVxuICAgICAgICAgICAgdmFyIHN1YnZhbCA9IG9ialtpXTtcbiAgICAgICAgICAgIGlmKCFpc1NrQnVpbHRpbihzdWJ2YWwpKXtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChtaXhlZFJlbWFwVG9QeShzdWJ2YWwpKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKHN1YnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLmxpc3QoYXJyKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gbnVsbCkgey8vbnVsbCBvYmplY3RcbiAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW4ubm9uZS5ub25lJDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYoIWlzU2tCdWlsdGluKG9iaikpe1xuICAgICAgICAgICAgLy9hc3N1bWluZyBpdCdzIGEgc3RhbmRhcmQgZGljdGlvbmFyeVxuICAgICAgICAgICAga3ZzID0gW107Ly9Tay5idWlsdGluLmRpY3QgdXNlcyBhbiBhcnJheSBvZiBrZXktdmFsdWUsa2V5LXZhbHVlLi4uXG4gICAgICAgICAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgLy9jb252ZXJ0IHRoZSBrZXkgaWYgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkXG4gICAgICAgICAgICAgICAga3ZzLnB1c2gobWl4ZWRSZW1hcFRvUHkoaykpO1xuICAgICAgICAgICAgICAgIC8vY292ZXJ0IGNvcnJlc3BvbmRpbmcgdmFsdWUgaWYgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkXG4gICAgICAgICAgICAgICAga3ZzLnB1c2gobWl4ZWRSZW1hcFRvUHkob2JqW2tdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGUgbmV3IGRpY3Rpb25hcnlcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5kaWN0KGt2cyk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4uc3RyKG9iaik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBTay5idWlsdGluLmFzc2skKG9iaik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4uYm9vbChvYmopO1xuICAgIH0gZWxzZSBpZih0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLnN0cihvYmoubmFtZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtFZGl0b3JzfSBmcm9tIFwiLi4vZWRpdG9yc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gdXBsb2FkRmlsZShtb2RlbCwgZXZlbnQpIHtcbiAgICBsZXQgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgbGV0IGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuICAgIGZpbGVSZWFkZXIub25sb2FkID0gKGUgPT5cbiAgICAgICAgbW9kZWwudWkuZWRpdG9ycy5jdXJyZW50KCkudXBsb2FkRmlsZShlKVxuICAgICk7XG4gICAgZmlsZVJlYWRlci5maWxlTmFtZSA9IGZpbGVzWzBdLm5hbWU7XG4gICAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGZpbGVzWzBdKTtcbiAgICBldmVudC50YXJnZXQudmFsdWUgPSBcIlwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2x1Z2dpZnkodGV4dCkge1xuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1teYS16MC05XS9naSwgXCJfXCIpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGUobW9kZWwsIGV2ZW50KSB7XG4gICAgbGV0IHtuYW1lLCBleHRlbnNpb24sIGNvbnRlbnRzLCBtaW1ldHlwZX0gPSBtb2RlbC51aS5lZGl0b3JzLmN1cnJlbnQoKS5kb3dubG9hZEZpbGUoKTtcbiAgICAvLyBNYWtlIHNhZmVcbiAgICBuYW1lID0gc2x1Z2dpZnkobmFtZSk7XG4gICAgbmFtZSA9IG5hbWUgKyBleHRlbnNpb247XG4gICAgLy8gTWFrZSB0aGUgZGF0YSBkb3dubG9hZCBhcyBhIGZpbGVcbiAgICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtjb250ZW50c10sIHt0eXBlOiBtaW1ldHlwZX0pO1xuICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIG5hbWUpO1xuICAgIH0gZWxzZXtcbiAgICAgICAgbGV0IHRlbXBvcmFyeURvd25sb2FkTGluayA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgdGVtcG9yYXJ5RG93bmxvYWRMaW5rLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgdGVtcG9yYXJ5RG93bmxvYWRMaW5rLmRvd25sb2FkID0gbmFtZTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wb3JhcnlEb3dubG9hZExpbmspO1xuICAgICAgICB0ZW1wb3JhcnlEb3dubG9hZExpbmsuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZW1wb3JhcnlEb3dubG9hZExpbmspO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFic3RyYWN0RWRpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICAgICAgdGhpcy5maWxlU3lzdGVtID0gbWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW07XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGUgPSBudWxsO1xuICAgIH1cblxuICAgIGRlbGV0ZUZpbGUoKSB7XG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbS5kZWxldGVGaWxlKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5maWxlbmFtZShcImFuc3dlci5weVwiKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZWRpdG9ycy5jaGFuZ2VFZGl0b3IoXCJhbnN3ZXIucHlcIik7XG4gICAgfVxuXG4gICAgb25GaWxlRGVsZXRlZCgpIHtcbiAgICAgICAgLy8gVE9ETzogU3dpdGNoIHRvIHRoZSBwcmV2aW91cyBmaWxlIGluc3RlYWQgb2YgYSBkZWZhdWx0IGZpbGVcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoXCJhbnN3ZXIucHlcIik7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuY2hhbmdlRWRpdG9yKFwiYW5zd2VyLnB5XCIpO1xuICAgIH1cblxuICAgIG9uRmlsZVVwZGF0ZWQoZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS5maWxlbmFtZSA9PT0gdGhpcy5maWxlbmFtZSkge1xuICAgICAgICAgICAgLy90aGlzLmZpbGUgPSBmaWxlO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZWRpdG9ycy5jaGFuZ2VFZGl0b3IodGhpcy5maWxlbmFtZSk7XG4gICAgICAgICAgICAvL3RoaXMuZmlsZVN5c3RlbS5zdG9wV2F0Y2hpbmdGaWxlKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy90aGlzLnRyYWNrQ3VycmVudEZpbGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyYWNrQ3VycmVudEZpbGUoKSB7XG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbS53YXRjaEZpbGUodGhpcy5maWxlbmFtZSwge1xuICAgICAgICAgICAgdXBkYXRlZDogdGhpcy5vbkZpbGVVcGRhdGVkLmJpbmQodGhpcyksXG4gICAgICAgICAgICBkZWxldGVkOiB0aGlzLm9uRmlsZURlbGV0ZWQuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBlbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKSB7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBuZXdGaWxlbmFtZTtcbiAgICAgICAgdGhpcy5maWxlID0gdGhpcy5maWxlU3lzdGVtLmdldEZpbGUobmV3RmlsZW5hbWUpO1xuICAgICAgICB0aGlzLnRyYWNrQ3VycmVudEZpbGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdGaWxlbmFtZSAtIHRoZSBmaWxlbmFtZSB0aGF0IHRoZSBvdGhlciBlZGl0b3Igd2lsbCBiZSBzd2l0Y2hpbmcgdG9cbiAgICAgKiBAcGFyYW0gb2xkRWRpdG9yXG4gICAgICogQHBhcmFtIG5ld0VkaXRvclxuICAgICAqL1xuICAgIGV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvciwgbmV3RWRpdG9yKSB7XG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbS5zdG9wV2F0Y2hpbmdGaWxlKHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICB0aGlzLmZpbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbiAgICB9XG5cbiAgICB1cGxvYWRGaWxlKGV2ZW50KSB7XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IGV2ZW50LnRhcmdldC5maWxlTmFtZTtcbiAgICAgICAgbGV0IGNvbnRlbnRzID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgdGhpcy5maWxlLmhhbmRsZShjb250ZW50cyk7XG4gICAgfVxuXG4gICAgZG93bmxvYWRGaWxlKCkge1xuICAgICAgICBsZXQgZmlsZW5hbWUgPSBFZGl0b3JzLnBhcnNlRmlsZW5hbWUodGhpcy5maWxlbmFtZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBmaWxlbmFtZS5uYW1lLFxuICAgICAgICAgICAgZXh0ZW5zaW9uOiBmaWxlbmFtZS50eXBlLFxuICAgICAgICAgICAgY29udGVudHM6IHRoaXMuZmlsZS5oYW5kbGUoKSxcbiAgICAgICAgICAgIG1pbWV0eXBlOiBcInRleHQvcGxhaW5cIlxuICAgICAgICB9O1xuICAgIH1cbn0iLCJpbXBvcnQge2ZpcnN0RGVmaW5lZFZhbHVlfSBmcm9tIFwidXRpbGl0aWVzLmpzXCI7XG5cbi8vICR7bWFrZVRhYihcIj9tb2NrX3VybHMuYmxvY2tweVwiLCBcIlVSTCBEYXRhXCIsIHRydWUpfVxuXG5jb25zdCBtYWtlVGFiID0gZnVuY3Rpb24oZmlsZW5hbWUsIGZyaWVuZGx5TmFtZSwgaGlkZUlmRW1wdHksIG5vdEluc3RydWN0b3IpIHtcbiAgICBpZiAoZnJpZW5kbHlOYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZnJpZW5kbHlOYW1lID0gZmlsZW5hbWU7XG4gICAgfVxuICAgIGxldCBpbnN0cnVjdG9yRmlsZUNsYXNzID0gXCJcIjtcbiAgICBsZXQgaGlkZUlmTm90SW5zdHJ1Y3RvciA9IFwidHJ1ZVwiO1xuICAgIGlmICghbm90SW5zdHJ1Y3Rvcikge1xuICAgICAgICBpbnN0cnVjdG9yRmlsZUNsYXNzID0gXCJibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiO1xuICAgICAgICBoaWRlSWZOb3RJbnN0cnVjdG9yID0gXCJkaXNwbGF5Lmluc3RydWN0b3IoKVwiO1xuICAgIH1cbiAgICByZXR1cm4gYFxuICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtICR7aW5zdHJ1Y3RvckZpbGVDbGFzc31cIj5cbiAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwidGFiXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczoge2FjdGl2ZTogZGlzcGxheS5maWxlbmFtZSgpID09PSAnJHtmaWxlbmFtZX0nfSxcbiAgICAgICAgICAgICAgICBjbGljazogZGlzcGxheS5maWxlbmFtZS5iaW5kKCRkYXRhLCAnJHtmaWxlbmFtZX0nKSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiAoISR7aGlkZUlmRW1wdHl9IHx8IHVpLmZpbGVzLmhhc0NvbnRlbnRzKCcke2ZpbGVuYW1lfScpKSAmJiAke2hpZGVJZk5vdEluc3RydWN0b3J9XCI+XG4gICAgICAgICAgICAke2ZyaWVuZGx5TmFtZX08L2E+XG4gICAgPC9saT5gO1xufTtcblxuZXhwb3J0IGxldCBGSUxFU19IVE1MID0gYFxuPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBibG9ja3B5LXBhbmVsIGJsb2NrcHktZmlsZXNcIlxuICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmZpbGVzLnZpc2libGVcIj5cbjx1bCBjbGFzcz1cIm5hdiBuYXYtdGFic1wiIHJvbGU9XCJ0YWJsaXN0XCI+XG5cbiAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxuICAgICAgICA8c3Ryb25nPlZpZXc6IDwvc3Ryb25nPlxuICAgIDwvbGk+XG5cbiAgICAke21ha2VUYWIoXCJhbnN3ZXIucHlcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpfVxuICAgICR7bWFrZVRhYihcIiFpbnN0cnVjdGlvbnMubWRcIiwgXCJJbnN0cnVjdGlvbnNcIil9XG4gICAgJHttYWtlVGFiKFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MuYmxvY2tweVwiLCBcIlNldHRpbmdzXCIpfVxuICAgICR7bWFrZVRhYihcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiU3RhcnRpbmcgQ29kZVwiKX1cbiAgICAke21ha2VUYWIoXCIhb25fcnVuLnB5XCIsIFwiT24gUnVuXCIpfVxuICAgICR7bWFrZVRhYihcIiFvbl9jaGFuZ2UucHlcIiwgXCJPbiBDaGFuZ2VcIiwgdHJ1ZSl9XG4gICAgJHttYWtlVGFiKFwiIW9uX2V2YWwucHlcIiwgXCJPbiBFdmFsXCIsIHRydWUpfVxuICAgICR7bWFrZVRhYihcIiFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweVwiLCBcIlNhbXBsZSBTdWJtaXNzaW9uc1wiLCB0cnVlKX1cbiAgICAke21ha2VUYWIoXCIhdGFncy5ibG9ja3B5XCIsIFwiVGFnc1wiLCB0cnVlKX1cbiAgICBcbiAgICA8IS0tIGtvIGZvcmVhY2g6IGFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMgLS0+XG4gICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczogeydibG9ja3B5LWZpbGUtaW5zdHJ1Y3Rvcic6ICFmaWxlbmFtZSgpLnN0YXJ0c1dpdGgoJyYnKX0sXG4gICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZpbGVuYW1lKCkuc3RhcnRzV2l0aCgnJicpIHx8ICRyb290LmRpc3BsYXkuaW5zdHJ1Y3RvcigpIFwiPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRhYlwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmVkaXRhYmxlOiBmaWxlbmFtZSgpLnN0YXJ0c1dpdGgoJyYnKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICRyb290LmRpc3BsYXkuZmlsZW5hbWUuYmluZCgkZGF0YSwgZmlsZW5hbWUoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJHJvb3QudWkuZmlsZXMuZGlzcGxheUZpbGVuYW1lKGZpbGVuYW1lKCkpXCI+XG4gICAgICAgICAgICA8L2E+ICAgICAgICBcbiAgICAgICAgPC9saT5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICA8IS0tIGtvIGZvcmVhY2g6IGFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzIC0tPlxuICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiAkcm9vdC5kaXNwbGF5Lmluc3RydWN0b3IoKVwiPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRhYlwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY3NzOiB7YWN0aXZlOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IGZpbGVuYW1lKCl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAkcm9vdC5kaXNwbGF5LmZpbGVuYW1lLmJpbmQoJGRhdGEsIGZpbGVuYW1lKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGZpbGVuYW1lXCI+XG4gICAgICAgICAgICA8L2E+ICAgICAgICBcbiAgICAgICAgPC9saT5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICBcbiAgICA8IS0tIGtvIGZvcmVhY2g6IHN1Ym1pc3Npb24uZXh0cmFGaWxlcyAtLT5cbiAgICAgICAgPGxpIGNsYXNzPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJ0YWJcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczoge2FjdGl2ZTogJHJvb3QuZGlzcGxheS5maWxlbmFtZSgpID09PSBmaWxlbmFtZSgpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogJHJvb3QuZGlzcGxheS5maWxlbmFtZS5iaW5kKCRkYXRhLCBmaWxlbmFtZSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkcm9vdC51aS5maWxlcy5kaXNwbGF5RmlsZW5hbWUoZmlsZW5hbWUoKSlcIj5cbiAgICAgICAgICAgIDwvYT4gICAgICAgIFxuICAgICAgICA8L2xpPlxuICAgIDwhLS0gL2tvIC0tPlxuICBcbiAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbSBkcm9wZG93blwiPlxuICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rIGRyb3Bkb3duLXRvZ2dsZVwiIGhyZWY9XCIjXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICByb2xlPVwiYnV0dG9uXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5BZGQgTmV3PC9hPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5maWxlcy5oYXNDb250ZW50cygnP21vY2tfdXJscy5ibG9ja3B5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICc/bW9ja191cmxzLmJsb2NrcHknKVwiPlVSTCBEYXRhPC9hPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogdWkuZmlsZXMuaGFzQ29udGVudHMoJz90YWdzLmJsb2NrcHknKVwiPlRhZ3M8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gYmxvY2tweS1maWxlLWluc3RydWN0b3JcIiBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5maWxlcy5oYXNDb250ZW50cygnP3NhbXBsZV9zdWJtaXNzaW9ucy5ibG9ja3B5JylcIj5TYW1wbGUgU3VibWlzc2lvbnM8L2E+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogYXNzaWdubWVudC5vbkNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJyFvbl9jaGFuZ2UucHknKVwiPk9uIENoYW5nZTwvYT5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBibG9ja3B5LWZpbGUtaW5zdHJ1Y3RvclwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJoaWRkZW46IGFzc2lnbm1lbnQub25FdmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmZpbGVzLmFkZC5iaW5kKCRkYXRhLCAnIW9uX2V2YWwucHknKVwiPk9uIEV2YWw8L2E+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ3N0YXJ0aW5nJylcIj5TdGFydGluZyBGaWxlPC9hPlxuICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5maWxlcy5hZGQuYmluZCgkZGF0YSwgJ2luc3RydWN0b3InKVwiPkluc3RydWN0b3IgRmlsZTwvYT5cbiAgICAgICAgICAgIDxhIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZmlsZXMuYWRkLmJpbmQoJGRhdGEsICdzdHVkZW50JylcIj5TdHVkZW50IEZpbGU8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIFxuPC91bD5cbjwvZGl2PlxuYDtcblxuY29uc3QgTkVXX0lOU1RSVUNUT1JfRklMRV9ESUFMT0dfSFRNTCA9IGBcbjxmb3JtPlxuPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgPCEtLSBGaWxlbmFtZSAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGVuYW1lXCI+RmlsZW5hbWU6PC9sYWJlbD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxlbmFtZVwiXG4gICAgICAgICAgICBpZD1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxlbmFtZVwiPiAgICBcbiAgICA8L2Rpdj5cbiAgICA8IS0tIEZpbGV0eXBlIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0IG10LTJcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1maWxldHlwZVwiPkZpbGV0eXBlOiA8L2xhYmVsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctZmlsZXR5cGVcIlxuICAgICAgICAgICAgaWQ9XCJibG9ja3B5LWluc3RydWN0b3ItZmlsZS1kaWFsb2ctZmlsZXR5cGVcIj48L3NwYW4+ICAgIFxuICAgIDwvZGl2PlxuICAgIDwhLS0gSW5hY2Nlc3NpYmxlIHRvIHN0dWRlbnQ/IC0tPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0IG10LTJcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1uYW1lc3BhY2VcIj5OYW1lc3BhY2U6IDwvbGFiZWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCI+XG4gICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLW5hbWVzcGFjZVwiXG4gICAgICAgICAgICBpZD1cImJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1uYW1lc3BhY2VcIj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIhXCI+Q29tcGxldGVseSBpbmFjY2Vzc2libGU8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI/XCI+SGlkZGVuIGZyb20gc3R1ZGVudCwgYWNjZXNzaWJsZSBwcm9ncmFtYXRpY2FsbHk8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCImXCI+VmlzaWJsZSB0byBzdHVkZW50LCBidXQgbm90IGVkaXRhYmxlPC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgIDwvZGl2PlxuPC9kaXY+XG48L2Zvcm0+XG5gO1xuXG4vKipcbiAqIEZpbGVuYW1lcyBsaXZlIGluIG9uZSBvZiBmaXZlIHBvc3NpYmxlIG5hbWVzcGFjZXM6XG4gKiAgSW5zdHJ1Y3RvciAoISk6IEludmlzaWJsZSB0byB0aGUgc3R1ZGVudCB1bmRlciBhbGwgY2lyY3Vtc3RhbmNlc1xuICogIFN0YXJ0IFNwYWNlICheKTogVXNlZCB0byByZXNldCB0aGUgc3R1ZGVudCBuYW1lc3BhY2VcbiAqICBTdHVkZW50IFNwYWNlICgpOiBWaXNpYmxlIHRvIHRoZSBzdHVkZW50IHdoZW4gZGlzcGxheS5oaWRlRmlsZXMgaXMgbm90IHRydWUsIGFibGUgdG8gYmUgZWRpdGVkXG4gKiAgSGlkZGVuIFNwYWNlICg/KTogTm90IGRpcmVjdGx5IHZpc2libGUgdG8gdGhlIHN0dWRlbnQsIGJ1dCBhY2Nlc3NpYmxlIHByb2dyYW1tYXRpY2FsbHlcbiAqICBSZWFkLW9ubHkgU3BhY2UgKCYpOiBBbiBpbnN0cnVjdG9yIGZpbGUgdHlwZSB2aXNpYmxlIHRvIHRoZSBzdHVkZW50LCBidXQgaXMgdW5lZGl0YWJsZSBieSB0aGVtXG4gKiAgU2VjcmV0IFNwYWNlICgkKTogTm90IHZpc2libGUgZnJvbSB0aGUgbWVudSBhdCBhbGwsIHNvbWUgb3RoZXIgbWVjaGFuaXNtIGNvbnRyb2xzIGl0XG4gKiAgR2VuZXJhdGVkIFNwYWNlICgqKTogVmlzaWJsZSB0byB0aGUgc3R1ZGVudCwgYnV0IGRlc3Ryb3llZCBhZnRlciBFbmdpbmUuQ2xlYXIuIENhbiBzaGFkb3cgYW4gYWN0dWFsIGZpbGUuXG4gKiAgQ29uY2F0ZW5hdGVkIFNwYWNlICgjKTogVXNlZCB3aGVuIGJ1bmRsaW5nIGEgc3BhY2UgZm9yIHRoZSBzZXJ2ZXIuXG4gKi9cblxuZXhwb3J0IGxldCBTVEFSVElOR19GSUxFUyA9IFtcbiAgICAvLyBTdWJtaXNzaW9uXG4gICAgXCJhbnN3ZXIucHlcIixcbiAgICAvLyBJbnN0cnVjdG9yIGZpbGVzXG4gICAgXCIhaW5zdHJ1Y3Rpb25zLm1kXCIsXG4gICAgXCIhYXNzaWdubWVudF9zZXR0aW5ncy5ibG9ja3B5XCIsXG4gICAgXCJec3RhcnRpbmdfY29kZS5weVwiLFxuICAgIFwiIW9uX3J1bi5weVwiLFxuICAgIFwiJHNldHRpbmdzLmJsb2NrcHlcIixcbl07XG5cbmV4cG9ydCBjb25zdCBCQVNJQ19ORVdfRklMRVMgPSBbXG4gICAgXCIhb25fY2hhbmdlLnB5XCIsXG4gICAgXCIhb25fZXZhbC5weVwiLFxuICAgIFwiP21vY2tfdXJscy5ibG9ja3B5XCIsXG4gICAgXCIhdGFncy5ibG9ja3B5XCIsXG4gICAgXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIlxuXTtcblxuY29uc3QgSU5TVFJVQ1RPUl9ESVJFQ1RPUlkgPSBcIl9pbnN0cnVjdG9yL1wiO1xuY29uc3QgU1RVREVOVF9ESVJFQ1RPUlkgPSBcIl9zdHVkZW50L1wiO1xuXG5jb25zdCBTZWFyY2hNb2RlcyA9IHtcbiAgICBFVkVSWVdIRVJFOiBcIkVWRVJZV0hFUkVcIixcbiAgICBTVEFSVF9XSVRIX0lOU1RSVUNUT1I6IFwiU1RBUlRfV0lUSF9JTlNUUlVDVE9SXCIsXG4gICAgT05MWV9TVFVERU5UX0ZJTEVTOiBcIk9OTFlfU1RVREVOVF9GSUxFU1wiXG59O1xuXG5jb25zdCBERUxFVEFCTEVfU0lNUExFX0ZJTEVTID0gW1wiIW9uX2NoYW5nZS5weVwiLCBcIiFvbl9ldmFsLnB5XCJdO1xuXG5leHBvcnQgY29uc3QgVU5ERUxFVEFCTEVfRklMRVMgPSBbXCJhbnN3ZXIucHlcIiwgXCIhaW5zdHJ1Y3Rpb25zLm1kXCIsIFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MucHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiIW9uX3J1bi5weVwiLCBcIiRzZXR0aW5ncy5ibG9ja3B5XCJdO1xuXG5leHBvcnQgY29uc3QgVU5SRU5BTUFCTEVfRklMRVMgPSBbXCJhbnN3ZXIucHlcIiwgXCIhaW5zdHJ1Y3Rpb25zLm1kXCIsIFwiIWFzc2lnbm1lbnRfc2V0dGluZ3MucHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl5zdGFydGluZ19jb2RlLnB5XCIsIFwiIW9uX3J1bi5weVwiLCBcIiRzZXR0aW5ncy5ibG9ja3B5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIhb25fY2hhbmdlLnB5XCIsIFwiIW9uX2V2YWwucHlcIiwgXCI/bW9ja191cmxzLmJsb2NrcHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiF0YWdzLmJsb2NrcHlcIiwgXCIhc2FtcGxlX3N1Ym1pc3Npb25zLmJsb2NrcHlcIl07XG5cbmNsYXNzIEJsb2NrUHlGaWxlIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBmaWxlbmFtZSwgY29udGVudHMpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgICB0aGlzLmNvbnRlbnRzID0gY29udGVudHMgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5vd25lciA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlTW9kZWxGaWxlKGZpbGVuYW1lLCBjb250ZW50cykge1xuICAgIHJldHVybiB7XCJmaWxlbmFtZVwiOiBrby5vYnNlcnZhYmxlKGZpbGVuYW1lKSwgY29udGVudHM6IGtvLm9ic2VydmFibGUoY29udGVudHMgfHwgXCJcIil9O1xufVxuXG5mdW5jdGlvbiBtYWtlTW9ja01vZGVsRmlsZShmaWxlbmFtZSwgY29udGVudHMpIHtcbiAgICByZXR1cm4geyBmaWxlbmFtZTogKCkgPT4gZmlsZW5hbWUsIGNvbnRlbnRzOiAoKSA9PiBjb250ZW50cyB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENvbmNhdGVuYXRlZEZpbGUoY29uY2F0ZW5hdGVkRmlsZSwgbW9kZWxGaWxlTGlzdCkge1xuICAgIGlmIChjb25jYXRlbmF0ZWRGaWxlKSB7XG4gICAgICAgIGxldCBmaWxlcyA9IEpTT04ucGFyc2UoY29uY2F0ZW5hdGVkRmlsZSk7XG4gICAgICAgIGxldCBtb2RlbEZpbGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGZpbGVuYW1lIGluIGZpbGVzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZXMuaGFzT3duUHJvcGVydHkoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxGaWxlcy5wdXNoKG1ha2VNb2RlbEZpbGUoZmlsZW5hbWUsIGZpbGVzW2ZpbGVuYW1lXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vZmlsZXMgPSBmaWxlcy5tYXAoZmlsZSA9PiBtYWtlTW9kZWxGaWxlKGZpbGUuZmlsZW5hbWUsIGZpbGUuY29udGVudHMpKTtcbiAgICAgICAgbW9kZWxGaWxlTGlzdChtb2RlbEZpbGVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtb2RlbEZpbGVMaXN0KFtdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb25jYXRlbmF0ZWRGaWxlKG1vZGVsRmlsZUxpc3QpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobW9kZWxGaWxlTGlzdCgpLm1hcChmaWxlID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLmZpbGVuYW1lKCksXG4gICAgICAgICAgICBjb250ZW50czogZmlsZS5jb250ZW50cygpXG4gICAgICAgIH07XG4gICAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUobW9kZWxGaWxlTGlzdCkge1xuICAgIHJldHVybiBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0ge307XG4gICAgICAgIG1vZGVsRmlsZUxpc3QoKS5mb3JFYWNoKGZpbGUgPT5cbiAgICAgICAgICAgIHJlc3VsdFtmaWxlLmZpbGVuYW1lKCldID0gZmlsZS5jb250ZW50cygpKTtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQWJzdHJhY3RzIGF3YXkgZGF0YWJhc2UgbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2NrUHlGaWxlU3lzdGVtIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMuZmlsZXNfID0ge307XG4gICAgICAgIHRoaXMubW91bnRGaWxlcygpO1xuXG4gICAgICAgIHRoaXMud2F0Y2hNb2RlbCgpO1xuICAgICAgICB0aGlzLndhdGNoZXNfID0ge307XG5cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3Rvci5zdWJzY3JpYmUoKHZpc2libGl0eSk9PiB7XG4gICAgICAgICAgICAkKFwiLmJsb2NrcHktZmlsZS1pbnN0cnVjdG9yXCIpLnRvZ2dsZSh2aXNpYmxpdHkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB3YXRjaEZpbGUoZmlsZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghKGZpbGVuYW1lIGluIHRoaXMud2F0Y2hlc18pKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoZXNfW2ZpbGVuYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2F0Y2hlc19bZmlsZW5hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHN0b3BXYXRjaGluZ0ZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMud2F0Y2hlc19bZmlsZW5hbWVdO1xuICAgIH1cblxuICAgIHdhdGNoTW9kZWwoKSB7XG4gICAgICAgIGxldCBmaWxlc3lzdGVtID0gdGhpcztcbiAgICAgICAgW3RoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMsXG4gICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMsXG4gICAgICAgICB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlc10uZm9yRWFjaChmaWxlQXJyYXkgPT5cbiAgICAgICAgICAgIGZpbGVBcnJheS5zdWJzY3JpYmUoZnVuY3Rpb24oY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIGNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb2RlbEZpbGUgPSBjaGFuZ2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2Uuc3RhdHVzID09PSBcImFkZGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIG5ldyBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IGZpbGVzeXN0ZW0ubmV3RmlsZShtb2RlbEZpbGUuZmlsZW5hbWUoKSwgbW9kZWxGaWxlLmNvbnRlbnRzKCksIG1vZGVsRmlsZS5jb250ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlc3lzdGVtLm5vdGlmeVdhdGNoZXMoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbmdlLnN0YXR1cyA9PT0gXCJkZWxldGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlc3lzdGVtLmRlbGV0ZUZpbGVMb2NhbGx5Xyhtb2RlbEZpbGUuZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCB0aGlzLCBcImFycmF5Q2hhbmdlXCIpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gYW5zd2VyLnB5XG4gICAgLy8gICA9PiBzdWJzY3JpYmUgdG8gZmlyc3QgZWxlbWVudCBvZiBzdWJtaXNzaW9uLmNvZGUpXG4gICAgLy8gIW9uX3J1bi5weSwgIW9uX2NoYW5nZS5weSwgIW9uX2V2YWwucHlcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byByZWxldmFudCBhc3NpZ25tZW50Ljx3aGF0ZXZlcj5cbiAgICAvLyBec3RhcnRpbmdfY29kZS5weVxuICAgIC8vICAgPT4gc3Vic2NyaWJlIHRvIGZpcnN0IGVsZW1lbnQgb2YgYXNzaWdubWVudC5zdGFydGluZ0NvZGVcbiAgICAvLyBed2hhdGV2ZXJcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byByZXN0IG9mIHRoZSBlbGVtZW50cyBvZiBhc3NpZ25tZW50LnN0YXJ0aW5nQ29kZVxuICAgIC8vICF3aGF0ZXZlciBvciA/d2hhdGV2ZXJcbiAgICAvLyAgID0+IHN1YnNjcmliZSB0byBlbGVtZW50cyBvZiBhc3NpZ25tZW50LmV4dHJhRmlsZXNcbiAgICAvLyBPdGhlcndpc2U6XG4gICAgLy8gICA9PiBzdWJzY3JpYmUgdG8gcmVzdCBvZiB0aGUgZWxlbWVudHMgb2Ygc3VibWlzc2lvbi5jb2RlXG4gICAgLyoqXG4gICAgICogTmV3IHNwZWNpYWwgZmlsZXMgbmVlZCB0byBiZSByZWdpc3RlcmVkIGhlcmVcbiAgICAgKiBAcGFyYW0gZmlsZSB7QmxvY2tQeUZpbGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvYnNlcnZlRmlsZV8oZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIW9uX3J1bi5weVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIW9uX2NoYW5nZS5weVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIW9uX2V2YWwucHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWw7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhaW5zdHJ1Y3Rpb25zLm1kXCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiXnN0YXJ0aW5nX2NvZGUucHlcIikge1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCI/bW9ja191cmxzLmJsb2NrcHlcIikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlSW5BcnJheV8oZmlsZSwgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUgPT09IFwiIXRhZ3MuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnRhZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIhYXNzaWdubWVudF9zZXR0aW5ncy5ibG9ja3B5XCIpIHtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3M7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZSA9PT0gXCIkc2V0dGluZ3MuYmxvY2tweVwiKSB7XG4gICAgICAgICAgICBmaWxlLmhhbmRsZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5O1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuZmlsZW5hbWUuc3RhcnRzV2l0aChcIl5cIikpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUluQXJyYXlfKGZpbGUsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhU3RhcnRpbmdGaWxlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS5maWxlbmFtZS5zdGFydHNXaXRoKFwiIVwiKSB8fFxuICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUuc3RhcnRzV2l0aChcIj9cIikgfHxcbiAgICAgICAgICAgICAgICAgICBmaWxlLmZpbGVuYW1lLnN0YXJ0c1dpdGgoXCImXCIpKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVJbkFycmF5XyhmaWxlLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVJbkFycmF5XyhmaWxlLCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9ic2VydmVJbkFycmF5XyhmaWxlLCBhcnJheSkge1xuICAgICAgICBmaWxlLm93bmVyID0gYXJyYXk7XG4gICAgICAgIGxldCBjb2RlQnVuZGxlID0gZmlsZS5vd25lcigpO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBjb2RlQnVuZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY29kZUJ1bmRsZVtpXS5maWxlbmFtZSgpID09PSBmaWxlLmZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSBjb2RlQnVuZGxlW2ldLmNvbnRlbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlLmhhbmRsZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IG5ld0ZpbGUgPSBtYWtlTW9kZWxGaWxlKGZpbGUuZmlsZW5hbWUpO1xuICAgICAgICAgICAgZmlsZS5oYW5kbGUgPSBuZXdGaWxlLmNvbnRlbnRzO1xuICAgICAgICAgICAgYXJyYXkucHVzaChuZXdGaWxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdW50RmlsZXMoKSB7XG4gICAgICAgIHRoaXMubmV3RmlsZShcImFuc3dlci5weVwiKTtcbiAgICAgICAgdGhpcy5uZXdGaWxlKFwiXnN0YXJ0aW5nX2NvZGUucHlcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFvbl9ydW4ucHlcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFpbnN0cnVjdGlvbnMubWRcIik7XG4gICAgICAgIHRoaXMubmV3RmlsZShcIiFhc3NpZ25tZW50X3NldHRpbmdzLmJsb2NrcHlcIik7XG4gICAgfVxuXG4gICAgZGlzbW91bnRFeHRyYUZpbGVzKCkge1xuICAgICAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMuZmlsZXNfKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc18uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoVU5ERUxFVEFCTEVfRklMRVMuaW5kZXhPZihuYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZmlsZXNfW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy53YXRjaGVzX1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3VibWlzc2lvbi5jb2RlVE9ETzogU2hvdWxkbid0IHdlIG5vdGlmeSB0aGUgVUkgdGhhdCB0aGUgZmlsZSB3YXMgZGVsZXRlZD9cbiAgICB9XG5cbiAgICBuZXdGaWxlKGZpbGVuYW1lLCBjb250ZW50cywgbW9kZWxGaWxlKSB7XG4gICAgICAgIGlmIChmaWxlbmFtZSBpbiB0aGlzLmZpbGVzXykge1xuICAgICAgICAgICAgLy8gRmlsZSBhbHJlYWR5IGV4aXN0cyEgSnVzdCB1cGRhdGUgaXRzIGhhbmRsZVxuICAgICAgICAgICAgbGV0IGV4aXN0aW5nRmlsZSA9IHRoaXMuZmlsZXNfW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIGlmIChtb2RlbEZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUZpbGVfKGV4aXN0aW5nRmlsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nRmlsZS5oYW5kbGUgPSBtb2RlbEZpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleGlzdGluZ0ZpbGUuaGFuZGxlKGNvbnRlbnRzIHx8IFwiXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nRmlsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZpbGUgZG9lcyBub3QgZXhpc3RcbiAgICAgICAgICAgIGxldCBuZXdGaWxlID0gbmV3IEJsb2NrUHlGaWxlKHRoaXMubWFpbiwgZmlsZW5hbWUpO1xuICAgICAgICAgICAgdGhpcy5maWxlc19bZmlsZW5hbWVdID0gbmV3RmlsZTtcbiAgICAgICAgICAgIGlmIChtb2RlbEZpbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUZpbGVfKG5ld0ZpbGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdGaWxlLmhhbmRsZSA9IG1vZGVsRmlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbmV3RmlsZS5oYW5kbGUoY29udGVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld0ZpbGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3cml0ZUZpbGUoZmlsZW5hbWUsIGNvbnRlbnRzKSB7XG4gICAgICAgIGNvbnRlbnRzID0gY29udGVudHMgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5maWxlc19bZmlsZW5hbWVdLmhhbmRsZShjb250ZW50cyk7XG4gICAgfVxuXG4gICAgcmVhZEZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZXNfW2ZpbGVuYW1lXS5oYW5kbGUoKTtcbiAgICB9XG5cbiAgICBnZXRGaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVzX1tmaWxlbmFtZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxvYmplY3R9IFRoZSBpbmZvIGFib3V0IHRoZSBmaWxlLCBvciBmYWxzZSBpZiBpdCBjb3VsZCBub3QgYmUgZGVsZXRlZFxuICAgICAqL1xuICAgIGRlbGV0ZUZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKERFTEVUQUJMRV9TSU1QTEVfRklMRVMuaW5kZXhPZihmaWxlbmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgZmlsZSA9IHRoaXMuZGVsZXRlRmlsZUxvY2FsbHlfKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGZpbGUuaGFuZGxlKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5maWxlc19bZmlsZW5hbWVdLm93bmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUcmlnZ2VycyBhIGNhbGxiYWNrIHRvIGV2ZW50dWFsbHkgY2FsbCBkZWxldGVGaWxlTG9jYWxseV9cbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMuZmlsZXNfW2ZpbGVuYW1lXS5vd25lci5yZW1vdmUobW9kZWxGaWxlID0+IG1vZGVsRmlsZS5maWxlbmFtZSA9PT0gZmlsZW5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVsZXRlRmlsZUxvY2FsbHlfKGZpbGVuYW1lKSB7XG4gICAgICAgIGxldCBmaWxlID0gdGhpcy5maWxlc19bZmlsZW5hbWVdO1xuICAgICAgICBkZWxldGUgdGhpcy5maWxlc19bZmlsZW5hbWVdO1xuICAgICAgICBpZiAoZmlsZW5hbWUgaW4gdGhpcy53YXRjaGVzXykge1xuICAgICAgICAgICAgdGhpcy53YXRjaGVzX1tmaWxlbmFtZV0uZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjay5kZWxldGVkKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgIH1cblxuICAgIG5vdGlmeVdhdGNoZXMoZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS5maWxlbmFtZSBpbiB0aGlzLndhdGNoZXNfKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoZXNfW2ZpbGUuZmlsZW5hbWVdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sudXBkYXRlZChmaWxlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2hGb3JGaWxlKG5hbWUsIHN0dWRlbnRTZWFyY2gpIHtcbiAgICAgICAgLypcbiAgICAgICAgZmlsZXMuKlxuICAgICAgICBfaW5zdHJ1Y3Rvci9maWxlcy4qXG4gICAgICAgIF9zdHVkZW50L2ZpbGVzLipcblxuICAgICAgICBJZiBhIHN0dWRlbnQgc2VhcmNoZXMgZm9yIGEgZmlsZSwgaXQgY2hlY2tzIHRoZSBcIj9cIiwgXCImXCIsIFwiKlwiLCBcIlwiIG5hbWVzcGFjZXNcbiAgICAgICAgICAgIGltcG9ydCBoZWxwZXIgPT4gXCIuL2hlbHBlci5weVwiXG4gICAgICAgICAgICBvcGVuKFwiZXh0ZXJuYWwuanNvblwiKSA9PiBcImV4dGVybmFsLmpzb25cIlxuICAgICAgICBJZiBhbiBpbnN0cnVjdG9yIHNlYXJjaGVzIGZvciBhIGZpbGUsIGl0IGNoZWNrcyBcIiFcIiwgXCJeXCIsIFwiP1wiLCBcIiZcIiwgXCIqXCIsIFwiXCIgbmFtZXNwYWNlc1xuICAgICAgICAgICAgVG8gZXhwbGljaXRseSBzZWFyY2ggaW5zdHJ1Y3RvciBuYW1lc3BhY2VzIGZpcnN0XG4gICAgICAgICAgICAgICAgaW1wb3J0IF9pbnN0cnVjdG9yLmhlbHBlciA9PiBcIi4vaW5zdHJ1Y3Rvci9oZWxwZXIucHlcIlxuICAgICAgICAgICAgICAgIG9wZW4oXCJfaW5zdHJ1Y3Rvci9leHRlcm5hbC5qc29uXCIpID0+IFwiX2luc3RydWN0b3IvZXh0ZXJuYWwuanNvblwiXG4gICAgICAgICAgICB0byBhbGxvdyBzdHVkZW50IGZpbGVzIHRvIG92ZXJyaWRlOlxuICAgICAgICAgICAgICAgIGltcG9ydCBoZWxwZXIgPT4gXCIuL2hlbHBlci5weVwiXG4gICAgICAgICAgICAgICAgb3BlbihcImV4dGVybmFsLmpzb25cIikgPT4gXCJleHRlcm5hbC5qc29uXCJcbiAgICAgICAgICAgIHRvIG9ubHkgY2hlY2sgc3R1ZGVudCBmaWxlcywgcHJlcGVuZCB3aXRoIF9zdHVkZW50XG4gICAgICAgICAqL1xuICAgICAgICAvLyBDaG9wIG9mZiBzdGFydGluZyBcIi4vXCJcbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aChcIi4vXCIpKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgyKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VhcmNoTW9kZSA9IFNlYXJjaE1vZGVzLkVWRVJZV0hFUkU7XG4gICAgICAgIC8vIFNob3VsZCB0aGUgc2VhcmNoIGJlIHN0YXJ0IHdpdGggaW5zdHJ1Y3RvciBzaWRlP1xuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKElOU1RSVUNUT1JfRElSRUNUT1JZKSkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoSU5TVFJVQ1RPUl9ESVJFQ1RPUlkubGVuZ3RoKTtcbiAgICAgICAgICAgIHNlYXJjaE1vZGUgPSBTZWFyY2hNb2Rlcy5TVEFSVF9XSVRIX0lOU1RSVUNUT1I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvdWxkIHRoZSBzZWFyY2ggYmUgbGltaXRlZCB0byB0aGUgc3R1ZGVudCBtb2RlP1xuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKFNUVURFTlRfRElSRUNUT1JZKSkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoU1RVREVOVF9ESVJFQ1RPUlkubGVuZ3RoKTtcbiAgICAgICAgICAgIHNlYXJjaE1vZGUgPSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVM7XG4gICAgICAgIH0gZWxzZSBpZiAoc3R1ZGVudFNlYXJjaCkge1xuICAgICAgICAgICAgc2VhcmNoTW9kZSA9IFNlYXJjaE1vZGVzLk9OTFlfU1RVREVOVF9GSUxFUztcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG9ydGN1dCBmb3IgaW5zdHJ1Y3RvciB2ZXJzaW9uc1xuICAgICAgICBsZXQgZXh0cmFTdHVkZW50RmlsZXMgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKCk7XG4gICAgICAgIGxldCBleHRyYUluc3RydWN0b3JGaWxlcyA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmV4dHJhSW5zdHJ1Y3RvckZpbGVzKCk7XG4gICAgICAgIGxldCBleHRyYVN0YXJ0aW5nRmlsZXMgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMoKTtcbiAgICAgICAgLy8gQ2hlY2sgc3BlY2lhbCBmaWxlcyAoVE9ETzogaG93IHdvdWxkIGFuIGluc3RydWN0b3IgYWNjZXNzIFwiLi9faW5zdHJ1Y3Rvci9hbnN3ZXIucHlcIj9cbiAgICAgICAgbGV0IHNwZWNpYWxGaWxlID0gdGhpcy5zZWFyY2hGb3JTcGVjaWFsRmlsZXNfKG5hbWUsIHNlYXJjaE1vZGUpO1xuICAgICAgICBpZiAoc3BlY2lhbEZpbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNwZWNpYWxGaWxlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0YXJ0IGxvb2tpbmcgdGhyb3VnaCBwb3NzaWJsZSBmaWxlc1xuICAgICAgICBsZXQgc3R1ZGVudFZlcnNpb24gPSB0aGlzLnNlYXJjaEZvckZpbGVJbkxpc3RfKGV4dHJhU3R1ZGVudEZpbGVzLCBuYW1lKTtcbiAgICAgICAgbGV0IGdlbmVyYXRlZFZlcnNpb24gPSB0aGlzLnNlYXJjaEZvckZpbGVJbkxpc3RfKGV4dHJhU3R1ZGVudEZpbGVzLCBcIipcIituYW1lKTtcbiAgICAgICAgbGV0IGRlZmF1bHRWZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYUluc3RydWN0b3JGaWxlcywgXCImXCIrbmFtZSk7XG4gICAgICAgIGlmIChzZWFyY2hNb2RlID09PSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVMpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdERlZmluZWRWYWx1ZShkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbnN0cnVjdG9yVmVyc2lvbiA9IHRoaXMuc2VhcmNoRm9yRmlsZUluTGlzdF8oZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiIVwiK25hbWUpO1xuICAgICAgICBsZXQgaGlkZGVuVmVyc2lvbiA9IHRoaXMuc2VhcmNoRm9yRmlsZUluTGlzdF8oZXh0cmFJbnN0cnVjdG9yRmlsZXMsIFwiP1wiK25hbWUpO1xuICAgICAgICBsZXQgc3RhcnRpbmdWZXJzaW9uID0gdGhpcy5zZWFyY2hGb3JGaWxlSW5MaXN0XyhleHRyYVN0YXJ0aW5nRmlsZXMsIFwiXlwiK25hbWUpO1xuICAgICAgICBpZiAoc2VhcmNoTW9kZSA9PT0gU2VhcmNoTW9kZXMuU1RBUlRfV0lUSF9JTlNUUlVDVE9SKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3REZWZpbmVkVmFsdWUoaW5zdHJ1Y3RvclZlcnNpb24sIGhpZGRlblZlcnNpb24sIHN0YXJ0aW5nVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKHNlYXJjaE1vZGUgPT09IFNlYXJjaE1vZGVzLkVWRVJZV0hFUkUpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdERlZmluZWRWYWx1ZShkZWZhdWx0VmVyc2lvbiwgc3R1ZGVudFZlcnNpb24sIGdlbmVyYXRlZFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3RvclZlcnNpb24sIGhpZGRlblZlcnNpb24sIHN0YXJ0aW5nVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2hGb3JGaWxlSW5MaXN0Xyhtb2RlbExpc3QsIGZpbGVuYW1lKSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IG1vZGVsTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1vZGVsTGlzdFtpXS5maWxlbmFtZSgpID09PSBmaWxlbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbExpc3RbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZWFyY2hGb3JTcGVjaWFsRmlsZXNfKGZpbGVuYW1lLCBzZWFyY2hNb2RlKSB7XG4gICAgICAgIGlmIChzZWFyY2hNb2RlID09PSBTZWFyY2hNb2Rlcy5PTkxZX1NUVURFTlRfRklMRVMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL2Fuc3dlci5weVwiLCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiYW5zd2VyLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3IvYW5zd2VyLnB5XCIsIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKSk7XG4gICAgICAgICAgICBjYXNlIFwib25fcnVuLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivb25fcnVuLnB5XCIsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uUnVuKCkpO1xuICAgICAgICAgICAgY2FzZSBcIm9uX2NoYW5nZS5weVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBtYWtlTW9ja01vZGVsRmlsZShcIl9pbnN0cnVjdG9yL29uX2NoYW5nZS5weVwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZSgpKTtcbiAgICAgICAgICAgIGNhc2UgXCJvbl9ldmFsLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivb25fZXZhbC5tZFwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkV2YWwoKSk7XG4gICAgICAgICAgICBjYXNlIFwiaW5zdHJ1Y3Rpb25zLm1kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3IvaW5zdHJ1Y3Rpb25zLm1kXCIsIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lmluc3RydWN0aW9ucygpKTtcbiAgICAgICAgICAgIGNhc2UgXCJzdGFydGluZ19jb2RlLnB5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ha2VNb2NrTW9kZWxGaWxlKFwiX2luc3RydWN0b3Ivc3RhcnRpbmdfY29kZS5weVwiLCB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBuZXdGaWxlRGlhbG9nKGtpbmQpIHtcbiAgICAgICAgbGV0IGJvZHkgPSAkKE5FV19JTlNUUlVDVE9SX0ZJTEVfRElBTE9HX0hUTUwpO1xuICAgICAgICBsZXQgZmlsZW5hbWUgPSBib2R5LmZpbmQoXCIuYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGVuYW1lXCIpO1xuICAgICAgICBsZXQgZmlsZXR5cGUgPSBib2R5LmZpbmQoXCIuYmxvY2tweS1pbnN0cnVjdG9yLWZpbGUtZGlhbG9nLWZpbGV0eXBlXCIpO1xuICAgICAgICBsZXQgbmFtZXNwYWNlID0gYm9keS5maW5kKFwiLmJsb2NrcHktaW5zdHJ1Y3Rvci1maWxlLWRpYWxvZy1uYW1lc3BhY2VcIik7XG4gICAgICAgIGxldCBleHRlbnNpb25SZWdleCA9IC8oPzpcXC4oW14uXSspKT8kLztcbiAgICAgICAgZmlsZW5hbWUub24oXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uUmVnZXguZXhlYyhmaWxlbmFtZS52YWwoKSlbMV07XG4gICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24gPT09IHVuZGVmaW5lZCA/IFwiTm8gZXh0ZW5zaW9uXCIgOiBleHRlbnNpb247XG4gICAgICAgICAgICAvL1RPRE86IHRoaXMubWFpbi5jb21wb25lbnRzLmVkaXRvcnMuZ2V0RWRpdG9yRnJvbUV4dGVuc2lvbihleHRlbnNpb24pO1xuICAgICAgICAgICAgZmlsZXR5cGUudGV4dChleHRlbnNpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHllcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGxldCBwcmVmaXggPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiaW5zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gbmFtZXNwYWNlLnZhbCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSBcInN0YXJ0aW5nXCIpIHtcbiAgICAgICAgICAgICAgICBwcmVmaXggPSBcIl5cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpbGVuYW1lLnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBwcmVmaXgrZmlsZW5hbWUudmFsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgYm9keS5zdWJtaXQoKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHllcygpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuY29uZmlybShcIk1ha2UgTmV3IEZpbGVcIiwgYm9keSwgeWVzLCAoKT0+e30sIFwiQWRkXCIpO1xuICAgIH1cbn0iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ29udGFpbnMgbWFpbiBIVE1MIG9mIEJsb2NrUHkgaW50ZXJmYWNlLCBhbmQgaGVscGVyIGZ1bmN0aW9ucy5cbiAqIENvbWJpbmVzIGEgbG90IG9mIEhUTUwgZnJvbSBjb21wb25lbnRzLlxuICpcbiAqIEhlcmUncyB0aGUgbGF5b3V0OlxuICogIFJvdyAxOiBIZWFkZXIgYW5kIFF1aWNrIE1lbnVcbiAqICBSb3cgMjogQ29uc29sZSBhbmQgRmVlZGJhY2tcbiAqICBSb3cgMzogRmlsZSBOYXZpZ2F0aW9uXG4gKiAgUm93IDQ6IFZpZXcgUm93XG4gKiAgUm93IDU6IEZvb3RlciBSb3dcbiAqL1xuXG5pbXBvcnQge1RSQUNFX0hUTUx9IGZyb20gXCJ0cmFjZS5qc1wiO1xuaW1wb3J0IHtESUFMT0dfSFRNTH0gZnJvbSBcImRpYWxvZy5qc1wiO1xuaW1wb3J0IHtGRUVEQkFDS19IVE1MfSBmcm9tIFwiZmVlZGJhY2suanNcIjtcbmltcG9ydCB7RklMRVNfSFRNTH0gZnJvbSBcImZpbGVzLmpzXCI7XG5pbXBvcnQge0ZPT1RFUl9IVE1MfSBmcm9tIFwiZm9vdGVyLmpzXCI7XG5pbXBvcnQge0VESVRPUlNfSFRNTH0gZnJvbSBcImVkaXRvcnMuanNcIjtcbmltcG9ydCB7Q09OU09MRV9IVE1MfSBmcm9tIFwiY29uc29sZS5qc1wiO1xuXG4vKipcbiAqIFRoZSBkaWZmZXJlbnQgbGF5b3V0IG9wdGlvbnMgb2YgdGhlIHBhbmVzIGluIHRoZSBzZWNvbmQgcm93IG9mIHRoZSBsYXlvdXQuXG4gKiBAZW51bSB7U3RyaW5nfVxuICovXG5leHBvcnQgbGV0IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucyA9IHtcbiAgICBGRUVEQkFDSzogXCJmZWVkYmFja1wiLFxuICAgIFRSQUNFOiBcInRyYWNlXCIsXG4gICAgTk9ORTogXCJub25lXCJcbn07XG5cbi8qKlxuICogU2V0dXAgYW55IGFkZGl0aW9uYWwgS25vY2tvdXQgc3Vic2NyaXB0aW9ucyB0byBmaXJlIG9uIGludGVyZmFjZSBjaGFuZ2VzLlxuICogQHBhcmFtIHNlbGZcbiAqIEBwYXJhbSBtb2RlbFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUV4dHJhSW50ZXJmYWNlU3Vic2NyaXB0aW9ucyhzZWxmLCBtb2RlbCkge1xuICAgIC8vIEhpZ2hsaWdodCBNYXJrZG93biB3aGVuIGluc3RydWN0aW9ucyB1cGRhdGVcbiAgICBsZXQgaGlnaGxpZ2h0VGltZW91dCA9IG51bGw7XG4gICAgbW9kZWwudWkuaW5zdHJ1Y3Rpb25zLmN1cnJlbnQuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgaWYgKGhpZ2hsaWdodFRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChoaWdobGlnaHRUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBoaWdobGlnaHRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktaW5zdHJ1Y3Rpb25zIHByZSBjb2RlXCIpLm1hcCggKGksIGJsb2NrKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93LmhsanMuaGlnaGxpZ2h0QmxvY2soYmxvY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDQwMCk7XG4gICAgfSk7XG4gICAgLy8gUHJvdmlkZSBGdWxsc2NyZWVuIHN1cHBvcnRcbiAgICBtb2RlbC5kaXNwbGF5LmZ1bGxzY3JlZW4uc3Vic2NyaWJlKChpc0Z1bGxzY3JlZW4pID0+IHtcbiAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRGlzcGxheS5GdWxsc2NyZWVuLlJlcXVlc3RcIiwgXCJcIiwgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Z1bGxzY3JlZW4udG9TdHJpbmcoKSwgXCJcIik7XG4gICAgICAgIGlmIChpc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IG5hdmlnYXRpb25VSSBjb3VsZCBhbGxvdyB1cyB0byBmb3JjZSBjb250cm9scyB0byBzaG93XG4gICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5wYXJlbnQoKVswXS5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBgRXJyb3IgYXR0ZW1wdGluZyB0byBlbmFibGUgZnVsbC1zY3JlZW4gbW9kZTogJHtlcnIubWVzc2FnZX0gKCR7ZXJyLm5hbWV9KWA7XG4gICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRGlzcGxheS5GdWxsc2NyZWVuLkVycm9yXCIsIFwiXCIsIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLCAgXCJcIik7XG4gICAgICAgICAgICAgICAgYWxlcnQobWVzc2FnZSk7XG4gICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1EaXNwbGF5LkZ1bGxzY3JlZW4uU3VjY2Vzc1wiLCBcIlwiLCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5mdWxsc2NyZWVuKHRydWUpO1xuICAgICAgICAgICAgICAgIG1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJhdXRvXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLURpc3BsYXkuRnVsbHNjcmVlbi5FeGl0XCIsIFwiXCIsIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Z1bGxzY3JlZW4udG9TdHJpbmcoKSwgXCJcIik7XG4gICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5mdWxsc2NyZWVuKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vIFRPRE86IEdldCBzaGFyZWFibGUgbGluayBidXR0b25cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJbnRlcmZhY2UobWFpbikge1xuICAgIHJldHVybiBgXG48ZGl2IGNsYXNzPSdibG9ja3B5LWNvbnRlbnQgY29udGFpbmVyLWZsdWlkJz5cblxuICAgIDwhLS0gRGlhbG9nIC0tPlxuICAgICR7RElBTE9HX0hUTUx9XG4gICAgXG4gICAgPCEtLSBIaWRkZW4gQ2FwdHVyZSBDYW52YXMgLS0+XG4gICAgPGNhbnZhcyBpZD0nY2FwdHVyZS1jYW52YXMnIGNsYXNzPSdkLW5vbmUnIHJvbGU9XCJwcmVzZW50YXRpb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2NhbnZhcz5cbiAgICBcbiAgICA8IS0tIFJvdyAxOiBIZWFkZXIgYW5kIFF1aWNrIE1lbnUgLS0+XG4gICAgPGRpdiBjbGFzcz0ncm93JyBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj5cbiAgICAgICAgIFxuICAgICAgICAgPCEtLSBEZXNjcmlwdGlvbiAtLT5cbiAgICAgICAgIDxkaXYgY2xhc3M9J2NvbC1tZC0xMCBibG9ja3B5LXBhbmVsIGJsb2NrcHktaGVhZGVyJ1xuICAgICAgICAgICAgICAgcm9sZT0naGVhZGluZycgYXJpYS1sYWJlbD0nQXNzaWdubWVudCBEZXNjcmlwdGlvbic+XG4gICAgICAgICBcbiAgICAgICAgICAgIDwhLS0gQXNzaWdubWVudCBOYW1lIC0tPlxuICAgICAgICAgICAgPHNwYW4gcm9sZT0naGVhZGluZycgYXJpYS1sZXZlbD0nMSdcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmxvY2tweS1uYW1lXCI+XG4gICAgICAgICAgICAgICAgPHN0cm9uZz5CbG9ja1B5OiA8L3N0cm9uZz4gXG4gICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPSd0ZXh0OiBhc3NpZ25tZW50Lm5hbWUnPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPCEtLSBSZXNldCBJbnN0cnVjdGlvbnMgQnV0dG9uIC0tPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJsb2NrcHktaW5zdHJ1Y3Rpb25zLXJlc2V0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5pbnN0cnVjdGlvbnMuaXNDaGFuZ2VkXCI+XG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJmbG9hdC1yaWdodFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5pbnN0cnVjdGlvbnMucmVzZXRcIlxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgIFJlc2V0IGluc3RydWN0aW9uczwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8IS0tIEluc3RydWN0aW9ucyAtLT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9J2Jsb2NrcHktaW5zdHJ1Y3Rpb25zJ1xuICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJodG1sOiB1aS5pbnN0cnVjdGlvbnMuY3VycmVudFwiPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz0nY29sLW1kLTIgYmxvY2tweS1wYW5lbCBibG9ja3B5LXF1aWNrLW1lbnUnXG4gICAgICAgICAgICAgcm9sZT0nbWVudWJhcicgYXJpYS1sYWJlbD0nUXVpY2sgTWVudScgdGl0bGU9XCJRdWljayBNZW51XCI+XG4gICAgICAgICAgICA8IS0tIEdldCBTaGFyZWFibGUgTGluayAtLT5cbiAgICAgICAgICAgIDwhLS08YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc21cIj5cbiAgICAgICAgICAgICAgICBHZXQgc2hhcmVhYmxlIGxpbms8L2J1dHRvbj4tLT5cbiAgICAgICAgICAgIDxzcGFuIGRhdGEtYmluZD1cInZpc2libGU6IHVpLm1lbnUuaXNTdWJtaXR0ZWRcIj5cbiAgICAgICAgICAgICAgICBZb3VyIHN1Ym1pc3Npb24gaXMgcmVhZHkgdG8gYmUgcmV2aWV3ZWQhPC9zcGFuPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5tZW51LmNhbk1hcmtTdWJtaXR0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB1aS5tZW51LnRleHRNYXJrU3VibWl0dGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLm1lbnUuY2xpY2tNYXJrU3VibWl0dGVkXCI+PC9idXR0b24+XG4gICAgICAgICAgICA8IS0tIFZpZXcgYXMgaW5zdHJ1Y3RvciAtLT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCJcbiAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkucm9sZS5pc0dyYWRlclwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIlwiIGlkPVwiYmxvY2tweS1hcy1pbnN0cnVjdG9yXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2hlY2tlZDogZGlzcGxheS5pbnN0cnVjdG9yXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktYXMtaW5zdHJ1Y3RvclwiPlxuICAgICAgICAgICAgICAgICAgICBWaWV3IGFzIGluc3RydWN0b3JcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5tZW51LmNsaWNrRnVsbHNjcmVlblwiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJGdWxsIFNjcmVlblwiXG4gICAgICAgICAgICA+PHNwYW4gY2xhc3M9J2ZhcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGFzczogdWkubWVudS50ZXh0RnVsbHNjcmVlblwiXG4gICAgICAgICAgICA+PC9zcGFuPjwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkubWVudS5lZGl0SW5wdXRzLCB2aXNpYmxlOiB1aS5tZW51LnNob3dRdWV1ZWRJbnB1dHNcIiB0aXRsZT1cIkVkaXQgSW5wdXRzXCJcbiAgICAgICAgICAgID48c3BhbiBjbGFzcz0nZmFzIGZhLWxpc3QtYWx0Jz48L3NwYW4+PC9idXR0b24+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJsb2NrcHktc3R1ZGVudC1lcnJvciBmYXMgZmEtYnVnXCI+PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgIDwvZGl2PlxuICAgIFxuICAgIDwhLS0gUm93IDI6IENvbnNvbGUgYW5kIEZlZWRiYWNrIC0tPlxuICAgIDwhLS0ga28gaWY6IHVpLnNlY29uZFJvdy5pc0FsbFZpc2libGUgLS0+XG4gICAgPGRpdiBjbGFzcz0ncm93Jz5cbiAgICBcbiAgICAgICAgPCEtLSBDb25zb2xlIC0tPlxuICAgICAgICAke0NPTlNPTEVfSFRNTH1cbiAgICAgICAgIFxuICAgICAgICA8IS0tIEZlZWRiYWNrIC0tPlxuICAgICAgICA8IS0tIGtvIGlmOiB1aS5zZWNvbmRSb3cuaXNGZWVkYmFja1Zpc2libGUgLS0+XG4gICAgICAgICR7RkVFREJBQ0tfSFRNTH1cbiAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgIFxuICAgICAgICA8IS0tIFRyYWNlIC0tPlxuICAgICAgICA8IS0tIGtvIGlmOiB1aS5zZWNvbmRSb3cuaXNUcmFjZVZpc2libGUgLS0+XG4gICAgICAgICR7VFJBQ0VfSFRNTH1cbiAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgICBcbiAgICA8L2Rpdj5cbiAgICA8IS0tIC9rbyAtLT5cbiAgICBcbiAgICA8IS0tIFJvdyAzOiBGaWxlIE5hdmlnYXRpb24gLS0+XG4gICAgPCEtLSBrbyBpZjogdWkuZmlsZXMudmlzaWJsZSAtLT5cbiAgICA8ZGl2IGNsYXNzPSdyb3cnIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPlxuICAgICAgICAke0ZJTEVTX0hUTUx9XG4gICAgPC9kaXY+XG4gICAgPCEtLSAva28gLS0+XG4gICAgXG4gICAgPCEtLSBSb3cgNDogVmlldyBSb3cgLS0+XG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAke0VESVRPUlNfSFRNTH1cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gUm93IDU6IEZvb3RlciBSb3cgLS0+ICAgIFxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgJHtGT09URVJfSFRNTH1cbiAgICA8L2Rpdj5cbiAgICBcbjwvZGl2PlxuICAgIGA7XG59XG4iLCIvL1RPRE86IE1vdmUgZ2V0IGxpbmsgZG93biB0byBmb290ZXIsIHJlbW92ZSB2ZXJ0aWNhbCBiYXIgZnJvbSBxdWljay1tZW51XG5leHBvcnQgbGV0IEZPT1RFUl9IVE1MID0gYFxuPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBibG9ja3B5LXBhbmVsIGJsb2NrcHktc3RhdHVzXCI+XG4gICAgPGRpdj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdsb2FkQXNzaWdubWVudCcpXCI+TG9hZCBBc3NpZ25tZW50PC9zcGFuPiwgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnc2F2ZUFzc2lnbm1lbnQnKVwiPlNhdmUgQXNzaWdubWVudDwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ2xvYWRGaWxlJylcIj5Mb2FkIEZpbGU8L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdzYXZlRmlsZScpXCI+U2F2ZSBGaWxlPC9zcGFuPiwgXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2VcIiBkYXRhLWJpbmQ9XCJjbGFzczogdWkuc2VydmVyLnN0YXR1cygnbG9hZERhdGFzZXQnKVwiPkxvYWQgRGF0YXNldDwvc3Bhbj4sIFxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlXCIgZGF0YS1iaW5kPVwiY2xhc3M6IHVpLnNlcnZlci5zdGF0dXMoJ2xvZ0V2ZW50JylcIj5Mb2cgRXZlbnQ8L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCd1cGRhdGVTdWJtaXNzaW9uJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLnNlcnZlci5mb3JjZS51cGRhdGVTdWJtaXNzaW9uXCI+VXBkYXRlIFN1Ym1pc3Npb248L3NwYW4+LCBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiIGRhdGEtYmluZD1cImNsYXNzOiB1aS5zZXJ2ZXIuc3RhdHVzKCdvbkV4ZWN1dGlvbicpXCI+RXhlY3V0aW9uPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogdWkuc2VydmVyLm1lc3NhZ2VzXCI+PC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXY+XG4gICAgICAgIDxzcGFuPlVzZXI6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuaWRcIj48L3NwYW4+ICg8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1c2VyLm5hbWVcIj48L3NwYW4+LCA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiB1c2VyLnJvbGVcIj48L3NwYW4+KTwvc3Bhbj4sIFxuICAgICAgICA8c3Bhbj5Db3Vyc2U6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuY291cnNlSWRcIj48L3NwYW4+PC9zcGFuPixcbiAgICAgICAgPHNwYW4+R3JvdXA6IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVzZXIuZ3JvdXBJZFwiPjwvc3Bhbj48L3NwYW4+LFxuICAgICAgICA8c3Bhbj5Bc3NpZ25tZW50OiA8c3BhbiBkYXRhLWJpbmQ9XCJ0ZXh0OiBhc3NpZ25tZW50LmlkXCI+PC9zcGFuPjwvc3Bhbj4sXG4gICAgICAgIDxzcGFuPkFzc2lnbm1lbnQgVmVyc2lvbjogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogYXNzaWdubWVudC52ZXJzaW9uXCI+PC9zcGFuPjwvc3Bhbj4sXG4gICAgICAgIDxzcGFuPlN1Ym1pc3Npb246IDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHN1Ym1pc3Npb24uaWRcIj48L3NwYW4+PC9zcGFuPiwgXG4gICAgICAgIDxzcGFuPlN1Ym1pc3Npb24gVmVyc2lvbjogPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogc3VibWlzc2lvbi52ZXJzaW9uXCI+PC9zcGFuPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuYDsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzVfXzsiLCIvKipcbiAqIFRPRE86IHJlbmFtZSBmaWxlcywgbWFudWFsIHNhdmUsIHRhZ3MsIHNhbXBsZV9zdWJtaXNzaW9ucywgb25fZXZhbCwgbm9uLWJ1aWx0aW4gZmlsZXNcbiAqIFRPRE86IGltcG9ydCBkYXRhLCBoaXN0b3J5LCBydW4sIHVybF9kYXRhLCBhc3NpZ25tZW50X3NldHRpbmdzLCBwYXJzb25zX21vZGVcbiAqIFRPRE86IGRlbGV0ZSBiZWNvbWVzIFwiY2xlYXJcIiBmb3IgaW5zdHJ1Y3RvciBmaWxlc1xuICovXG5cbi8qKlxuICpcbiAqIEBlbnVtIHtzdHJ9XG4gKi9cbmltcG9ydCB7QWJzdHJhY3RFZGl0b3IsIHNsdWdnaWZ5fSBmcm9tIFwiLi9hYnN0cmFjdF9lZGl0b3JcIjtcbmltcG9ydCB7SElTVE9SWV9UT09MQkFSX0hUTUx9IGZyb20gXCIuLi9oaXN0b3J5XCI7XG5cbmV4cG9ydCBsZXQgRGlzcGxheU1vZGVzID0ge1xuICAgIEJMT0NLOiBcImJsb2NrXCIsXG4gICAgU1BMSVQ6IFwic3BsaXRcIixcbiAgICBURVhUOiBcInRleHRcIlxufTtcblxuZnVuY3Rpb24gbWFrZVRhYihuYW1lLCBpY29uLCBtb2RlKSB7XG4gICAgcmV0dXJuIGA8bGFiZWwgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJsb2NrcHktbW9kZS1zZXQtYmxvY2tzXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjc3M6IHthY3RpdmU6IGRpc3BsYXkucHl0aG9uTW9kZSgpID09PSAnJHttb2RlfSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLnVwZGF0ZU1vZGUuYmluZCgkZGF0YSwgJyR7bW9kZX0nKVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtJHtpY29ufSc+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiYmxvY2tweS1tb2RlLXNldFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIGNoZWNrZWQ+ICR7bmFtZX1cbiAgICAgICAgICAgIDwvbGFiZWw+YDtcbn1cblxuZXhwb3J0IGNvbnN0IFBZVEhPTl9FRElUT1JfSFRNTCA9IGBcblxuICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LXB5dGhvbi10b29sYmFyIGNvbC1tZC0xMiBidG4tdG9vbGJhclwiXG4gICAgICAgICByb2xlPVwidG9vbGJhclwiIGFyaWEtbGFiZWw9XCJQeXRob24gVG9vbGJhclwiPlxuXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiUnVuIEdyb3VwXCI+ICAgICAgICAgXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBibG9ja3B5LXJ1biBub3RyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5leGVjdXRlLnJ1bixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3M6IHsnYmxvY2tweS1ydW4tcnVubmluZyc6IHVpLmV4ZWN1dGUuaXNSdW5uaW5nfVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLXBsYXlcIj48L3NwYW4+IOi/kOihjCBcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC10b2dnbGUgbXItMlwiIGRhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiPlxuICAgICAgICAgICAgPCEtLSBrbyBpZjogJHJvb3QuYXNzaWdubWVudC5zZXR0aW5ncy5lbmFibGVCbG9ja3MoKSAtLT5cbiAgICAgICAgICAgICR7bWFrZVRhYihcIuenr+acqFwiLCBcInRoLWxhcmdlXCIsIERpc3BsYXlNb2Rlcy5CTE9DSyl9XG4gICAgICAgICAgICAke21ha2VUYWIoXCLliIbmoI9cIiwgXCJjb2x1bW5zXCIsIERpc3BsYXlNb2Rlcy5TUExJVCl9XG4gICAgICAgICAgICAke21ha2VUYWIoXCLmlofmnKxcIiwgXCJhbGlnbi1sZWZ0XCIsIERpc3BsYXlNb2Rlcy5URVhUKX1cbiAgICAgICAgICAgIDwhLS0gL2tvIC0tPlxuICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJSZXNldCBHcm91cFwiPlxuICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnJlc2V0XCI+XG4gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLXN5bmNcIj48L3NwYW4+IOmHjee9riBcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPCEtLSBrbyBpZjogIWFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUltcG9ydERhdGFzZXRzQnV0dG9uKCkgLS0+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiSW1wb3J0IEdyb3VwXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLmltcG9ydERhdGFzZXRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1jbG91ZC1kb3dubG9hZC1hbHRcIj48L3NwYW4+IOWvvOWFpeaVsOaNrumbhiBcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgICBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtZmlsZS11cGxvYWRcIj48L3NwYW4+IOS4iuS8oCBcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYmxvY2tweS10b29sYmFyLXVwbG9hZFwiIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlblxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiZXZlbnQ6IHtjaGFuZ2U6IHVpLmVkaXRvcnMudXBsb2FkfVwiPlxuICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZSBkcm9wZG93bi10b2dnbGUtc3BsaXRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+VG9nZ2xlIERyb3Bkb3duPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9J2Ryb3Bkb3duLWl0ZW0gYmxvY2tweS10b29sYmFyLWRvd25sb2FkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMuZG93bmxvYWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1kb3dubG9hZCc+PC9zcGFuPiBEb3dubG9hZFxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkhpc3RvcnkgR3JvdXBcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgYXJpYS1wcmVzc2VkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi50b2dnbGVIaXN0b3J5TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZTogdWkuZWRpdG9ycy5weXRob24uaXNIaXN0b3J5QXZhaWxhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzOiB7IGFjdGl2ZTogZGlzcGxheS5oaXN0b3J5TW9kZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogeyAnYXJpYS1wcmVzc2VkJzogZGlzcGxheS5oaXN0b3J5TW9kZSB9XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtaGlzdG9yeVwiPjwvc3Bhbj4g5Y6G5Y+yIFxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICAgICAgIDwhLS0gRnVsbHkgZnVuY3Rpb25hbCwgYnV0IGEgbGl0dGxlIHRvby4uIEludmFzaXZlIFxuICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bi1ncm91cCBtci0yXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkZ1bGxzY3JlZW4gR3JvdXBcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogZGlzcGxheS5weXRob25Nb2RlKCkgPT09ICd0ZXh0J1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uZnVsbHNjcmVlblwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLWV4cGFuZC1hcnJvd3MtYWx0XCI+PC9zcGFuPiBGdWxsc2NyZWVuXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIC0tPlxuICAgICAgICAgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiU2F2ZSBHcm91cFwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiB1aS5lZGl0b3JzLmNhblNhdmVcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFzIGZhLXNhdmVcIj48L3NwYW4+IFNhdmVcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwIG1yLTJcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiRGVsZXRlIEdyb3VwXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cInZpc2libGU6IHVpLmVkaXRvcnMuY2FuRGVsZXRlXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIixcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZmlsZXMuZGVsZXRlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYXMgZmEtdHJhc2hcIj48L3NwYW4+IERlbGV0ZVxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgbXItMlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJSZW5hbWUgR3JvdXBcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwidmlzaWJsZTogdWkuZWRpdG9ycy5jYW5SZW5hbWVcIj5cbiAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhcyBmYS1maWxlLXNpZ25hdHVyZVwiPjwvc3Bhbj4gUmVuYW1lXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIFxuICAgIDwvZGl2PlxuICAgIFxuICAgICR7SElTVE9SWV9UT09MQkFSX0hUTUx9XG5cblxuICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LXB5dGhvbi1ibG9ja21pcnJvclwiXG4gICAgICAgIGRhdGEtYmluZD1cImhpZGRlbjogdWkubWVudS5pc1N1Ym1pdHRlZFwiPlxuICAgIDwvZGl2PlxuYDtcblxuXG5cbmZ1bmN0aW9uIGNvbnZlcnRJcHluYlRvUHl0aG9uKGNvZGUpIHtcbiAgICBsZXQgaXB5bmIgPSBKU09OLnBhcnNlKGNvZGUpO1xuICAgIGxldCBpc1VzYWJsZSA9IGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgaWYgKGNlbGwuY2VsbF90eXBlID09PSBcImNvZGVcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNlbGwuc291cmNlLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAhY2VsbC5zb3VyY2VbMF0uc3RhcnRzV2l0aChcIiVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY2VsbC5jZWxsX3R5cGUgPT09IFwibWFya2Rvd25cIiB8fFxuICAgICAgICAgICAgICAgIGNlbGwuY2VsbF90eXBlID09PSBcInJhd1wiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBsZXQgbWFrZVB5dGhvbiA9IGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgaWYgKGNlbGwuY2VsbF90eXBlID09PSBcImNvZGVcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNlbGwuc291cmNlLmpvaW4oXCJcXG5cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoY2VsbC5jZWxsX3R5cGUgPT09IFwibWFya2Rvd25cIiB8fFxuICAgICAgICAgICAgY2VsbC5jZWxsX3R5cGUgPT09IFwicmF3XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIicnJ1wiK2NlbGwuc291cmNlLmpvaW4oXCJcXG5cIikrXCInJydcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGlweW5iLmNlbGxzLmZpbHRlcihpc1VzYWJsZSkubWFwKG1ha2VQeXRob24pLmpvaW4oXCJcXG5cIik7XG59XG5cbmNsYXNzIFB5dGhvbkVkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZy5maW5kKFwiLmJsb2NrcHktcHl0aG9uLWJsb2NrbWlycm9yXCIpKTtcbiAgICAgICAgQmxvY2tseS5zZXRQYXJlbnRDb250YWluZXIobWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lclswXSk7XG4gICAgICAgIHRoaXMuYm0gPSBuZXcgQmxvY2tNaXJyb3Ioe1xuICAgICAgICAgICAgXCJjb250YWluZXJcIjogdGhpcy50YWdbMF0sXG4gICAgICAgICAgICBcInJ1blwiOiBtYWluLmNvbXBvbmVudHMuZW5naW5lLnJ1bi5iaW5kKG1haW4uY29tcG9uZW50cy5lbmdpbmUpLFxuICAgICAgICAgICAgXCJza2lwU2t1bHB0XCI6IHRydWUsXG4gICAgICAgICAgICBcImJsb2NrbHlNZWRpYVBhdGhcIjogbWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmJsb2NrbHlQYXRoLFxuICAgICAgICAgICAgXCJ0b29sYm94XCI6IG1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy50b29sYm94KCksXG4gICAgICAgICAgICBcImltYWdlTW9kZVwiOiB0cnVlLFxuICAgICAgICAgICAgaW1hZ2VEb3dubG9hZEhPb2s6IChvbGRVcmwpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkVXJsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlVXBsb2FkSG9vazogKGJsb2IpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiSW1hZ2UoXCIrSlNPTi5zdHJpbmdpZnkoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSkrXCIpXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlTGl0ZXJhbEhvb2s6IChvbGRVcmwpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEltYWdlKFwiJHtvbGRVcmx9XCIpYDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLydoZWlnaHQnOiAnMjAwMHB4J1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYWtlU3Vic2NyaXB0aW9ucygpO1xuICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub2xkUHl0aG9uTW9kZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKTtcblxuICAgICAgICB0aGlzLm1ha2VQZXJBc3NpZ25tZW50U3Vic2NyaXB0aW9ucygpO1xuICAgIH1cblxuICAgIGNvbmZpZ3VyZUV4dHJhQmxvY2tseSgpIHtcbiAgICAgICAgdGhpcy5ibS5ibG9ja0VkaXRvci53b3Jrc3BhY2UuY29uZmlndXJlQ29udGV4dE1lbnUgPSAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiU2NyZWVuc2hvdFwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuU0NSRUVOU0hPVF9CTE9DS1NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcbiAgICAgICAgbGV0IG9sZEZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICBpZiAobmV3RmlsZW5hbWUgIT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIGlmIChvbGRGaWxlbmFtZSA9PT0gXCJhbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgICAgIHRoaXMub2xkUHl0aG9uTW9kZSA9IHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoRGlzcGxheU1vZGVzLlRFWFQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHl0aG9uTW9kZSh0aGlzLm9sZFB5dGhvbk1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcblxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxuICAgICAgICB0aGlzLmN1cnJlbnRCTUxpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ibS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLmN1cnJlbnRCTUxpc3RlbmVyKTtcblxuICAgICAgICBpZiAobmV3RmlsZW5hbWUgIT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIHRoaXMuYm0uaXNQYXJzb25zID0gKCkgPT4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJtLmlzUGFyc29ucyA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmlzUGFyc29ucztcblxuICAgICAgICAgICAgdGhpcy5saW5lRXJyb3JTdWJzY3JpcHRpb24gPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmxpbmVzRXJyb3Iuc3Vic2NyaWJlKChsaW5lcykgPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm0uc2V0SGlnaGxpZ2h0ZWRMaW5lcyhsaW5lcywgXCJlZGl0b3ItZXJyb3ItbGluZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5saW5lVW5jb3ZlcmVkU3Vic2NyaXB0aW9uID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5saW5lc1VuY292ZXJlZC5zdWJzY3JpYmUoKGxpbmVzKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0SGlnaGxpZ2h0ZWRMaW5lcyhsaW5lcywgXCJlZGl0b3ItdW5jb3ZlcmVkLWxpbmVcIilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vdGhpcy5ibS5ibG9ja0VkaXRvci53b3Jrc3BhY2UucmVuZGVyKCk7XG4gICAgICAgIC8vdGhpcy5ibS5yZWZyZXNoKCk7XG4gICAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IHRoaXMgZG9lc24ndCBlbmQgdXAgbG9va2luZyByaWdodCAoZ28gdG8gYSBkaWZmZXJlbnQgZWRpdG9yLCBjb21lIGJhY2ssIGFuZCBpdCdsbCBiZSBzcXVpc2hlZClcbiAgICAgICAgLy90aGlzLmJtLnJlZnJlc2goKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmJtLnJlZnJlc2goKSwgMCk7XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XG4gICAgICAgIGlmIChuZXdDb250ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGVudHMgPSB0aGlzLmZpbGUuaGFuZGxlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERvZXNuJ3QgbWF0dGVyLCBmaWxlIHdhcyBhbHJlYWR5IHNodXQgZG93bi5cbiAgICAgICAgICAgICAgICBuZXdDb250ZW50cyA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV3Q29udGVudHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGNsb3NpbmcgdGhpcyBmaWxlXG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLmRlbGV0ZUZpbGVMb2NhbGx5Xyh0aGlzLmZpbGVuYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYm0uc2V0Q29kZShuZXdDb250ZW50cyk7XG4gICAgICAgICAgICAvLyBEZWxheSBzbyB0aGF0IGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUhhbmRsZShldmVudCkge1xuICAgICAgICB0aGlzLmJtLmNsZWFySGlnaGxpZ2h0ZWRMaW5lcygpO1xuXG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLmJtLmdldENvZGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYm0ucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5jdXJyZW50Qk1MaXN0ZW5lcik7XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuZWRpdG9ycy5weXRob24udHVybk9mZkhpc3RvcnlNb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhckxpbmVTdWJzY3JpcHRpb25zKCk7XG4gICAgICAgIHN1cGVyLmV4aXQobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxuXG4gICAgY2xlYXJMaW5lU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5ibS5jbGVhckhpZ2hsaWdodGVkTGluZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUVycm9yU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVFcnJvclN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5saW5lVW5jb3ZlcmVkU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMubGluZVVuY292ZXJlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYWtlU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5ibS5zZXRNb2RlKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUoKSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LnB5dGhvbk1vZGUuc3Vic2NyaWJlKG1vZGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5ibS5zZXRNb2RlKG1vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZW5hYmxlQmxvY2tzLnN1YnNjcmliZShlbmFibGVkID0+IHtcbiAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0TW9kZShEaXNwbGF5TW9kZXMuVEVYVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYm0uc2V0TW9kZSh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5weXRob25Nb2RlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MudG9vbGJveC5zdWJzY3JpYmUodG9vbGJveCA9PiB7XG4gICAgICAgICAgICB0aGlzLmJtLmNvbmZpZ3VyYXRpb24udG9vbGJveCA9IHRvb2xib3g7XG4gICAgICAgICAgICB0aGlzLmJtLmJsb2NrRWRpdG9yLnJlbWFrZVRvb2xib3goKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmVuYWJsZUltYWdlcy5zdWJzY3JpYmUoaW1hZ2VNb2RlID0+IHtcbiAgICAgICAgICAgIHRoaXMuYm0uc2V0SW1hZ2VNb2RlKGltYWdlTW9kZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1ha2VQZXJBc3NpZ25tZW50U3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3Rvci5zdWJzY3JpYmUoKGNoYW5nZWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVhZE9ubHkodGhpcy5kZWNpZGVJZk5vdEVkaXRhYmxlKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Mub25seVVwbG9hZHMuc3Vic2NyaWJlKChjaGFuZ2VkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFJlYWRPbmx5KHRoaXMuZGVjaWRlSWZOb3RFZGl0YWJsZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVjaWRlSWZOb3RFZGl0YWJsZSgpIHtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5tYWluLm1vZGVsO1xuICAgICAgICByZXR1cm4gbW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpIHx8IChcbiAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3Mub25seVVwbG9hZHMoKSAmJiAhbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzZXRSZWFkT25seShpc1JlYWRPbmx5KSB7XG4gICAgICAgIHRoaXMucmVhZE9ubHkgPSBpc1JlYWRPbmx5O1xuICAgICAgICB0aGlzLmJtLnNldFJlYWRPbmx5KGlzUmVhZE9ubHkpO1xuICAgIH1cblxuICAgIHVwbG9hZEZpbGUoZXZlbnQpIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lID0gZXZlbnQudGFyZ2V0LmZpbGVOYW1lO1xuICAgICAgICBsZXQgY29kZSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChmaWxlbmFtZS5lbmRzV2l0aChcIi5pcHluYlwiKSkge1xuICAgICAgICAgICAgY29kZSA9IGNvbnZlcnRJcHluYlRvUHl0aG9uKGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmlsZS5VcGxvYWRcIiwgXCJcIiwgXCJcIiwgY29kZSwgdGhpcy5maWxlbmFtZSk7XG4gICAgICAgIHRoaXMuZmlsZS5oYW5kbGUoY29kZSk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmVuZ2luZS5ydW4oKTtcbiAgICAgICAgLy8gVE9ETzogUnVuIGNvZGVcbiAgICB9XG5cbiAgICBkb3dubG9hZEZpbGUoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBzdXBlci5kb3dubG9hZEZpbGUoKTtcbiAgICAgICAgaWYgKHJlc3VsdC5uYW1lID09PSBcImFuc3dlclwiICYmIHJlc3VsdC5leHRlbnNpb24gPT09IFwiLnB5XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gc2x1Z2dpZnkodGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQubmFtZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubWltZXR5cGUgPSBcInRleHQveC1weXRob25cIjtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiWC1GaWxlLkRvd25sb2FkXCIsIFwiXCIsIFwiXCIsIFwiXCIsIHJlc3VsdC5uYW1lKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFB5dGhvbkVkaXRvciA9IHtcbiAgICBuYW1lOiBcIlB5dGhvblwiLFxuICAgIGV4dGVuc2lvbnM6IFtcIi5weVwiXSxcbiAgICBjb25zdHJ1Y3RvcjogUHl0aG9uRWRpdG9yVmlldyxcbiAgICB0ZW1wbGF0ZTogUFlUSE9OX0VESVRPUl9IVE1MXG59O1xuIiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBURVhUX0VESVRPUl9IVE1MID0gYFxuICAgIDxkaXY+XG4gICAgPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1lZGl0b3ItdGV4dFwiPjwvdGV4dGFyZWE+XG4gICAgPC9kaXY+XG5gO1xuXG5jbGFzcyBUZXh0RWRpdG9yVmlldyBleHRlbmRzIEFic3RyYWN0RWRpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgdGFnKTtcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEodGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItdGV4dFwiKVswXSwge1xuICAgICAgICAgICAgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IHRydWUsXG4gICAgICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcbiAgICAgICAgICAgIGZpcnN0TGluZU51bWJlcjogMSxcbiAgICAgICAgICAgIGluZGVudFVuaXQ6IDQsXG4gICAgICAgICAgICB0YWJTaXplOiA0LFxuICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxuICAgICAgICAgICAgZXh0cmFLZXlzOiB7XG4gICAgICAgICAgICAgICAgXCJUYWJcIjogXCJpbmRlbnRNb3JlXCIsXG4gICAgICAgICAgICAgICAgXCJTaGlmdC1UYWJcIjogXCJpbmRlbnRMZXNzXCIsXG4gICAgICAgICAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24gKGNtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbS5nZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbS5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIkYxMVwiOiBmdW5jdGlvbiAoY20pIHtcbiAgICAgICAgICAgICAgICAgICAgY20uc2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiLCAhY20uZ2V0T3B0aW9uKFwiZnVsbFNjcmVlblwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IodGhpcy5maWxlLmhhbmRsZSgpKTtcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSByZWxldmFudCBGaWxlXG4gICAgICAgIHRoaXMuY3VycmVudFN1YnNjcmlwdGlvbiA9IHRoaXMuZmlsZS5oYW5kbGUuc3Vic2NyaWJlKHRoaXMudXBkYXRlRWRpdG9yLmJpbmQodGhpcykpO1xuICAgICAgICAvLyBOb3RpZnkgcmVsZXZhbnQgZmlsZSBvZiBjaGFuZ2VzIHRvIEJNXG4gICAgICAgIHRoaXMuY3VycmVudExpc3RlbmVyID0gdGhpcy51cGRhdGVIYW5kbGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gdGhpcykge1xuICAgICAgICAgICAgLy8gRGVsYXkgc28gdGhhdCBldmVyeXRoaW5nIGlzIHJlbmRlcmVkXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY29kZU1pcnJvci5yZWZyZXNoLmJpbmQodGhpcy5jb2RlTWlycm9yKSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogdXBkYXRlIGR5bmFtaWNhbGx5IHdoZW4gY2hhbmdpbmcgaW5zdHJ1Y3RvciBzdGF0dXNcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIG5ld0ZpbGVuYW1lLnN0YXJ0c1dpdGgoXCImXCIpICYmICF0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcihuZXdDb250ZW50cykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gIXRoaXMuZGlydHk7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5zZXRWYWx1ZShuZXdDb250ZW50cyk7XG4gICAgICAgICAgICB0aGlzLmNvZGVNaXJyb3IucmVmcmVzaCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maWxlLmhhbmRsZSh0aGlzLmNvZGVNaXJyb3IuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcikge1xuICAgICAgICAvLyBSZW1vdmUgc3Vic2NyaWJlclxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmNvZGVNaXJyb3Iub2ZmKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5jb2RlTWlycm9yLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIGZhbHNlKTtcbiAgICAgICAgc3VwZXIuZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBUZXh0RWRpdG9yID0ge1xuICAgIG5hbWU6IFwiVGV4dFwiLFxuICAgIGV4dGVuc2lvbnM6IFtcIi50eHRcIl0sXG4gICAgY29uc3RydWN0b3I6IFRleHRFZGl0b3JWaWV3LFxuICAgIHRlbXBsYXRlOiBURVhUX0VESVRPUl9IVE1MXG59OyIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuXG5leHBvcnQgY29uc3QgVEFHU19FRElUT1JfSFRNTCA9IGBcbkNyZWF0ZSBuZXdcbkltcG9ydCBieSBuYW1lXG5GaW5kIGJ5IG93bmVyL2NvdXJzZS9raW5kXG5cblRhZ3M6XG4gICAgRGF0YTpcbiAgICAgICAgTmFtZVxuICAgICAgICBLaW5kXG4gICAgICAgIExldmVsXG4gICAgICAgIFZlcnNpb25cbiAgICAgICAgRGVzY3JpcHRpb25cbiAgICBDb250cm9sczpcbiAgICAgICAgRWRpdFxuICAgICAgICBSZW1vdmVcbiAgICAgICAgRGVsZXRlIFxuYDtcblxuY2xhc3MgVGFnc0VkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZy5maW5kKFwiLmJsb2NrcHktZWRpdG9yLXRhZ3NcIikpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRhZ3NFZGl0b3IgPSB7XG4gICAgbmFtZTogXCJUYWdzXCIsXG4gICAgZXh0ZW5zaW9uczogW1wiIXRhZ3MuYmxvY2tweVwiXSxcbiAgICBjb25zdHJ1Y3RvcjogVGFnc0VkaXRvclZpZXcsXG4gICAgdGVtcGxhdGU6IFRBR1NfRURJVE9SX0hUTUxcbn07IiwiaW1wb3J0IHtBYnN0cmFjdEVkaXRvcn0gZnJvbSBcIi4vYWJzdHJhY3RfZWRpdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBNQVJLRE9XTl9FRElUT1JfSFRNTCA9IGBcbiAgICA8dGV4dGFyZWEgY2xhc3M9XCJibG9ja3B5LWVkaXRvci1tYXJrZG93blwiPjwvdGV4dGFyZWE+ICAgIFxuYDtcblxuXG5jbGFzcyBNYXJrZG93bkVkaXRvclZpZXcgZXh0ZW5kcyBBYnN0cmFjdEVkaXRvciB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIHRhZyk7XG4gICAgICAgIHRoaXMubWRlID0gbmV3IEVhc3lNREUoe1xuICAgICAgICAgICAgZWxlbWVudDogdGFnLmZpbmQoXCIuYmxvY2tweS1lZGl0b3ItbWFya2Rvd25cIilbMF0sXG4gICAgICAgICAgICBhdXRvRG93bmxvYWRGb250QXdlc29tZTogZmFsc2UsXG4gICAgICAgICAgICBmb3JjZVN5bmM6IHRydWUsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IFwiNTAwcHhcIixcbiAgICAgICAgICAgIC8vIFRPRE86IGltYWdlVXBsb2FkRnVuY3Rpb25cbiAgICAgICAgICAgIHJlbmRlcmluZ0NvbmZpZzoge1xuICAgICAgICAgICAgICAgIGNvZGVTeW50YXhIaWdobGlnaHRpbmc6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxuICAgICAgICAgICAgdGFiU2l6ZTogNCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBlbnRlcihuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKSB7XG4gICAgICAgIHN1cGVyLmVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKHRoaXMuZmlsZS5oYW5kbGUoKSk7XG4gICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgcmVsZXZhbnQgRmlsZVxuICAgICAgICB0aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24gPSB0aGlzLmZpbGUuaGFuZGxlLnN1YnNjcmliZSh0aGlzLnVwZGF0ZUVkaXRvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gTm90aWZ5IHJlbGV2YW50IGZpbGUgb2YgY2hhbmdlcyB0byBCTVxuICAgICAgICB0aGlzLmN1cnJlbnRMaXN0ZW5lciA9IHRoaXMudXBkYXRlSGFuZGxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubWRlLmNvZGVtaXJyb3Iub24oXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgICAgICBpZiAob2xkRWRpdG9yICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBzbyB0aGF0IGV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWRcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tZGUuY29kZW1pcnJvci5yZWZyZXNoLmJpbmQodGhpcy5tZGUuY29kZW1pcnJvciksIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlRWRpdG9yKG5ld0NvbnRlbnRzKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tZGUudmFsdWUobmV3Q29udGVudHMpO1xuICAgICAgICAgICAgdGhpcy5tZGUuY29kZW1pcnJvci5yZWZyZXNoKCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVIYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpbGUuaGFuZGxlKHRoaXMubWRlLnZhbHVlKCkpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXJcbiAgICAgICAgdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tZGUuY29kZW1pcnJvci5vZmYoXCJjaGFuZ2VcIiwgdGhpcy5jdXJyZW50TGlzdGVuZXIpO1xuICAgICAgICBzdXBlci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IE1hcmtkb3duRWRpdG9yID0ge1xuICAgIG5hbWU6IFwiTWFya2Rvd25cIixcbiAgICBleHRlbnNpb25zOiBbXCIubWRcIl0sXG4gICAgY29uc3RydWN0b3I6IE1hcmtkb3duRWRpdG9yVmlldyxcbiAgICB0ZW1wbGF0ZTogTUFSS0RPV05fRURJVE9SX0hUTUxcbn07IiwiLyoqXG4gKiBFZGl0b3JzIGFyZSBpbmZlcnJlZCBmcm9tIEZpbGVuYW1lcy5cbiAqXG4gKiBUaGUgZWRpdG9yIGlzIGJhc2VkIG9uIHRoZSBleHRlbnNpb246XG4gKiAgLmJsb2NrcHk6IFNwZWNpYWwgZWRpdG9yICh3aWxsIGJlIGNob3NlbiBieSBmaWxlbmFtZSlcbiAqICAucHk6IFB5dGhvbiBFZGl0b3JcbiAqICAubWQ6IE1hcmtkb3duIEVkaXRvclxuICogIC50eHQ6IFRleHQgRWRpdG9yIChhbHNvIHVzZWQgZm9yIG90aGVyIHR5cGVzKVxuICogIC5wZW1sOiBQRU1MIEVkaXRvclxuICogIC5wbmcsIC5naWYsIC5qcGVnLCAuanBnLCAuYm1wOiBJbWFnZSBFZGl0b3JcbiAqICAuanNvbjogSlNPTiBFZGl0b3JcbiAqICAueWFtbDogWUFNTCBFZGl0b3JcbiAqL1xuXG5pbXBvcnQge1B5dGhvbkVkaXRvcn0gZnJvbSBcIi4vZWRpdG9yL3B5dGhvblwiO1xuaW1wb3J0IHtUZXh0RWRpdG9yfSBmcm9tIFwiLi9lZGl0b3IvdGV4dFwiO1xuaW1wb3J0IHtBc3NpZ25tZW50U2V0dGluZ3N9IGZyb20gXCIuL2VkaXRvci9hc3NpZ25tZW50X3NldHRpbmdzXCI7XG5pbXBvcnQge1RhZ3NFZGl0b3J9IGZyb20gXCIuL2VkaXRvci90YWdzXCI7XG5pbXBvcnQge01hcmtkb3duRWRpdG9yfSBmcm9tIFwiLi9lZGl0b3IvbWFya2Rvd25cIjtcblxuLyoqXG4gKiBUaGUgZGlmZmVyZW50IHBvc3NpYmxlIGVkaXRvcnMgYXZhaWxhYmxlXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgbGV0IEVkaXRvcnNFbnVtID0ge1xuICAgIFNVQk1JU1NJT046IFwic3VibWlzc2lvblwiLFxuICAgIEFTU0lHTk1FTlQ6IFwiYXNzaWdubWVudFwiLFxuICAgIElOU1RSVUNUSU9OUzogXCJpbnN0cnVjdGlvbnNcIixcbiAgICBPTl9SVU46IFwib25fcnVuXCIsXG4gICAgT05fQ0hBTkdFOiBcIm9uX2NoYW5nZVwiLFxuICAgIE9OX0VWQUw6IFwib25fZXZhbFwiLFxuICAgIFNUQVJUSU5HX0NPREU6IFwic3RhcnRpbmdfY29kZVwiLFxuICAgIFNBTVBMRV9TVUJNSVNTSU9OUzogXCJzYW1wbGVfc3VibWlzc2lvbnNcIixcbiAgICBJTlNUUlVDVE9SX0ZJTEU6IFwiaW5zdHJ1Y3Rvcl9maWxlXCJcbn07XG5cbmNvbnN0IFNQRUNJQUxfTkFNRVNQQUNFUyA9IFtcIiFcIiwgXCJeXCIsIFwiP1wiLCBcIiRcIl07XG5cbmNvbnN0IEFWQUlMQUJMRV9FRElUT1JTID0gW1xuICAgIFRleHRFZGl0b3IsIFB5dGhvbkVkaXRvciwgQXNzaWdubWVudFNldHRpbmdzLCBUYWdzRWRpdG9yLCBNYXJrZG93bkVkaXRvclxuXTtcblxuZXhwb3J0IGNvbnN0IEVESVRPUlNfSFRNTCA9IEFWQUlMQUJMRV9FRElUT1JTLm1hcChlZGl0b3IgPT5cbiAgICBgXG48ZGl2IGNsYXNzPVwiY29sLW1kLTEyIGJsb2NrcHktcGFuZWwgYmxvY2tweS1lZGl0b3JcIj5cbiAgICA8ZGl2IGRhdGEtYmluZD1cInZpc2libGU6IHVpLmVkaXRvcnMudmlldygpLm5hbWUgPT09ICcke2VkaXRvci5uYW1lfSdcIj5cbiAgICAke2VkaXRvci50ZW1wbGF0ZX0gICAgXG4gICAgPC9kaXY+XG48L2Rpdj5cbmBcbiAgICAvKlxuICAgIGBcbjwhLS0ga28gaWY6IHVpLmVkaXRvcnMudmlldygpLm5hbWUgPT09ICcke2VkaXRvci5uYW1lfScgLS0+XG4ke2VkaXRvci50ZW1wbGF0ZX1cbjwhLS0gL2tvIC0tPmAqL1xuKS5qb2luKFwiXFxuXCIpO1xuXG5leHBvcnQgY2xhc3MgRWRpdG9ycyB7XG4gICAgY29uc3RydWN0b3IobWFpbiwgdGFnKSB7XG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRfID0gW107XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uc18gPSB7fTtcbiAgICAgICAgdGhpcy5ieU5hbWVfID0ge307XG4gICAgICAgIEFWQUlMQUJMRV9FRElUT1JTLmZvckVhY2goZWRpdG9yID0+IHRoaXMucmVnaXN0ZXJFZGl0b3IoZWRpdG9yKSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmZpbGVuYW1lLnN1YnNjcmliZSh0aGlzLmNoYW5nZUVkaXRvciwgdGhpcyk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFZGl0b3IoZGF0YSkge1xuICAgICAgICBsZXQgZXh0ZW5zaW9ucyA9IGRhdGEuZXh0ZW5zaW9ucztcbiAgICAgICAgbGV0IGluc3RhbmNlID0gbmV3IGRhdGEuY29uc3RydWN0b3IodGhpcy5tYWluLCB0aGlzLnRhZyk7XG4gICAgICAgIGluc3RhbmNlLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZF8ucHVzaChpbnN0YW5jZSk7XG4gICAgICAgIHRoaXMuYnlOYW1lX1tkYXRhLm5hbWUudG9Mb3dlckNhc2UoKV0gPSBpbnN0YW5jZTtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgZXh0ZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5leHRlbnNpb25zX1tleHRlbnNpb25zW2ldXSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYnlOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnlOYW1lX1tuYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgIH1cblxuICAgIGNoYW5nZUVkaXRvcihuZXdGaWxlbmFtZSkge1xuICAgICAgICBsZXQgb2xkRWRpdG9yID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBsZXQgbmV3RWRpdG9yID0gdGhpcy5nZXRFZGl0b3IobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIGlmIChvbGRFZGl0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG9sZEVkaXRvci5leGl0KG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IsIG5ld0VkaXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV3RWRpdG9yO1xuICAgICAgICB0aGlzLmN1cnJlbnQuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlRmlsZW5hbWUocGF0aCkge1xuICAgICAgICBsZXQgc3BhY2UgPSBwYXRoLmNoYXJBdCgwKTtcbiAgICAgICAgaWYgKFNQRUNJQUxfTkFNRVNQQUNFUy5pbmRleE9mKHNwYWNlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnN1YnN0cigxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNwYWNlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmFtZSA9IHBhdGguc3Vic3RyKDAsIHBhdGgubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICAgICAgbGV0IHR5cGUgPSBwYXRoLnN1YnN0cihwYXRoLmxhc3RJbmRleE9mKFwiLlwiKSk7XG4gICAgICAgIHJldHVybiB7XCJzcGFjZVwiOiBzcGFjZSwgXCJuYW1lXCI6IG5hbWUsIFwidHlwZVwiOiB0eXBlfTtcbiAgICB9XG5cbiAgICBnZXRFZGl0b3IocGF0aCkge1xuICAgICAgICBsZXQge3NwYWNlLCBuYW1lLCB0eXBlfSA9IEVkaXRvcnMucGFyc2VGaWxlbmFtZShwYXRoKTtcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiLmJsb2NrcHlcIiAmJiBwYXRoIGluIHRoaXMuZXh0ZW5zaW9uc18pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuc2lvbnNfW3BhdGhdO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgaW4gdGhpcy5leHRlbnNpb25zXykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uc19bdHlwZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlcmVkX1swXTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7QWJzdHJhY3RFZGl0b3J9IGZyb20gXCIuL2Fic3RyYWN0X2VkaXRvclwiO1xuaW1wb3J0IHtEaXNwbGF5TW9kZXN9IGZyb20gXCIuL3B5dGhvblwiO1xuXG5jb25zdCBBU1NJR05NRU5UX1NFVFRJTkdTID0gW1xuICAgIFtcInRvb2xib3hcIiwgXCJ0b29sYm94XCIsIFwibm9ybWFsXCIsIFwidG9vbGJveFwiLCBcIldoaWNoIHZlcnNpb24gb2YgdGhlIHRvb2xib3ggdG8gcHJlc2VudCB0byB0aGUgdXNlci5cIl0sXG4gICAgW1wicGFzc2NvZGVcIiwgXCJwYXNzY29kZVwiLCBcIlwiLCBcInN0cmluZ1wiLCBcIkEgc3RyaW5nIHRoYXQgdGhlIHVzZXIgbXVzdCBlbnRlciB0byBhY2Nlc3MgdGhlIHByb2JsZW0uIElmIGJsYW5rLCB0aGVuIG5vIHBhc3Njb2RlIGlzIHByb21wdGVkLlwiXSxcbiAgICAvL1tcInRvb2xib3hMZXZlbFwiLCBcInRvb2xib3hfbGV2ZWxcIiwgXCJub3JtYWxcIiwgXCJ0b29sYm94XCIsIFwiSU5DT01QTEVURTogV2hhdCBsZXZlbCBvZiB0b29sYm94IHRvIHByZXNlbnQgdG8gdGhlIHVzZXIgKGhpZGluZyBhbmQgc2hvd2luZyBjYXRlZ29yaWVzKS5cIl0sXG4gICAgW1wic3RhcnRWaWV3XCIsIFwic3RhcnRfdmlld1wiLCBEaXNwbGF5TW9kZXMuU1BMSVQsIERpc3BsYXlNb2RlcywgXCJUaGUgUHl0aG9uIGVkaXRvciBtb2RlIHRvIHN0YXJ0IGluIHdoZW4gdGhlIHN0dWRlbnQgc3RhcnRzIHRoZSBwcm9ibGVtLlwiXSxcbiAgICBbXCJkYXRhc2V0c1wiLCBcImRhdGFzZXRzXCIsIFwiXCIsIFwic3RyaW5nXCIsIFwiVGhlIGN1cnJlbnQgbGlzdCBvZiBkYXRhc2V0cyBhdmFpbGFibGUgb24gbG9hZCBhcyBhIGNvbW1hLXNlcGFyYXRlZCBzdHJpbmcuXCJdLFxuICAgIFtcImRpc2FibGVUaW1lb3V0XCIsIFwiZGlzYWJsZV90aW1lb3V0XCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHN0dWRlbnRzIGNvZGUgaXMgYWxsb3dlZCB0byBydW4gd2l0aG91dCB0aW1lb3V0cyAocG90ZW50aWFsbHkgYWxsb3dpbmcgaW5maW5pdGUgbG9vcHMpLlwiXSxcbiAgICBbXCJpc1BhcnNvbnNcIiwgXCJpc19wYXJzb25zXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoaXMgaXMgYSBwYXJzb24ncyBzdHlsZSBxdWVzdGlvbiAoanVtYmxlZCkuXCJdLFxuICAgIFtcImRpc2FibGVGZWVkYmFja1wiLCBcImRpc2FibGVfZmVlZGJhY2tcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gbm8gaW5zdHJ1Y3RvciBzY3JpcHRzIGFyZSBydW4gKGUuZy4sIG9uX3J1biBhbmQgb25fZXZhbCkuXCJdLFxuICAgIFtcImRpc2FibGVJbnN0cnVjdG9yUnVuXCIsIFwiZGlzYWJsZV9pbnN0cnVjdG9yX3J1blwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgaW5zdHJ1Y3RvciBvbl9ydW4gd2lsbCBub3QgYXV0b21hdGljYWxseSBydW4gdGhlIHN0dWRlbnRzJyBjb2RlLiBUaGlzIHN0aWxsIHJ1bnMgdGhlIHN0dWRlbnRzJyBjb2RlLlwiXSxcbiAgICBbXCJkaXNhYmxlU3R1ZGVudFJ1blwiLCBcImRpc2FibGVfc3R1ZGVudF9ydW5cIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHJ1biBidXR0b24gbm8gbG9uZ2VyIHJ1biB0aGUgc3R1ZGVudHMnIGNvZGUuIFRoaXMgc3RpbGwgcnVucyB0aGUgaW5zdHJ1Y3RvcidzIGZlZWRiYWNrIG9uX3J1biBzY3JpcHQuXCJdLFxuICAgIFtcImRpc2FibGVUaWZhXCIsIFwiZGlzYWJsZV90aWZhXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIGRvIG5vdCBhdXRvbWF0aWNhbGx5IHJ1biBUaWZhICh3aGljaCBjYW4gYmUgc2xvdykuXCJdLFxuICAgIFtcImRpc2FibGVUcmFjZVwiLCBcImRpc2FibGVfdHJhY2VcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnRzIGNvZGUgd2lsbCBub3QgaGF2ZSBpdHMgZXhlY3V0aW9uIHRyYWNlZCAobm8gdmFyaWFibGVzIHJlY29yZGVkLCBubyBjb3ZlcmFnZSB0cmFja2VkKS5cIl0sXG4gICAgW1wiZGlzYWJsZUVkaXRcIiwgXCJkaXNhYmxlX2VkaXRcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnRzJyBmaWxlIHdpbGwgbm90IGJlIGVkaXRhYmxlLlwiXSxcbiAgICBbXCJlbmFibGVJbWFnZXNcIiwgXCJjYW5faW1hZ2VcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdXNlcnMgY2FuIGNvcHkvcGFzdGUgaW1hZ2VzIGRpcmVjdGx5IGludG8gdGhlIHRleHQgZWRpdG9yLlwiXSxcbiAgICBbXCJlbmFibGVCbG9ja3NcIiwgXCJjYW5fYmxvY2tzXCIsIHRydWUsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnQgY2FuIGVkaXQgdGhlIGJsb2NrIGludGVyZmFjZSAoaWYgbm90LCB0aGVuIGl0IGlzIHZpc2libGUgYnV0IG5vdCBlZGl0YWJsZSkuXCJdLFxuICAgIFtcImNhbkNsb3NlXCIsIFwiY2FuX2Nsb3NlXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHRoZSBzdHVkZW50IHNob3VsZCBtYXJrIHRoZWlyIHN1Ym1pc3Npb24gY2xvc2VkIHdoZW4gdGhleSBhcmUgZG9uZS4gVGhlcmUgaXMgbm8gd2F5IHRvIGZvcmNlIGEgc3R1ZGVudCB0byBkbyBzby4gVW5saWtlIFJldmlld2VkLCB0aGlzIHN0aWxsIHN1Ym1pdHMgdGhlIGNvcnJlY3RuZXNzLlwiXSxcbiAgICBbXCJvbmx5SW50ZXJhY3RpdmVcIiwgXCJvbmx5X2ludGVyYWN0aXZlXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGUgZWRpdG9ycyBhcmUgaGlkZGVuLCB0aGUgcHJvZ3JhbSBpcyBhdXRvbWF0aWNhbGx5IHJ1biwgYW5kIHRoZW4gdGhlIGNvbnNvbGUgZW50ZXJzIEV2YWwgbW9kZSAoaW50ZXJhY3RpdmUpLlwiXSxcbiAgICBbXCJvbmx5VXBsb2Fkc1wiLCBcIm9ubHlfdXBsb2Fkc1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgc3R1ZGVudHMnIGZpbGUgd2lsbCBub3QgYmUgZGlyZWN0bHkgZWRpdGFibGUgKHRoZXkgd2lsbCBoYXZlIHRvIHVwbG9hZCBzdWJtaXNzaW9ucykuXCJdLFxuICAgIC8vIFdoYXQgbWVudXMvZmVlZGJhY2sgdG8gc2hvdyBhbmQgaGlkZVxuICAgIFtcImhpZGVTdWJtaXNzaW9uXCIsIFwiaGlkZV9zdWJtaXNzaW9uXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHN0dWRlbnRzIHdpbGwgbm90IGJlIGFibGUgdG8gc2VlIHRoZWlyIHN1Ym1pc3Npb24ncyBjb2RlIG9yIGhpc3Rvcnkgb24gQ2FudmFzLlwiXSxcbiAgICBbXCJoaWRlRmlsZXNcIiwgXCJoaWRlX2ZpbGVzXCIsIHRydWUsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gc3R1ZGVudHMgd2lsbCBub3Qgc2VlIHRoZSBWaWV3IEZpbGVzIHRvb2xiYXIuXCJdLFxuICAgIFtcImhpZGVRdWV1ZWRJbnB1dHNcIiwgXCJoaWRlX3F1ZXVlZF9pbnB1dHNcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIHN0dWRlbnRzIGNhbm5vdCBhY2Nlc3MgdGhlIHF1ZXVlZCBpbnB1dHMgYm94IChtYWtlcyByZXBlYXRlZCBkZWJ1Z2dpbmcgZWFzaWVyIGZvciB0aGUgaW5wdXQgZnVuY3Rpb24pLlwiXSxcbiAgICBbXCJoaWRlRWRpdG9yc1wiLCBcImhpZGVfZWRpdG9yc1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiBhbGwgb2YgdGhlIGVkaXRvcnMgYXJlIGhpZGRlbi5cIl0sXG4gICAgW1wiaGlkZU1pZGRsZVBhbmVsXCIsIFwiaGlkZV9taWRkbGVfcGFuZWxcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdGhlIGNvbnNvbGUgYW5kIGZlZWRiYWNrIGFyZWFzIGlzIGhpZGRlbi5cIl0sXG4gICAgW1wiaGlkZUFsbFwiLCBcImhpZGVfYWxsXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJTkNPTVBMRVRFOiBJZiBjaGVja2VkLCB0aGVuIHRoZSBlbnRpcmUgaW50ZXJmYWNlIGlzIGhpZGRlbi5cIl0sXG4gICAgW1wiaGlkZUV2YWx1YXRlXCIsIFwiaGlkZV9ldmFsdWF0ZVwiLCBmYWxzZSwgXCJib29sXCIsIFwiSWYgY2hlY2tlZCwgdGhlbiB0aGUgRXZhbHVhdGUgYnV0dG9uIGlzIG5vdCBzaG93biBvbiB0aGUgY29uc29sZS5cIl0sXG4gICAgW1wiaGlkZUltcG9ydERhdGFzZXRzQnV0dG9uXCIsIFwiaGlkZV9pbXBvcnRfZGF0YXNldHNfYnV0dG9uXCIsIGZhbHNlLCBcImJvb2xcIiwgXCJJZiBjaGVja2VkLCB0aGVuIHN0dWRlbnRzIGNhbm5vdCBzZWUgdGhlIGltcG9ydCBkYXRhc2V0cyBidXR0b24uXCJdLFxuICAgIC8vIFRPRE86IEZpeCB0aGlzIG9uZSB0byBiZSBzZXR0YWJsZVxuICAgIFtcImhpZGVJbXBvcnRTdGF0ZW1lbnRzXCIsIFwiaGlkZV9pbXBvcnRfc3RhdGVtZW50c1wiLCBmYWxzZSwgXCJib29sXCIsIFwiSU5DT01QTEVURTogSWYgY2hlY2tlZCwgY2VydGFpbiBraW5kcyBvZiBpbXBvcnQgc3RhdGVtZW50cyAobWF0cGxvdGxpYiwgdHVydGxlLCBkYXRhc2V0cykgYXJlIG5vdCBzaG93biBpbiB0aGUgYmxvY2sgaW50ZXJmYWNlLlwiXSxcbiAgICBbXCJoaWRlQ292ZXJhZ2VCdXR0b25cIiwgXCJoaWRlX2NvdmVyYWdlX2J1dHRvblwiLCBmYWxzZSwgXCJib29sXCIsIFwiSU5DT01QTEVURTogSWYgY2hlY2tlZCwgdGhlIGNvdmVyYWdlIGJ1dHRvbiBpcyBub3Qgc2hvd24uXCJdLFxuICAgIFtcInNhdmVUdXJ0bGVPdXRwdXRcIiwgXCJzYXZlX3R1cnRsZV9vdXRwdXRcIiwgZmFsc2UsIFwiYm9vbFwiLCBcIklmIGNoZWNrZWQsIHRoZW4gdHVydGxlIG91dHB1dCBpcyBzYXZlZCB3aGVuZXZlciB0aGUgcHJvZ3JhbSB1c2VzIGl0LlwiXSxcbl07XG5cbmZ1bmN0aW9uIGdldERvY3VtZW50YXRpb24obmFtZSkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IEFTU0lHTk1FTlRfU0VUVElOR1MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEFTU0lHTk1FTlRfU0VUVElOR1NbaV1bMF0gPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBBU1NJR05NRU5UX1NFVFRJTkdTW2ldWzRdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcIkRvY3VtZW50YXRpb24gbm90IGZvdW5kIGZvciBmaWVsZFwiO1xufVxuXG5mdW5jdGlvbiBtYWtlU3RhcnRWaWV3VGFiKG5hbWUsIGljb24sIG1vZGUpIHtcbiAgICByZXR1cm4gYDxsYWJlbCBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYmxvY2tweS1tb2RlLXNldC1ibG9ja3NcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczoge2FjdGl2ZTogYXNzaWdubWVudC5zZXR0aW5ncy5zdGFydFZpZXcoKSA9PT0gJyR7bW9kZX0nfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBhc3NpZ25tZW50LnNldHRpbmdzLnN0YXJ0Vmlldy5iaW5kKCRkYXRhLCAnJHttb2RlfScpXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS0ke2ljb259Jz48L3NwYW4+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJibG9ja3B5LXN0YXJ0LXZpZXctc2V0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgY2hlY2tlZD4gJHtuYW1lfVxuICAgICAgICAgICAgPC9sYWJlbD5gO1xufVxuXG5jb25zdCBBU1NJR05NRU5UX1NFVFRJTkdTX0JPT0xFQU5fQ09NUE9ORU5UU19IVE1MID0gQVNTSUdOTUVOVF9TRVRUSU5HU1xuICAgIC8vIE9ubHkgaGFuZGxlIHRoZSBzaW1wbGUgYm9vbGVhbnMgdGhpcyB3YXlcbiAgICAuZmlsdGVyKChzZXR0aW5nKSA9PiBzZXR0aW5nWzNdID09PSBcImJvb2xcIilcbiAgICAubWFwKChzZXR0aW5nKSA9PiB7XG4gICAgICAgIGxldCBwcmV0dHlOYW1lID0gc2V0dGluZ1sxXS5zcGxpdChcIl9cIikubWFwKHdvcmQ9Pih3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3dvcmQuc2xpY2UoMSkpKS5qb2luKFwiIFwiKTtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJibG9ja3B5LXNldHRpbmdzLSR7c2V0dGluZ1swXX1cIj4ke3ByZXR0eU5hbWV9PC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy0ke3NldHRpbmdbMF19XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2hlY2tlZDogYXNzaWdubWVudC5zZXR0aW5ncy4ke3NldHRpbmdbMF19XCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtzZXR0aW5nWzRdfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgfSkuam9pbihcIlxcblxcblwiKTtcblxuZXhwb3J0IGNvbnN0IEFTU0lHTk1FTlRfU0VUVElOR1NfRURJVE9SX0hUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cImJsb2NrcHktdmlldy1zZXR0aW5nc1wiPlxuICAgIFxuICAgIDxmb3JtPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMiBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5zZXR0aW5ncy5zYXZlXCI+U2F2ZSBjaGFuZ2VzPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtbmFtZVwiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPk5hbWU6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1uYW1lXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2YWx1ZTogYXNzaWdubWVudC5uYW1lXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgVGhlIHN0dWRlbnQtZmFjaW5nIG5hbWUgb2YgdGhlIGFzc2lnbm1lbnQuIEFzc2lnbm1lbnRzIHdpdGhpbiBhIGdyb3VwIGFyZSBvcmRlcmVkIGFscGhhYmV0aWNhbGx5XG4gICAgICAgICAgICAgICAgICAgIGJ5IHRoZWlyIG5hbWUsIHNvIHlvdSBtYXkgd2FudCB0byB1c2UgYSBuYW1pbmcgc2NoZW1lIGxpa2UgXCIjNDMuNSkgV2hhdGV2ZXJcIi5cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy11cmxcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5VUkw6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy11cmxcIlxuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cInZhbHVlOiBhc3NpZ25tZW50LnVybFwiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIFRoZSBjb3Vyc2UtdW5pcXVlIFVSTCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNvbnNpc3RlbnRseSByZWZlciB0byB0aGlzIGFzc2lnbm1lbnQuIFxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtcHVibGljXCI+UHVibGljOjwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtcHVibGljXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2hlY2tlZDogYXNzaWdubWVudC5wdWJsaWNcIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBJZiBub3QgcHVibGljLCB1c2VycyBvdXRzaWRlIG9mIHRoZSBjb3Vyc2Ugd2lsbCBub3QgYmUgYWJsZSB0byBzZWUgdGhlIGFzc2lnbm1lbnQgaW4gY291cnNlIGxpc3RpbmdzLlxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtaGlkZGVuXCI+SGlkZGVuOjwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2hlY2tlZDogYXNzaWdubWVudC5oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICBJZiBoaWRkZW4sIHN0dWRlbnRzIHdpbGwgbm90IGJlIGFibGUgdG8gc2VlIHRoZWlyIGdyYWRlIHdoaWxlIHdvcmtpbmcgb24gdGhlIGFzc2lnbm1lbnQuXG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1yZXZpZXdlZFwiPlJldmlld2VkOjwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtcmV2aWV3ZWRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjaGVja2VkOiBhc3NpZ25tZW50LnJldmlld2VkXCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS05XCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgSWYgcmV2aWV3ZWQsIHRoZSBhc3NpZ25tZW50IG5lZWQgdG8gYmUgY29tbWVudGVkIHVwb24gYW5kIHJlZ3JhZGVkIGJ5IHRoZSBzdGFmZiBhZnRlciBzdWJtaXNzaW9uLlxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMiB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtcmV2aWV3ZWRcIj5TdGFydGluZyBWaWV3OjwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLXRvZ2dsZSBtci0yXCIgZGF0YS10b2dnbGU9XCJidXR0b25zXCI+XG4gICAgICAgICAgICAgICAgICAgICR7bWFrZVN0YXJ0Vmlld1RhYihcIkJsb2Nrc1wiLCBcInRoLWxhcmdlXCIsIERpc3BsYXlNb2Rlcy5CTE9DSyl9XG4gICAgICAgICAgICAgICAgICAgICR7bWFrZVN0YXJ0Vmlld1RhYihcIlNwbGl0XCIsIFwiY29sdW1uc1wiLCBEaXNwbGF5TW9kZXMuU1BMSVQpfVxuICAgICAgICAgICAgICAgICAgICAke21ha2VTdGFydFZpZXdUYWIoXCJUZXh0XCIsIFwiYWxpZ24tbGVmdFwiLCBEaXNwbGF5TW9kZXMuVEVYVCl9XG4gICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTdcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAke2dldERvY3VtZW50YXRpb24oXCJzdGFydFZpZXdcIil9XG4gICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIHJvd1wiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImJsb2NrcHktc2V0dGluZ3MtaXAtcmFuZ2VzXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+SVAgUmFuZ2VzOjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cImJsb2NrcHktc2V0dGluZ3MtaXAtcmFuZ2VzXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2YWx1ZTogYXNzaWdubWVudC5pcFJhbmdlc1wiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIFByb3ZpZGUgYSBjb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiBJUCBBZGRyZXNzZXMgdGhhdCB3aWxsIGJlIGV4cGxpY2l0bHkgYWxsb3dlZC4gSWYgYmxhbmssXG4gICAgICAgICAgICAgICAgICAgIHRoZW4gYWxsIGFkZHJlc3NlcyBhcmUgYWxsb3dlZC4gSWYgYW4gYWRkcmVzcyBzdGFydHMgd2l0aCA8Y29kZT5ePC9jb2RlPiB0aGVuIGl0IGl0IGlzIGV4cGxpY2l0bHlcbiAgICAgICAgICAgICAgICAgICAgYmxhY2tsaXN0ZWQsIGJ1dCB0aGF0IGNhbiBiZSBvdmVycmlkZGVuIGluIHR1cm4gd2l0aCBhIDxjb2RlPiE8L2NvZGU+LiBBZGRyZXNzZXMgY2FuIGFsc29cbiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZSBhIGJpdCBtYXNrIHRvIGFsbG93IGEgcmFuZ2Ugb2YgYWRkcmVzc2VzLlxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXBhc3Njb2RlXCIgY2xhc3M9XCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbCB0ZXh0LXJpZ2h0XCI+UGFzc2NvZGU6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy1wYXNzY29kZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQuc2V0dGluZ3MucGFzc2NvZGVcIj5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAke2dldERvY3VtZW50YXRpb24oXCJwYXNzY29kZVwiKX1cbiAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgcm93XCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiYmxvY2tweS1zZXR0aW5ncy1kYXRhc2V0c1wiIGNsYXNzPVwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWwgdGV4dC1yaWdodFwiPlByZWxvYWRlZCBEYXRhc2V0czo8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJibG9ja3B5LXNldHRpbmdzLWRhdGFzZXRzXCJcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJ2YWx1ZTogYXNzaWdubWVudC5zZXR0aW5ncy5kYXRhc2V0c1wiPlxuICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICR7Z2V0RG9jdW1lbnRhdGlvbihcImRhdGFzZXRzXCIpfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJibG9ja3B5LXNldHRpbmdzLXRvb2xib3hcIiBjbGFzcz1cImNvbC1zbS0yIGNvbC1mb3JtLWxhYmVsIHRleHQtcmlnaHRcIj5CbG9jayBUb29sYm94OjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEwXCI+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwiYmxvY2tweS1zZXR0aW5ncy10b29sYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwidmFsdWU6IGFzc2lnbm1lbnQuc2V0dGluZ3MudG9vbGJveFwiPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJub3JtYWxcIj5Ob3JtYWwgVG9vbGJveDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjdFwiPkNUQFZUIFRvb2xib3g8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY3QyXCI+Q1RAVlQgVG9vbGJveCBWMjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtaW5pbWFsXCI+TWluaW1hbCBTZXQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZnVsbFwiPkFsbCBCbG9ja3M8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAke2dldERvY3VtZW50YXRpb24oXCJ0b29sYm94XCIpfVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICAke0FTU0lHTk1FTlRfU0VUVElOR1NfQk9PTEVBTl9DT01QT05FTlRTX0hUTUx9XG4gICAgPC9mb3JtPlxuICAgIFxuICAgIDwvZGl2PlxuYDtcblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVBc3NpZ25tZW50U2V0dGluZ3MobW9kZWwpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB7fTtcbiAgICBBU1NJR05NRU5UX1NFVFRJTkdTLmZvckVhY2goc2V0dGluZyA9PiB7XG4gICAgICAgIGxldCBjbGllbnROYW1lID0gc2V0dGluZ1swXSwgc2VydmVyTmFtZSA9IHNldHRpbmdbMV0sIGRlZmF1bHRWYWx1ZSA9IHNldHRpbmdbMl07XG4gICAgICAgIGxldCB2YWx1ZSA9IG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3NbY2xpZW50TmFtZV0oKTtcbiAgICAgICAgLy8gT25seSBzdG9yZSB0aGlzIHNldHRpbmcgaWYgaXRzIGRpZmZlcmVudCBmcm9tIHRoZSBkZWZhdWx0XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICBzZXR0aW5nc1tzZXJ2ZXJOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRBc3NpZ25tZW50U2V0dGluZ3MobW9kZWwsIHNldHRpbmdzKSB7XG4gICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgIHNldHRpbmdzID0gSlNPTi5wYXJzZShzZXR0aW5ncyk7XG4gICAgICAgIEFTU0lHTk1FTlRfU0VUVElOR1MuZm9yRWFjaChzZXR0aW5nID0+IHtcbiAgICAgICAgICAgIGxldCBjbGllbnROYW1lID0gc2V0dGluZ1swXSwgc2VydmVyTmFtZSA9IHNldHRpbmdbMV07XG4gICAgICAgICAgICBpZiAoc2VydmVyTmFtZSBpbiBzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIG1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3NbY2xpZW50TmFtZV0oc2V0dGluZ3Nbc2VydmVyTmFtZV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzW2NsaWVudE5hbWVdKHNldHRpbmdbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2V0dGluZ3Muc3RhcnRfdmlldykge1xuICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5weXRob25Nb2RlKHNldHRpbmdzLnN0YXJ0X3ZpZXcpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUFzc2lnbm1lbnRTZXR0aW5nc01vZGVsKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB7fTtcbiAgICBBU1NJR05NRU5UX1NFVFRJTkdTLmZvckVhY2goc2V0dGluZyA9PiB7XG4gICAgICAgIGxldCBjbGllbnROYW1lID0gc2V0dGluZ1swXSwgc2VydmVyTmFtZSA9IHNldHRpbmdbMV0sIGRlZmF1bHRWYWx1ZSA9IHNldHRpbmdbMl0sXG4gICAgICAgICAgICBmaWVsZFR5cGUgPSBzZXR0aW5nWzNdO1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQuc2V0dGluZ3MuXCIrc2VydmVyTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0dGluZ3NbY2xpZW50TmFtZV0gPSBrby5vYnNlcnZhYmxlKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY29uZmlnVmFsdWUgPSBjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5zZXR0aW5ncy5cIitzZXJ2ZXJOYW1lXTtcbiAgICAgICAgICAgIGlmIChmaWVsZFR5cGUgPT09IFwiYm9vbFwiKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnVmFsdWUgPSBjb25maWdWYWx1ZS50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzW2NsaWVudE5hbWVdID0ga28ub2JzZXJ2YWJsZShjb25maWdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBzZXR0aW5ncztcbn1cblxuY2xhc3MgQXNzaWdubWVudFNldHRpbmdzVmlldyBleHRlbmRzIEFic3RyYWN0RWRpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgdGFnKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGVudGVyKG5ld0ZpbGVuYW1lLCBvbGRFZGl0b3IpIHtcbiAgICAgICAgc3VwZXIuZW50ZXIobmV3RmlsZW5hbWUsIG9sZEVkaXRvcik7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsZSk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgLy9UT0RPOiB0aGlzLnVwZGF0ZUVkaXRvcih0aGlzLmZpbGUuaGFuZGxlKCkpO1xuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHJlbGV2YW50IEZpbGVcbiAgICAgICAgLy8gdGhpcy5jdXJyZW50U3Vic2NyaXB0aW9uID0gdGhpcy5maWxlLmhhbmRsZS5zdWJzY3JpYmUodGhpcy51cGRhdGVFZGl0b3IuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIE5vdGlmeSByZWxldmFudCBmaWxlIG9mIGNoYW5nZXMgdG8gQk1cbiAgICAgICAgdGhpcy5jdXJyZW50TGlzdGVuZXIgPSB0aGlzLnVwZGF0ZUhhbmRsZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vVE9ETzogdGhpcy5jb2RlTWlycm9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFZGl0b3IobmV3Q29udGVudHMpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9ICF0aGlzLmRpcnR5O1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAvLyBUT0RPOiBEbyB1cGRhdGVcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSAhdGhpcy5kaXJ0eTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgLy90aGlzLmZpbGUuaGFuZGxlKHRoaXMuY29kZU1pcnJvci52YWx1ZSgpKTtcbiAgICAgICAgICAgIC8vIFRPRE86IFVwZGF0ZVxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yLCBuZXdFZGl0b3IpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXJcbiAgICAgICAgLy90aGlzLmN1cnJlbnRTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAvLyBUT0RPOiB1cGRhdGVcbiAgICAgICAgLy90aGlzLmNvZGVNaXJyb3Iub2ZmKFwiY2hhbmdlXCIsIHRoaXMuY3VycmVudExpc3RlbmVyKTtcbiAgICAgICAgc3VwZXIuZXhpdChuZXdGaWxlbmFtZSwgb2xkRWRpdG9yKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBBc3NpZ25tZW50U2V0dGluZ3MgPSB7XG4gICAgbmFtZTogXCJBc3NpZ25tZW50IFNldHRpbmdzXCIsXG4gICAgZXh0ZW5zaW9uczogW1wiIWFzc2lnbm1lbnRfc2V0dGluZ3MuYmxvY2tweVwiXSxcbiAgICBjb25zdHJ1Y3RvcjogQXNzaWdubWVudFNldHRpbmdzVmlldyxcbiAgICB0ZW1wbGF0ZTogQVNTSUdOTUVOVF9TRVRUSU5HU19FRElUT1JfSFRNTFxufTsiLCJleHBvcnQgY29uc3QgVFJBQ0VfSFRNTCA9IGBcblxuPGRpdiBjbGFzcz1cImJsb2NrcHktdHJhY2UgY29sLW1kLTYgYmxvY2tweS1wYW5lbFwiXG4gICAgICAgICAgICByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIlRyYWNlXCI+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+XG4gICAgICAgIDxzdHJvbmc+VHJhY2U6IDwvc3Ryb25nPlxuICAgICAgICBcbiAgICAgICAgPCEtLSBGZWVkYmFjay9UcmFjZSBWaXNpYmlsaXR5IENvbnRyb2wgLS0+XG4gICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICAgIGNsYXNzPSdidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBmbG9hdC1yaWdodCBibG9ja3B5LWhpZGUtdHJhY2UnXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnNlY29uZFJvdy5hZHZhbmNlU3RhdGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZXllJz48L3NwYW4+IEhpZGUgVHJhY2VcbiAgICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAgbWItMyBibG9ja3B5LXRyYWNlLWNvbnRyb2xzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tb3V0bGluZS1zZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnRyYWNlLmZpcnN0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1zdGVwLWJhY2t3YXJkJz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSdcbiAgICAgICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkudHJhY2UuYmFja3dhcmRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWJhY2t3YXJkJz48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPlN0ZXA6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPSd0ZXh0OiBleGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwJz48L3NwYW4+XG4gICAgICAgICAgICAgICAgLyA8c3BhbiBkYXRhLWJpbmQ9J3RleHQ6IGV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwJz48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYXBwZW5kXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tb3V0bGluZS1zZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLnRyYWNlLmZvcndhcmRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWZvcndhcmQnPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5J1xuICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS50cmFjZS5sYXN0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2ZhcyBmYS1zdGVwLWZvcndhcmQnPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1iaW5kPSd0ZXh0OiB1aS50cmFjZS5saW5lJz48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDx0YWJsZSBjbGFzcz0ndGFibGUgdGFibGUtc20gdGFibGUtc3RyaXBlZCB0YWJsZS1ib3JkZXJlZCB0YWJsZS1ob3Zlcic+XG4gICAgICAgIDxjYXB0aW9uPkN1cnJlbnQgdmFyaWFibGVzIGF0IHRoaXMgc3RlcDwvY2FwdGlvbj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+VHlwZTwvdGg+PHRoPlZhbHVlPC90aD48L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHkgZGF0YS1iaW5kPVwiZm9yZWFjaDogdWkudHJhY2UuZGF0YSgpLnByb3BlcnRpZXNcIj5cbiAgICAgICAgICAgIDx0ciBkYXRhLWJpbmQ9XCJ2aXNpYmxlOiBuYW1lICE9ICdfX2ZpbGVfXycgJiYgbmFtZSAhPSAnX19wYXRoX18nXCI+XG4gICAgICAgICAgICAgICAgPHRkIGRhdGEtYmluZD1cInRleHQ6IG5hbWVcIj48L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWJpbmQ9XCJ0ZXh0OiB0eXBlXCI+PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxjb2RlIGRhdGEtYmluZD1cInRleHQ6IHZhbHVlXCI+PC9jb2RlPlxuICAgICAgICAgICAgICAgICAgICA8IS0tIGtvIGlmOiB0eXBlID09IFwiTGlzdFwiIC0tPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIlwiIGRhdGEtYmluZD1cImNsaWNrOiAvLyRyb290LnZpZXdFeGFjdFZhbHVlKHR5cGUsIGV4YWN0X3ZhbHVlKVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0nZ2x5cGhpY29uIGdseXBoaWNvbi1uZXctd2luZG93Jz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPCEtLSAva28gLS0+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGJvZHk+XG4gICAgPC90YWJsZT5cbiAgICBcbjwvZGl2PlxuYDtcblxuZXhwb3J0IGNsYXNzIEJsb2NrUHlUcmFjZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICAgICAgdGhpcy5JR05PUkVEX0dMT0JBTFMgPSBbXCJfX25hbWVfX1wiLCBcIl9fZG9jX19cIiwgXCJfX3BhY2thZ2VfX1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzbWV0aG9kXCIsIFwicHJvcGVydHlcIiwgXCJzdGF0aWNtZXRob2RcIl07XG5cbiAgICAgICAgLy8gdGhpcy50cmFjZS5jbGljayh0aGlzLmJ1aWxkVHJhY2VUYWJsZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25zdW1lIGEgc2V0IG9mIHZhcmlhYmxlcyB0cmFjZWQgZnJvbSB0aGUgZXhlY3V0aW9uIGFuZCBwYXJzZSBvdXQgYW55XG4gICAgICogZ2xvYmFsIHZhcmlhYmxlcyBhbmQgbW9kdWxlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZXMgLSBhIG1hcHBpbmcgb2YgdmFyaWFibGUgbmFtZXMgdG8gdGhlaXIgU2t1cHQgdmFsdWUuXG4gICAgICovXG4gICAgcGFyc2VHbG9iYWxzKHZhcmlhYmxlcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBtb2R1bGVzID0gW107XG4gICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkudHJhY2VFeGVjdXRpb24oKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gdmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdmFyaWFibGVzW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5JR05PUkVEX0dMT0JBTFMuaW5kZXhPZihwcm9wZXJ0eSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcHJvcGVydHkucmVwbGFjZShcIl8kcnckXCIsIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIl8kcm4kXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gQmxvY2tQeVRyYWNlLnBhcnNlVmFsdWUocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSB7XCJuYW1lXCI6IHByb3BlcnR5LCBcInR5cGVcIjogXCJVbmtub3duXCIsIFwidmFsdWVcIjogdmFsdWUudG9TdHJpbmcoKX07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gU2suYnVpbHRpbi5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXMucHVzaCh2YWx1ZS4kZC5fX25hbWVfXy52KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1wicHJvcGVydGllc1wiOiByZXN1bHQsIFwibW9kdWxlc1wiOiBtb2R1bGVzfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIFNrdWxwdCB2YWx1ZSBpbnRvIGEgbW9yZSBlYXNpbHkgcHJpbnRhYmxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSAtIHRoZSBza3VscHQgdmFsdWVcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2VWYWx1ZShwcm9wZXJ0eSwgdmFsdWUsIGZ1bGxMZW5ndGgpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlVua25vd25cIixcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiVW5kZWZpbmVkXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh2YWx1ZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLmZ1bmM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZS5mdW5jX2NvZGUuY29fdmFybmFtZXMgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgQXJndW1lbnRzOiBcIit2YWx1ZS5mdW5jX2NvZGUuY29fdmFybmFtZXMuam9pbihcIiwgXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBObyBhcmd1bWVudHNcIilcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLm1vZHVsZTogcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uc3RyOlxuICAgICAgICAgICAgICAgIGlmIChmdWxsTGVuZ3RoIHx8IHZhbHVlLnYubGVuZ3RoIDw9IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiU3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiU3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiW1wiK3ZhbHVlLnNxJGxlbmd0aCgpK1wiIGNoYXJhY3RlcnMgbm90IHNob3duXVwiXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTay5idWlsdGluLm5vbmU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIk5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIk5vbmVcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uYm9vbDpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQm9vbGVhblwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4ubm1iZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImludFwiID09PSB2YWx1ZS5za1R5cGUgPyBcIkludGVnZXJcIjogXCJGbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uaW50XzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiSW50ZWdlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4uZmxvYXRfOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJGbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlLiRyKCkudlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFNrLmJ1aWx0aW4udHVwbGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlR1cGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5saXN0OlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52Lmxlbmd0aCA8PSAyMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJleGFjdF92YWx1ZVwiOiB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiTGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIlsuLi4gXCIrdmFsdWUudi5sZW5ndGgrXCIgZWxlbWVudHMgLi4uXVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJleGFjdF92YWx1ZVwiOiB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU2suYnVpbHRpbi5kaWN0OlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJEaWN0aW9uYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XCJuYW1lXCI6IHByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogdmFsdWUgJSAxID09PSAwID8gXCJJbnRlZ2VyXCIgOiBcIkZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTdHJpbmc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1wibmFtZVwiOiBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQm9vbGVhblwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6ICh2YWx1ZSA/IFwiVHJ1ZVwiOiBcIkZhbHNlXCIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcIm5hbWVcIjogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiB2YWx1ZS50cCRuYW1lID09PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHZhbHVlLnRwJG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWUuJHIgPT09IHVuZGVmaW5lZCA/IHZhbHVlIDogdmFsdWUuJHIoKS52XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFRPRE86IHZpZXdFeGFjdFZhbHVlIiwiaW1wb3J0IHtzbHVnfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuLy8gVE9ETzogZWRpdG9yLmJtLmJsb2NrRWRpdG9yLmV4dHJhVG9vbHNbXVxuXG5leHBvcnQgbGV0IF9JTVBPUlRFRF9EQVRBU0VUUyA9IHt9O1xuZXhwb3J0IGxldCBfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMgPSB7fTtcblxuLyoqXG4gKiBUaGlzIGlzIGEgdmVyeSBzaW1wbGlzdGljIGhlbHBlciBmdW5jdGlvbiB0aGF0IHdpbGwgdHJhbnNmb3JtXG4gKiBhIGdpdmVuIGJ1dHRvbiBpbnRvIGEgXCJMb2FkZWRcIiBzdGF0ZSAoZGlzYWJsZWQsIHByZXNzZWQgc3RhdGUsIGV0Yy4pLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJ0biAtIEFuIEhUTUwgZWxlbWVudCB0byBjaGFuZ2UgdGhlIHRleHQgb2YuXG4gKi9cbmxldCBzZXRCdXR0b25Mb2FkZWQgPSBmdW5jdGlvbiAoYnRuKSB7XG4gICAgYnRuLmFkZENsYXNzKFwiYWN0aXZlXCIpXG4gICAgICAgIC5hZGRDbGFzcyhcImJ0bi1zdWNjZXNzXCIpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImJ0bi1wcmltYXJ5XCIpXG4gICAgICAgIC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSlcbiAgICAgICAgLnRleHQoXCJMb2FkZWRcIilcbiAgICAgICAgLmF0dHIoXCJhcmlhLXByZXNzZWRcIiwgXCJ0cnVlXCIpO1xufTtcblxuXG4vKipcbiAqIE1vZHVsZSB0aGF0IGNvbm5lY3RzIHRvIHRoZSBDT1JHSVMgZGF0YXNldHMgYW5kIG1hbmFnZXMgaW50ZXJhY3Rpb25zXG4gKiB3aXRoIHRoZW0uIFRoaXMgaW5jbHVkZXMgbG9hZGluZyBpbiBkYXRhc2V0cyBhdCBsYXVuY2ggYW5kIG9uLXRoZS1mbHkuXG4gKiBOb3RlIHRoYXQgdGhpcyBoYXMgbm8gcHJlc2VuY2Ugb24gc2NyZWVuLCBzbyBpdCBkb2VzIG5vdCBoYXZlIGEgdGFnLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRoaXMge0Jsb2NrUHlDb3JnaXN9XG4gKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJsb2NrUHlDb3JnaXMobWFpbikge1xuICAgIHRoaXMubWFpbiA9IG1haW47XG5cbiAgICB0aGlzLmxvYWRlZERhdGFzZXRzID0gW107XG4gICAgdGhpcy5sb2FkRGF0YXNldHMoKTtcbn1cblxuQmxvY2tQeUNvcmdpcy5wcm90b3R5cGUubG9hZERhdGFzZXRzID0gZnVuY3Rpb24gKHNpbGVudGx5KSB7XG4gICAgLy8gTG9hZCBpbiBlYWNoIHRoZSBkYXRhc2V0c1xuICAgIGxldCBtb2RlbCA9IHRoaXMubWFpbi5tb2RlbCxcbiAgICAgICAgZWRpdG9yID0gdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLFxuICAgICAgICBzZXJ2ZXIgPSB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXI7XG4gICAgbGV0IGltcG9ydHMgPSBbXTtcbiAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRhdGFzZXRzKCkuc3BsaXQoXCIsXCIpLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgaWYgKG5hbWUgJiYgIShuYW1lIGluIEJsb2NrTWlycm9yQmxvY2tFZGl0b3IuRVhUUkFfVE9PTFMpKSB7XG4gICAgICAgICAgICBpbXBvcnRzLnB1c2guYXBwbHkoaW1wb3J0cywgdGhpcy5pbXBvcnREYXRhc2V0KHNsdWcobmFtZSksIG5hbWUsIHNpbGVudGx5KSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFdoZW4gZGF0YXNldHMgYXJlIGxvYWRlZCwgdXBkYXRlIHRoZSB0b29sYm94LlxuICAgICQud2hlbi5hcHBseSgkLCBpbXBvcnRzKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlRSSUdHRVJFRFwiKTtcbiAgICAgICAgZWRpdG9yLmJtLmZvcmNlQmxvY2tSZWZyZXNoKCk7XG4gICAgICAgIGVkaXRvci5ibS5ibG9ja0VkaXRvci5yZW1ha2VUb29sYm94KCk7XG4gICAgfSkuZmFpbChmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlcnZlci5maW5hbGl6ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogTG9hZHMgdGhlIGRlZmluaXRpb25zIGZvciBhIGRhdGFzZXQgaW50byB0aGUgZW52aXJvbm1lbnQsIGluY2x1ZGluZ1xuICogdGhlIGRhdGFzZXQgKGFzIGEgSlMgZmlsZSksIHRoZSBza3VscHQgYmluZGluZ3MsIGFuZCB0aGUgYmxvY2tseVxuICogYmluZGluZ3MuIFRoaXMgcmVxdWlyZXMgYWNjZXNzIHRvIGEgQ09SR0lTIHNlcnZlciwgYW5kIG9jY3Vyc1xuICogYXN5bmNocm9ub3VzbHkuIFRoZSByZXF1ZXN0cyBhcmUgZmlyZWQgYW5kIHRoZWlyIGRlZmVycmVkIG9iamVjdHNcbiAqIGFyZSByZXR1cm5lZCAtIGNhbGxlcnMgY2FuIHVzZSB0aGlzIGluZm9ybWF0aW9uIHRvIHBlcmZvcm0gYW4gYWN0aW9uXG4gKiBvbiBjb21wbGV0aW9uIG9mIHRoZSBpbXBvcnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNsdWcgLSBUaGUgVVJMIHNhZmUgdmVyc2lvbiBvZiB0aGUgZGF0YXNldCBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIFRoZSB1c2VyLWZyaWVuZGx5IHZlcnNpb24gb2YgdGhlIGRhdGFzZXQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheS48RGVmZXJyZWQ+fSAtIFJldHVybnMgdGhlIGFzeW5jIHJlcXVlc3RzIGFzIGRlZmVycmVkIG9iamVjdHMuXG4gKi9cbkJsb2NrUHlDb3JnaXMucHJvdG90eXBlLmltcG9ydERhdGFzZXQgPSBmdW5jdGlvbiAoc2x1ZywgbmFtZSkge1xuICAgIGxldCB1cmxfcmV0cmlldmFscyA9IFtdO1xuICAgIGlmICh0aGlzLm1haW4ubW9kZWwudWkuc2VydmVyLmlzRW5kcG9pbnRDb25uZWN0ZWQoXCJpbXBvcnREYXRhc2V0c1wiKSkge1xuICAgICAgICBsZXQgcm9vdCA9IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLnVybHMuaW1wb3J0RGF0YXNldHMgKyBcImJsb2NrcHkvXCIgKyBzbHVnICsgXCIvXCIgKyBzbHVnO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5sb2FkaW5nRGF0YXNldHMucHVzaChuYW1lKTtcbiAgICAgICAgLy8gQWN0dWFsbHkgZ2V0IGRhdGFcbiAgICAgICAgbGV0IGdldERhdGFzZXQgPSAkLmdldFNjcmlwdChyb290ICsgXCJfZGF0YXNldC5qc1wiKTtcbiAgICAgICAgLy8gTG9hZCBnZXRDb21wbGV0ZSBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBiZWNhdXNlIGl0cyBiaWcgOihcbiAgICAgICAgbGV0IGdldENvbXBsZXRlID0gJC5nZXRTY3JpcHQocm9vdCArIFwiX2NvbXBsZXRlLmpzXCIpO1xuICAgICAgICBsZXQgZ2V0U2t1bHB0ID0gJC5nZXQocm9vdCArIFwiX3NrdWxwdC5qc1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgU2suYnVpbHRpbkZpbGVzW1wiZmlsZXNcIl1bXCJzcmMvbGliL1wiICsgc2x1ZyArIFwiL19faW5pdF9fLmpzXCJdID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBnZXRCbG9ja2x5ID0gJC5nZXRTY3JpcHQocm9vdCArIFwiX2Jsb2NrbHkuanNcIik7XG4gICAgICAgIC8vIE9uIGNvbXBsZXRpb24sIHVwZGF0ZSBtZW51cy5cbiAgICAgICAgJC53aGVuKGdldERhdGFzZXQsIGdldFNrdWxwdCwgZ2V0QmxvY2tseSkuZG9uZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlZERhdGFzZXRzLnB1c2goc2x1Zyk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0udGV4dFRvQmxvY2tzLmhpZGRlbkltcG9ydHMucHVzaChzbHVnKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS5mb3JjZUJsb2NrUmVmcmVzaCgpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLmJsb2NrRWRpdG9yLnJlbWFrZVRvb2xib3goKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmxvYWRpbmdEYXRhc2V0cy5yZW1vdmUobmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB1cmxfcmV0cmlldmFscy5wdXNoKGdldERhdGFzZXQsIGdldFNrdWxwdCwgZ2V0QmxvY2tseSk7XG4gICAgfVxuICAgIHJldHVybiB1cmxfcmV0cmlldmFscztcbn07XG5cbi8qKlxuICogT3BlbnMgYSBkaWFsb2cgYm94IHRvIHByZXNlbnQgdGhlIHVzZXIgd2l0aCB0aGUgZGF0YXNldHMgYXZhaWxhYmxlXG4gKiB0aHJvdWdoIHRoZSBDT1JHSVMgc2VydmVyLiBUaGlzIHJlcXVpcmVzIGEgY2FsbCwgc28gdGhpcyBtZXRob2RcbiAqIGNvbXBsZXRlcyBhc3luY2hyb25vdXNseS4gVGhlIGRpYWxvZyBpcyBjb21wb3NlZCBvZiBhIHRhYmxlIHdpdGhcbiAqIGJ1dHRvbnMgdG8gbG9hZCB0aGUgZGF0YXNldHMgKE1vcmUgdGhhbiBvbmUgZGF0YXNldCBjYW4gYmUgbG9hZGVkXG4gKiBmcm9tIHdpdGhpbiB0aGUgZGlhbG9nIGF0IGEgdGltZSkuXG4gKi9cbkJsb2NrUHlDb3JnaXMucHJvdG90eXBlLm9wZW5EaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWFpbi5tb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImltcG9ydERhdGFzZXRzXCIpKSB7XG4gICAgICAgIGxldCByb290ID0gdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24udXJscy5pbXBvcnREYXRhc2V0cztcbiAgICAgICAgJC5nZXRKU09OKHJvb3QgKyBcImluZGV4Lmpzb25cIiwgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvLyBNYWtlIHVwIHRoZSBCb2R5XG4gICAgICAgICAgICBsZXQgZGF0YXNldHMgPSBkYXRhLmJsb2NrcHk7XG4gICAgICAgICAgICBsZXQgZG9jdW1lbnRhdGlvbiA9IHJvb3QrXCJibG9ja3B5L2luZGV4Lmh0bWxcIjtcbiAgICAgICAgICAgIGxldCBzdGFydCA9ICQoYDxwPkRvY3VtZW50YXRpb24gaXMgYXZhaWxhYmxlIGF0IDxhIGhyZWY9JyR7ZG9jdW1lbnRhdGlvbn0nIHRhcmdldD1fYmxhbms+dXJsPC9hPjwvcD5gKTtcbiAgICAgICAgICAgIGxldCBib2R5ID0gJChcIjx0YWJsZT48L3RhYmxlPlwiLCB7XCJjbGFzc1wiOiBcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLXNtIHRhYmxlLXN0cmlwZWRcIn0pO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZGF0YXNldHMpLnNvcnQoKS5tYXAoKG5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2x1Z2dlZE5hbWUgPSBzbHVnKGRhdGFzZXRzW25hbWVdLm5hbWUpO1xuICAgICAgICAgICAgICAgIGxldCB0aXRsZU5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgIGxldCBidG4gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGRhdGEtdG9nZ2xlPVwiYnV0dG9uXCIgYXJpYS1wcmVzc2VkPVwiZmFsc2VcIiBhdXRvY29tcGxldGU9XCJvZmZcIj5Mb2FkPC9idXR0b24+Jyk7XG4gICAgICAgICAgICAgICAgbGV0IGltZ1NyYyA9IHJvb3QrXCIuLi9pbWFnZXMvZGF0YXNldHMvXCIrbmFtZStcIi1pY29uLnBuZ1wiO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxvYWRlZERhdGFzZXRzLmluZGV4T2Yoc2x1Z2dlZE5hbWUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QnV0dG9uTG9hZGVkKGJ0bik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsaWNrKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydERhdGFzZXQoc2x1Z2dlZE5hbWUsIFwiRGF0YSAtIFwiICsgZGF0YXNldHNbbmFtZV0udGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnV0dG9uTG9hZGVkKGJ0bik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL2xldCBpbWcgPSBgPGltZyBzcmM9JyR7aW1nU3JjfScgY2xhc3M9XCJjb3JnaXMtaWNvblwiPmA7XG4gICAgICAgICAgICAgICAgJChcIjx0cj48L3RyPlwiKVxuICAgICAgICAgICAgICAgICAgICAvLy5hcHBlbmQoJChcIjx0ZD5cIiArIGltZyArIFwiPC90ZD5cIikpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJChcIjx0ZD5cIiArIGRhdGFzZXRzW25hbWVdLnRpdGxlICsgXCI8L3RkPlwiKSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKFwiPHRkPlwiICsgZGF0YXNldHNbbmFtZV0ub3ZlcnZpZXcgKyBcIjwvdGQ+XCIpKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoXCI8dGQ+PC90ZD5cIikuYXBwZW5kKGJ0bikpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhib2R5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYm9keS5hcHBlbmRUbyhzdGFydCk7XG4gICAgICAgICAgICAvLyBTaG93IHRoZSBhY3R1YWwgZGlhbG9nXG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2cuc2hvdyhcIkltcG9ydCBEYXRhc2V0c1wiLCBzdGFydCwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbiIsImxldCBMT0NBTF9TVE9SQUdFX1JFRjtcbnRyeSB7XG4gICAgTE9DQUxfU1RPUkFHRV9SRUYgPSBsb2NhbFN0b3JhZ2U7XG4gICAgbGV0IG1vZCA9IFwiQkxPQ0tQWV9MT0NBTFNUT1JBR0VfVEVTVFwiO1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnNldEl0ZW0obW9kLCBtb2QpO1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnJlbW92ZUl0ZW0obW9kKTtcbn0gY2F0Y2goZSkge1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGID0ge1xuICAgICAgICBfZGF0YSAgICAgICA6IHt9LFxuICAgICAgICBzZXRJdGVtICAgICA6IGZ1bmN0aW9uKGlkLCB2YWwpIHsgcmV0dXJuIHRoaXMuX2RhdGFbaWRdID0gU3RyaW5nKHZhbCk7IH0sXG4gICAgICAgIGdldEl0ZW0gICAgIDogZnVuY3Rpb24oaWQpIHsgcmV0dXJuIHRoaXMuX2RhdGEuaGFzT3duUHJvcGVydHkoaWQpID8gdGhpcy5fZGF0YVtpZF0gOiB1bmRlZmluZWQ7IH0sXG4gICAgICAgIHJlbW92ZUl0ZW0gIDogZnVuY3Rpb24oaWQpIHsgcmV0dXJuIGRlbGV0ZSB0aGlzLl9kYXRhW2lkXTsgfSxcbiAgICAgICAgY2xlYXIgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2RhdGEgPSB7fTsgfVxuICAgIH07XG59XG5cbi8qKlxuICogSGVscGVyIG9iamVjdCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgTG9jYWxTdG9yYWdlLiBUaGUgTG9jYWxTdG9yYWdlXG4gKiBicm93c2VyIEFQSSBhbGxvd3MgZm9yIG9mZmxpbmUgc3RvcmFnZS4gVGhhdCBBUEkgaXMgdmVyeSB1bnNvcGhpc3RpY2F0ZWQsXG4gKiBhbmQgaXMgZXNzZW50aWFsbHkgYSBsYW1lIGtleS12YWx1ZSBzdG9yZS4gVGhpcyBvYmplY3Qgc2l0cyBvbiB0b3BcbiAqIGFuZCBwcm92aWRlcyBhIG51bWJlciBvZiB1c2VmdWwgdXRpbGl0aWVzLCBpbmNsdWRpbmcgcnVkaW1lbnRhcnljYWNoZVxuICogY2FjaGUgZXhwaXJhdGlvbi5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEB0aGlzIHtMb2NhbFN0b3JhZ2VXcmFwcGVyfVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSAtIEEgbmFtZXNwYWNlIHRvIHVzZSBpbiBncm91cGluZyBhY2Nlc3MgdG8gbG9jYWxzdG9yYWdlLiBUaGlzIGtlZXBzIGFjY2VzcyBjbGVhbiBhbmQgb3JnYW5pemVkLCB3aGlsZSBhbHNvIG1ha2luZyBpdCBwb3NzaWJsZSB0byBoYXZlIG11bHRpcGxlIExvY2FsU3RvcmFnZSBjb25uZWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIExvY2FsU3RvcmFnZVdyYXBwZXIobmFtZXNwYWNlKSB7XG4gICAgdGhpcy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG59XG4vKipcbiAqIEEgbWV0aG9kIGZvciBhZGRpbmcgYSBrZXkvdmFsdWUgcGFpciB0byBMb2NhbFN0b3JhZ2UuXG4gKiBOb3RlIHRoYXQgYm90aCBwYXJhbWV0ZXJzIG11c3QgYmUgc3RyaW5ncyAoSlNPTi5zdHJpbmdpZnkgaXMgeW91ciBmcmllbmQpLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUgbmFtZSBvZiB0aGUga2V5LlxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIC0gVGhlIHZhbHVlLlxuICovXG5Mb2NhbFN0b3JhZ2VXcmFwcGVyLnByb3RvdHlwZS5zZXQgPSAgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnNldEl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3ZhbHVlXCIsIHZhbHVlKTtcbiAgICBMT0NBTF9TVE9SQUdFX1JFRi5zZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl90aW1lc3RhbXBcIiwgJC5ub3coKSk7XG59O1xuXG4vKipcbiAqIEEgbWV0aG9kIGZvciByZW1vdmluZyBhIGtleSBmcm9tIExvY2FsU3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIGtleSB0byByZW1vdmUuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnJlbW92ZUl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3ZhbHVlXCIpO1xuICAgIExPQ0FMX1NUT1JBR0VfUkVGLnJlbW92ZUl0ZW0odGhpcy5uYW1lc3BhY2UrXCJfXCIra2V5K1wiX3RpbWVzdGFtcFwiKTtcbn07XG5cbi8qKlxuICogQSBtZXRob2QgZm9yIHJldHJpZXZpbmcgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUgbmFtZSBvZiB0aGUga2V5IHRvIHJldHJpZXZlIHRoZSB2YWx1ZSBmb3IuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBMT0NBTF9TVE9SQUdFX1JFRi5nZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl92YWx1ZVwiKTtcbn07XG5cbi8qKlxuICogQSBtZXRob2QgZm9yIHJldHJpZXZpbmcgdGhlIHRpbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBuYW1lIG9mIHRoZSBrZXkgdG8gcmV0cmlldmUgdGhlIHRpbWUgZm9yLlxuICogQHJldHVybnMge0ludGVnZXJ9IC0gVGhlIHRpbWVzdGFtcCAobG9jYWwgZXBvY2gpIHdoZW4gdGhlIGtleSB3YXMgbGFzdCBzZXQuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmdldFRpbWUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoTE9DQUxfU1RPUkFHRV9SRUYuZ2V0SXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdGltZXN0YW1wXCIpKTtcbn07XG5cbi8qKlxuICogQSBtZXRob2QgZm9yIHJldHJpZXZpbmcgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICogSWYgdGhlIGtleSBkb2VzIG5vdCBleGlzdCwgdGhlbiB0aGUgZGVmYXVsdCB2YWx1ZSBpcyB1c2VkIGluc3RlYWQuXG4gKiBUaGlzIGRlZmF1bHQgd2lsbCBiZSBzZXQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBuYW1lIG9mIHRoZSBrZXkgdG8gcmV0cmlldmUgdGhlIHZhbHVlIGZvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBkZWZhdWx0VmFsdWUgLSBUaGUgZGVmYXVsdCB2YWx1ZSB0byB1c2UuIE11c3QgYmUgYSBzdHJpbmcuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmdldERlZmF1bHQgPSBmdW5jdGlvbihrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0KGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgdGVzdCBmb3Igd2hldGhlciB0aGUgZ2l2ZW4ga2V5IGlzIGluIExvY2FsU3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIGtleSB0byB0ZXN0IGV4aXN0ZW5jZSBmb3IuXG4gKi9cbkxvY2FsU3RvcmFnZVdyYXBwZXIucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBMT0NBTF9TVE9SQUdFX1JFRi5nZXRJdGVtKHRoaXMubmFtZXNwYWNlK1wiX1wiK2tleStcIl92YWx1ZVwiKSAhPT0gbnVsbDtcbn07XG5cbi8qKlxuICogQSB0ZXN0IGZvciB3aGV0aGVyIHRoZSBzZXJ2ZXIgaGFzIHRoZSBuZXdlciB2ZXJzaW9uLiBUaGlzIGZ1bmN0aW9uXG4gKiBhc3N1bWVzIHRoYXQgdGhlIHNlcnZlciB0cmlwIHRha2VzIGFib3V0IDUgc2Vjb25kcy4gVGhpcyBtZXRob2RcbiAqIGlzIGxhcmdlbHkgZGVwcmVjYXRlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIGtleSB0byBjaGVjay5cbiAqIEBwYXJhbSB7SW50ZWdlcn0gc2VydmVyX3RpbWUgLSBUaGUgc2VydmVyJ3MgdGltZSBhcyBhbiBlcG9jaCAoaW4gbWlsbGlzZWNvbmRzKVxuICovXG5Mb2NhbFN0b3JhZ2VXcmFwcGVyLnByb3RvdHlwZS5pc19uZXcgPSBmdW5jdGlvbihrZXksIHNlcnZlcl90aW1lKSB7XG4gICAgdmFyIHN0b3JlZF90aW1lID0gTE9DQUxfU1RPUkFHRV9SRUYuZ2V0SXRlbSh0aGlzLm5hbWVzcGFjZStcIl9cIitrZXkrXCJfdGltZXN0YW1wXCIpO1xuICAgIHJldHVybiAoc2VydmVyX3RpbWUgPj0gc3RvcmVkX3RpbWUrNTAwMCk7XG59O1xuIiwiLy8gVE9ETzogU2hvdWxkIGRpc2FibGUgYnV0dG9ucyBpZiB3ZSBjYW4ndCBhY3RpdmF0ZSB0aGVtLlxuXG5leHBvcnQgY29uc3QgSElTVE9SWV9UT09MQkFSX0hUTUwgPSBgXG48ZGl2IGNsYXNzPVwiYmxvY2tweS1oaXN0b3J5LXRvb2xiYXIgY29sLW1kLTEyXCIgZGF0YS1iaW5kPVwidmlzaWJsZTogZGlzcGxheS5oaXN0b3J5TW9kZVwiPlxuXG4gICAgPGZvcm0gY2xhc3M9XCJmb3JtLWlubGluZVwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmxvY2tweS1oaXN0b3J5LXN0YXJ0IGJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgbXItMlwiIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLmhpc3Rvcnkuc3RhcnRcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtc3RlcC1iYWNrd2FyZCc+PC9zcGFuPiBTdGFydFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgbXItMlwiIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiY2xpY2s6IHVpLmVkaXRvcnMucHl0aG9uLmhpc3RvcnkucHJldmlvdXNcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtYmFja3dhcmQnPjwvc3Bhbj4gUHJldmlvdXNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxzZWxlY3QgY2xhc3M9XCJibG9ja3B5LWhpc3Rvcnktc2VsZWN0b3IgZm9ybS1jb250cm9sIGN1c3RvbS1zZWxlY3QgbXItMlwiIGFyaWEtdGl0bGU9XCJIaXN0b3J5IFNlbGVjdG9yXCI+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBtci0yXCIgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uaGlzdG9yeS51c2VcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZmlsZS1pbXBvcnQnPjwvc3Bhbj4gVXNlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBtci0yXCIgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBkYXRhLWJpbmQ9XCJjbGljazogdWkuZWRpdG9ycy5weXRob24uaGlzdG9yeS5uZXh0XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWZvcndhcmQnPjwvc3Bhbj4gTmV4dFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnlcIiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5lZGl0b3JzLnB5dGhvbi5oaXN0b3J5Lm1vc3RSZWNlbnRcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtc3RlcC1mb3J3YXJkJz48L3NwYW4+IE1vc3QgUmVjZW50XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZm9ybT5cbjwvZGl2PlxuYDtcblxuLyoqXG4gKiBBbiBvYmplY3QgZm9yIGRpc3BsYXlpbmcgdGhlIHVzZXIncyBjb2RpbmcgbG9ncyAodGhlaXIgaGlzdG9yeSkuXG4gKiBBIGxpZ2h0d2VpZ2h0IGNvbXBvbmVudCwgaXRzIG9ubHkgam9iIGlzIHRvIG9wZW4gYSBkaWFsb2cuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAdGhpcyB7QmxvY2tQeUhpc3Rvcnl9XG4gKiBAcGFyYW0ge09iamVjdH0gbWFpbiAtIFRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2NrUHlIaXN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgICAgIHRoaXMuY3VycmVudElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gW107XG4gICAgICAgIHRoaXMuZWRpdEV2ZW50cyA9IFtdO1xuICAgIH1cblxuICAgIGxvYWQoaGlzdG9yeSkge1xuICAgICAgICB0aGlzLmhpc3RvcnkgPSBoaXN0b3J5O1xuICAgICAgICB0aGlzLmVkaXRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9ICQoXCIuYmxvY2tweS1oaXN0b3J5LXNlbGVjdG9yXCIpLmVtcHR5KCk7XG4gICAgICAgIGxldCBlZGl0SWQgPSAwO1xuICAgICAgICBoaXN0b3J5XG4gICAgICAgICAgICAuZmlsdGVyKChlbnRyeSkgPT4gKFxuICAgICAgICAgICAgICAgICFlbnRyeS5maWxlX3BhdGguc3RhcnRzV2l0aChcIl9pbnN0cnVjdG9yLlwiKSAmJlxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5ldmVudF90eXBlICE9PSBcIkNvbXBpbGVcIiAmJlxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5ldmVudF90eXBlICE9PSBcIkludGVydmVudGlvblwiICYmXG4gICAgICAgICAgICAgICAgICAgICghdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuaGlkZGVuKCkgfHwgZW50cnkuZXZlbnRfdHlwZSAhPT0gXCJYLVN1Ym1pc3Npb24uTE1TXCIpXG4gICAgICAgICAgICApKVxuICAgICAgICAgICAgLmZvckVhY2goKGVudHJ5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBldmVudF90eXBlID0gUkVNQVBfRVZFTlRfVFlQRVNbZW50cnkuZXZlbnRfdHlwZV0gfHwgZW50cnkuZXZlbnRfdHlwZTtcbiAgICAgICAgICAgICAgICBsZXQgZGlzcGxheWVkID0gcHJldHR5UHJpbnREYXRlVGltZShlbnRyeS5jbGllbnRfdGltZXN0YW1wKSArXCIgLSBcIitldmVudF90eXBlO1xuICAgICAgICAgICAgICAgIGxldCBkaXNhYmxlID0gKGVudHJ5LmV2ZW50X3R5cGUgIT09IFwiRmlsZS5FZGl0XCIpO1xuICAgICAgICAgICAgICAgIGxldCBvcHRpb24gPSAkKFwiPG9wdGlvbj48L29wdGlvbj5cIiwge3RleHQ6IGRpc3BsYXllZCwgZGlzYWJsZWQ6IGRpc2FibGV9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0VkaXRFdmVudChlbnRyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmF0dHIoXCJ2YWx1ZVwiLCBlZGl0SWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRFdmVudHMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRJZCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmFwcGVuZChvcHRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IudmFsKE1hdGgubWF4KDAsIGVkaXRJZC0xKSk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IuY2hhbmdlKChldnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1vdmVUb1N0YXJ0KCkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnZhbCgwKTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IoKTtcbiAgICB9XG5cbiAgICBtb3ZlUHJldmlvdXMoKSB7XG4gICAgICAgIGxldCBjdXJyZW50SWQgPSBwYXJzZUludCh0aGlzLnNlbGVjdG9yLnZhbCgpLCAxMCk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IudmFsKE1hdGgubWF4KDAsIGN1cnJlbnRJZC0xKSk7XG4gICAgICAgIHRoaXMudXBkYXRlRWRpdG9yKCk7XG4gICAgfVxuXG4gICAgbW92ZU5leHQoKSB7XG4gICAgICAgIGxldCBjdXJyZW50SWQgPSBwYXJzZUludCh0aGlzLnNlbGVjdG9yLnZhbCgpLCAxMCk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IudmFsKE1hdGgubWluKHRoaXMuZWRpdEV2ZW50cy5sZW5ndGgtMSwgY3VycmVudElkKzEpKTtcbiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IoKTtcbiAgICB9XG5cbiAgICBtb3ZlVG9Nb3N0UmVjZW50KCkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnZhbCh0aGlzLmVkaXRFdmVudHMubGVuZ3RoLTEpO1xuICAgICAgICB0aGlzLnVwZGF0ZUVkaXRvcigpO1xuICAgIH1cblxuICAgIHVwZGF0ZUVkaXRvcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWRpdEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50SWQgPSBwYXJzZUludCh0aGlzLnNlbGVjdG9yLnZhbCgpLCAxMCk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0uc2V0Q29kZSh0aGlzLmVkaXRFdmVudHNbY3VycmVudElkXS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWRpdEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50SWQgPSBwYXJzZUludCh0aGlzLnNlbGVjdG9yLnZhbCgpLCAxMCk7XG4gICAgICAgICAgICBsZXQgY29kZSA9IHRoaXMuZWRpdEV2ZW50c1tjdXJyZW50SWRdLm1lc3NhZ2U7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwudWkuZWRpdG9ycy5weXRob24udHVybk9mZkhpc3RvcnlNb2RlKCk7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuZmlsZS5oYW5kbGUoY29kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0VkaXRFdmVudChlbnRyeSkge1xuICAgICAgICByZXR1cm4gKChlbnRyeS5ldmVudF90eXBlID09PSBcIkZpbGUuRWRpdFwiIHx8XG4gICAgICAgICAgICAgICAgIGVudHJ5LmV2ZW50X3R5cGUgPT09IFwiRmlsZS5DcmVhdGVcIikgJiZcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5maWxlbmFtZSgpID09PSBlbnRyeS5maWxlX3BhdGgpO1xuICAgIH1cblxufVxuXG5jb25zdCBSRU1BUF9FVkVOVF9UWVBFUyA9IHtcbiAgICBcIlNlc3Npb24uU3RhcnRcIjogXCJCZWdhbiBzZXNzaW9uXCIsXG4gICAgXCJYLUlQLkNoYW5nZVwiOiBcIkNoYW5nZWQgSVAgYWRkcmVzc1wiLFxuICAgIFwiRmlsZS5FZGl0XCI6IFwiRWRpdGVkIGNvZGVcIixcbiAgICBcIkZpbGUuQ3JlYXRlXCI6IFwiU3RhcnRlZCBhc3NpZ25tZW50XCIsXG4gICAgXCJSdW4uUHJvZ3JhbVwiOiBcIlJhbiBwcm9ncmFtXCIsXG4gICAgXCJDb21waWxlLkVycm9yXCI6IFwiU3ludGF4IGVycm9yXCIsXG4gICAgXCJYLVN1Ym1pc3Npb24uTE1TXCI6IFwiVXBkYXRlZCBncmFkZVwiXG59O1xuXG5jb25zdCBtb250aE5hbWVzID0gW1xuICAgIFwiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsXG4gICAgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLFxuICAgIFwiQXVnXCIsIFwiU2VwdFwiLCBcIk9jdFwiLFxuICAgIFwiTm92XCIsIFwiRGVjXCJcbl07XG5jb25zdCB3ZWVrRGF5cyA9IFtcbiAgICBcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLFxuICAgIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsXG4gICAgXCJTYXRcIlxuXTtcblxuZnVuY3Rpb24gaXNTYW1lRGF5KGZpcnN0LCBzZWNvbmQpIHtcbiAgICByZXR1cm4gZmlyc3QuZ2V0RGF0ZSgpID09PSBzZWNvbmQuZ2V0RGF0ZSgpICYmXG4gICAgICAgIGZpcnN0LmdldE1vbnRoKCkgPT09IHNlY29uZC5nZXRNb250aCgpICYmXG4gICAgICAgIGZpcnN0LmdldEZ1bGxZZWFyKCkgPT09IHNlY29uZC5nZXRGdWxsWWVhcigpO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBwYXJzZSBhIGRhdGUvdGltZSBzdHJpbmcgYW5kIHJld3JpdGUgaXQgYXMgc29tZXRoaW5nXG4gKiBtb3JlIGh1bWFuIHJlYWRhYmxlLlxuICogQHBhcmFtIHtTdHJpbmd9IHRpbWVTdHJpbmcgLSB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRpbWUgKFwiWVlZWU1NREQgSEhNTVNTXCIpXG4gKiBAcmV0dXJucyB7U3RyaW5nfSAtIEEgaHVtYW4tcmVhZGFibGUgdGltZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHByZXR0eVByaW50RGF0ZVRpbWUodGltZVN0cmluZykge1xuICAgIC8qbGV0IHllYXIgPSB0aW1lU3RyaW5nLnNsaWNlKDAsIDQpLFxuICAgICAgICBtb250aCA9IHBhcnNlSW50KHRpbWVTdHJpbmcuc2xpY2UoNCwgNiksIDEwKS0xLFxuICAgICAgICBkYXkgPSB0aW1lU3RyaW5nLnNsaWNlKDYsIDgpLFxuICAgICAgICBob3VyID0gdGltZVN0cmluZy5zbGljZSg5LCAxMSksXG4gICAgICAgIG1pbnV0ZXMgPSB0aW1lU3RyaW5nLnNsaWNlKDExLCAxMyksXG4gICAgICAgIHNlY29uZHMgPSB0aW1lU3RyaW5nLnNsaWNlKDEzLCAxNSk7Ki9cbiAgICAvLyBUT0RPOiBIYW5kbGUgdGltZXpvbmVzIGNvcnJlY3RseVxuICAgIGlmICh0aW1lU3RyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFwiVW5kZWZpbmVkIFRpbWVcIjtcbiAgICB9XG4gICAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IHBhc3QgPSBuZXcgRGF0ZShwYXJzZUludCh0aW1lU3RyaW5nLCAxMCkpO1xuICAgIGlmIChpc1NhbWVEYXkobm93LCBwYXN0KSkge1xuICAgICAgICByZXR1cm4gXCJUb2RheSBhdCBcIitwYXN0LnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkYXlTdHIgPSB3ZWVrRGF5c1twYXN0LmdldERheSgpXTtcbiAgICAgICAgbGV0IG1vbnRoU3RyID0gbW9udGhOYW1lc1twYXN0LmdldE1vbnRoKCldO1xuICAgICAgICBsZXQgZGF0ZSA9IGRheVN0ciArIFwiLCBcIiArIG1vbnRoU3RyICsgXCIgXCIgKyBwYXN0LmdldERhdGUoKTtcbiAgICAgICAgaWYgKG5vdy5nZXRGdWxsWWVhcigpID09PSBwYXN0LmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlICsgXCIgYXQgXCIrcGFzdC50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlICsgXCIsIFwiK3Bhc3QuZ2V0RnVsbFllYXIoKSArIFwiIGF0IFwiK3Bhc3QudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqXG4gKiBPcGVucyB0aGUgaGlzdG9yeSBkaWFsb2cgYm94LiBUaGlzIHJlcXVpcmVzIGEgdHJpcCB0byB0aGUgc2VydmVyIGFuZFxuICogb2NjdXJzIGFzeW5jaHJvbm91c2x5LiBUaGUgdXNlcnMnIGNvZGUgaXMgc2hvd24gaW4gcHJlZm9ybWF0dGVkIHRleHRcbiAqIHRhZ3MgKG5vIGNvZGUgaGlnaGxpZ2h0aW5nIGN1cnJlbnRseSkgYWxvbmcgd2l0aCB0aGUgdGltZXN0YW1wLlxuICovXG5CbG9ja1B5SGlzdG9yeS5wcm90b3R5cGUub3BlbkRpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkaWFsb2cgPSB0aGlzLm1haW4uY29tcG9uZW50cy5kaWFsb2c7XG4gICAgdmFyIGJvZHkgPSBcIjxwcmU+YSA9IDA8L3ByZT5cIjtcbiAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIuZ2V0SGlzdG9yeShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBib2R5ID0gZGF0YS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChjb21wbGV0ZSwgZWxlbSkgeyBcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZV9zdHIgPSBwcmV0dHlQcmludERhdGVUaW1lKGVsZW0udGltZSk7XG4gICAgICAgICAgICB2YXIgbmV3X2xpbmUgPSBcIjxiPlwiK2NvbXBsZXRlX3N0citcIjwvYj48YnI+PHByZT5cIitlbGVtLmNvZGUrXCI8L3ByZT5cIjtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZStcIlxcblwiK25ld19saW5lO1xuICAgICAgICB9LCBcIlwiKTtcbiAgICAgICAgZGlhbG9nLnNob3coXCJXb3JrIEhpc3RvcnlcIiwgYm9keSwgZnVuY3Rpb24oKSB7fSk7XG4gICAgfSk7XG59OyIsIi8vIFRPRE86IER5YW5taWNhbGx5IHBvcHVsYXRlIGFyaWEtbGFiZWxsZWRieSBpbiB0aGlzIGFuZCBvdGhlciBwbGFjZXNcblxuZXhwb3J0IGxldCBESUFMT0dfSFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LWRpYWxvZyBtb2RhbCBoaWRkZW4nXG4gICAgICAgICByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgIGFyaWEtbGFiZWw9J0RpYWxvZydcbiAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1kaWFsb2cgbW9kYWwtbGcnIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtY29udGVudCcgcm9sZT0ncmVnaW9uJyBhcmlhLWxhYmVsPSdEaWFsb2cgY29udGVudCc+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPSdtb2RhbC10aXRsZSc+RHluYW1pYyBDb250ZW50PC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdjbG9zZScgZGF0YS1kaXNtaXNzPSdtb2RhbCcgYXJpYS1oaWRkZW49J3RydWUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nbW9kYWwtYm9keScgc3R5bGU9J21heC13aWR0aDoxMDAlOyBtYXgtaGVpZ2h0OjQwMHB4Jz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4td2hpdGUgbW9kYWwtY2xvc2UnIGRhdGEtZGlzbWlzcz0nbW9kYWwnPkNsb3NlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1zdWNjZXNzIG1vZGFsLW9rYXknIGRhdGEtZGlzbWlzcz0nbW9kYWwnPk9rYXk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj4gICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5gO1xuXG4vKipcbiAqIEEgdXRpbGl0eSBvYmplY3QgZm9yIHF1aWNrbHkgYW5kIGNvbnZlbmllbnRseSBnZW5lcmF0aW5nIGRpYWxvZyBib3hlcy5cbiAqIFVuZm9ydHVuYXRlbHksIHRoaXMgZG9lc24ndCBkeW5hbWljYWxseSBjcmVhdGUgbmV3IGJveGVzOyBpdCByZXVzZXMgdGhlIHNhbWUgb25lXG4gKiBvdmVyIGFuZCBvdmVyIGFnYWluLiBJdCB0dXJucyBvdXQgZHluYW1pY2FsbHkgZ2VuZXJhdGluZyBuZXcgZGlhbG9nIGJveGVzXG4gKiBpcyBhIHBhaW4hIFNvIHdlIGNhbid0IHN0YWNrIHRoZW0uXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAdGhpcyB7QmxvY2tQeURpYWxvZ31cbiAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFnIC0gVGhlIEhUTUwgb2JqZWN0IHRoaXMgaXMgYXR0YWNoZWQgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCbG9ja1B5RGlhbG9nKG1haW4sIHRhZykge1xuICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgdGhpcy50YWcgPSB0YWc7XG5cbiAgICB0aGlzLnRpdGxlVGFnID0gdGFnLmZpbmQoXCIubW9kYWwtdGl0bGVcIik7XG4gICAgdGhpcy5ib2R5VGFnID0gdGFnLmZpbmQoXCIubW9kYWwtYm9keVwiKTtcbiAgICB0aGlzLmZvb3RlclRhZyA9IHRhZy5maW5kKFwiLm1vZGFsLWZvb3RlclwiKTtcbiAgICB0aGlzLm9rYXlCdXR0b24gPSB0YWcuZmluZChcIi5tb2RhbC1va2F5XCIpO1xuICAgIHRoaXMuY2xvc2VCdXR0b24gPSB0YWcuZmluZChcIi5tb2RhbC1jbG9zZVwiKTtcblxuICAgIHRoaXMueWVzID0gKCkgPT4ge307XG4gICAgdGhpcy5ubyA9ICgpID0+IHt9O1xuICAgIHRoaXMub2theUJ1dHRvbi5jbGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMueWVzKCk7XG4gICAgICAgIHRoaXMudGFnLm1vZGFsKFwiaGlkZVwiKTtcbiAgICB9KTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uLmNsaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy5ubygpO1xuICAgICAgICAvL3RoaXMudGFnLm1vZGFsKFwiaGlkZVwiKTtcbiAgICB9KTtcbn1cblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50YWcubW9kYWwoXCJoaWRlXCIpO1xufTtcblxuLyoqXG4gKiBBIHNpbXBsZSBleHRlcm5hbGx5IGF2YWlsYWJsZSBmdW5jdGlvbiBmb3IgcG9wcGluZyB1cCBhIGRpYWxvZ1xuICogbWVzc2FnZS4gVGhpcyBtZW51IHdpbGwgYmUgZHJhZ2dhYmxlIGJ5IGl0cyB0aXRsZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGl0bGUgLSBUaGUgdGl0bGUgb2YgdGhlIG1lc3NhZ2UgZGlhbG9nLiBDYW4gaGF2ZSBIVE1MLlxuICogQHBhcmFtIHtTdHJpbmd9IGJvZHkgLSBUaGUgYm9keSBvZiB0aGUgbWVzc2FnZSBkaWFsb2cuIENhbiBoYXZlIEhUTUwuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbmNsb3NlIC0gQSBmdW5jdGlvbiB0byBiZSBydW4gd2hlbiB0aGUgdXNlciBjbG9zZXMgdGhlIGRpYWxvZy5cbiAqL1xuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICh0aXRsZSwgYm9keSwgb25jbG9zZSkge1xuICAgIHRoaXMudGl0bGVUYWcuaHRtbCh0aXRsZSk7XG4gICAgdGhpcy5ib2R5VGFnLmh0bWwoYm9keSk7XG4gICAgdGhpcy50YWcubW9kYWwoXCJzaG93XCIpO1xuICAgIHRoaXMub2theUJ1dHRvbi5oaWRlKCk7XG4gICAgdGhpcy50YWcuZHJhZ2dhYmxlKHtcbiAgICAgICAgXCJoYW5kbGVcIjogXCIubW9kYWwtdGl0bGVcIlxuICAgIH0pO1xuXG4gICAgdGhpcy50YWcub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKG9uY2xvc2UgIT09IHVuZGVmaW5lZCAmJiBvbmNsb3NlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvbmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiAodGl0bGUsIGJvZHksIHllcywgbm8sIHllc1RleHQpIHtcbiAgICBpZiAoeWVzVGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHllc1RleHQgPSBcIk9rYXlcIjtcbiAgICB9XG4gICAgdGhpcy5zaG93KHRpdGxlLCBib2R5LCBubyk7XG4gICAgdGhpcy55ZXMgPSB5ZXM7XG4gICAgdGhpcy5ubyA9IG5vO1xuICAgIHRoaXMub2theUJ1dHRvbi5zaG93KCkuaHRtbCh5ZXNUZXh0KTtcbiAgICAvLyBUT0RPOiBhZGQgb2theSBidXR0b24gYW5kIGNhbmNlbCBidXR0b25cbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkFTU0lHTk1FTlRfVkVSU0lPTl9DSEFOR0VEID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY29uZmlybShcIkFzc2lnbm1lbnQgQ2hhbmdlZFwiLCBcIllvdXIgaW5zdHJ1Y3RvciBoYXMgbWFkZSBjaGFuZ2VzIHRvIHRoaXMgYXNzaWdubWVudC4gV291bGQgeW91IGxpa2UgdG8gcmVsb2FkPyBBbGwgeW91ciB3b3JrIGhhcyBiZWVuIHNhdmVkLlwiLCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9MT0FESU5HX0FTU0lHTk1ORU5UID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRoaXMuc2hvdyhcIkVycm9yIExvYWRpbmcgQXNzaWdubWVudFwiLCBgQmxvY2tQeSBlbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBsb2FkaW5nIHRoZSBhc3NpZ25tZW50Ljxicj5cblBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi48YnI+UmVzcG9uc2UgZnJvbSBzZXJ2ZXIgd2FzOjxicj48cHJlPiR7cmVhc29ufTwvcHJlPmAsKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVSUk9SX1NIT1dfU1RVREVOVF9FUlJPUiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHRoaXMuc2hvdyhcIk9yaWdpbmFsIEVycm9yXCIsIGBXaGVuIEkgcmFuIHlvdXIgY29kZSwgSSBlbmNvdW50ZXJlZCBhbiBlcnJvcjpcXG5cXG48ZGl2IGNsYXNzPVwiYmxvY2tweS1kaWFsb2ctc3R1ZGVudC1lcnJvci1tZXNzYWdlXCI+JHtlcnJvcn08L2Rpdj5gKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLlBPU0lUSVZFX0ZFRURCQUNLX0ZVTEwgPSBmdW5jdGlvbiAodGl0bGUsIG1lc3NhZ2UpIHtcbiAgICB0aGlzLnNob3codGl0bGUsIG1lc3NhZ2UpO1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuU0NSRUVOU0hPVF9CTE9DS1MgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVE9ET1xufTtcblxuQmxvY2tQeURpYWxvZy5wcm90b3R5cGUuRVJST1JfVVBEQVRJTkdfU1VCTUlTU0lPTl9TVEFUVVMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgVXBkYXRpbmcgU3VibWlzc2lvbiBTdGF0dXNcIiwgYEJsb2NrUHkgZW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgdXBkYXRpbmcgeW91ciBzdWJtaXNzaW9uIHN0YXR1cy48YnI+XG5QbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uYCk7XG59O1xuXG5CbG9ja1B5RGlhbG9nLnByb3RvdHlwZS5FUlJPUl9MT0FESU5HX0hJU1RPUlkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zaG93KFwiRXJyb3IgTG9hZGluZyBIaXN0b3J5XCIsIGBCbG9ja1B5IGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIGxvYWRpbmcgeW91ciBoaXN0b3J5Ljxicj5cblBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi5gKTtcbn07XG5cbkJsb2NrUHlEaWFsb2cucHJvdG90eXBlLkVESVRfSU5QVVRTID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBpbnB1dFRleHQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkuam9pbihcIlxcblwiKTtcbiAgICBsZXQgY2xlYXJJbnB1dHMgPSB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5jbGVhcklucHV0cygpID8gXCJcIiA6IFwiY2hlY2tlZFwiO1xuICAgIGxldCB5ZXMgPSAoKSA9PiB7XG4gICAgICAgIGxldCBjaGVja2VkID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LXJlbWVtYmVyLWlucHV0c1wiKS5wcm9wKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgbGV0IGlucHV0cyA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1pbnB1dC1saXN0XCIpLnZhbCgpLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5jbGVhcklucHV0cyghY2hlY2tlZCk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoaW5wdXRzKTtcbiAgICB9O1xuICAgIHRoaXMuY29uZmlybShcIkVkaXQgUmVtZW1iZXJlZCBJbnB1dHNcIiwgYFxuXG48ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiYmxvY2tweS1yZW1lbWJlci1pbnB1dHMgZm9ybS1jaGVjay1pbnB1dFwiXG4gICAgICAgIG5hbWU9XCJibG9ja3B5LXJlbWVtYmVyLWlucHV0c1wiICR7Y2xlYXJJbnB1dHN9PlxuPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cImJsb2NrcHktcmVtZW1iZXItaW5wdXRzXCI+UmV1c2UgaW5wdXRzIGZvciBuZXh0IGV4ZWN1dGlvbjwvbGFiZWw+XG48L2Rpdj5cblxuPHRleHRhcmVhIGNsYXNzPVwiYmxvY2tweS1pbnB1dC1saXN0IGZvcm0tY29udHJvbFwiIHJvd3M9XCI0XCI+JHtpbnB1dFRleHR9PC90ZXh0YXJlYT48YnI+XG5FZGl0IHRoZSBpbnB1dHMgYWJvdmUgdG8gc3RvcmUgYW5kIHJldXNlIHRoZW0gYWNyb3NzIG11bHRpcGxlIGV4ZWN1dGlvbnMuXG5FYWNoIGlucHV0IHNob3VsZCBiZSBwdXQgb24gaXRzIG93biBsaW5lLlxuWW91IGRvIG5vdCBuZWVkIHF1b3RlczsgdGhlIHRleHQgd2lsbCBiZSBlbnRlcmVkIGxpdGVyYWxseS5cbiBcbmAsIHllcywgdGhpcy5ubywgXCJTYXZlXCIpO1xuICAgIC8vIFRPRE86IEFsbG93IHVzZXIgdG8gc3BlY2lmeSB0aGUgaW5maW5pdGUgc3RyaW5nIHRvIGtlZXAgZ2l2aW5nIHdoZW4gdGhlIG90aGVycyBydW4gb3V0XG59OyIsImV4cG9ydCBsZXQgRkVFREJBQ0tfSFRNTCA9IGBcblxuPHNwYW4gY2xhc3M9J2Jsb2NrcHktZmxvYXRpbmctZmVlZGJhY2sgdGV4dC1tdXRlZC1sZXNzIHB1bGwtcmlnaHQgcG9zaXRpb24tc3RpY2t5IHN0aWNreS10b3AnXG4gICAgYXJpYS1oaWRkZW49XCJ0cnVlXCIgcm9sZT1cInByZXNlbnRhdGlvblwiIGFyaWEtbGFiZWw9XCJOZXcgRmVlZGJhY2sgQWxlcnRcIj5cbiAgICBOZXcgZmVlZGJhY2sgJnVhcnI7XG48L3NwYW4+XG5cbjxkaXYgY2xhc3M9J2Jsb2NrcHktZmVlZGJhY2sgY29sLW1kLTYgYmxvY2tweS1wYW5lbCdcbiAgICAgICAgICAgIHJvbGU9XCJyZWdpb25cIiBhcmlhLWxhYmVsPVwiRmVlZGJhY2tcIlxuICAgICAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCI+XG5cbiAgICA8IS0tIEZlZWRiYWNrL1RyYWNlIFZpc2liaWxpdHkgQ29udHJvbCAtLT5cbiAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgIGNsYXNzPSdidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBmbG9hdC1yaWdodCdcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNsaWNrOiB1aS5zZWNvbmRSb3cuYWR2YW5jZVN0YXRlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSdmYXMgZmEtZXllJz48L3NwYW4+XG4gICAgICAgIDxzcGFuIGRhdGEtYmluZD1cInRleHQ6IHVpLnNlY29uZFJvdy5zd2l0Y2hMYWJlbFwiPjwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cbiAgICBcbiAgICA8IS0tIFBvc2l0aXZlIEZlZWRiYWNrIFJlZ2lvbiAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiYmxvY2tweS1mZWVkYmFjay1wb3NpdGl2ZSBmbG9hdC1yaWdodFwiPlxuICAgICAgICBcbiAgICBcbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gQWN0dWFsIEZlZWRiYWNrIFJlZ2lvbiAtLT4gICAgXG4gICAgPGRpdj5cbiAgICAgICAgPHN0cm9uZz7lj43ppog6IDwvc3Ryb25nPlxuICAgICAgICA8c3BhbiBjbGFzcz0nYmFkZ2UgYmxvY2tweS1mZWVkYmFjay1jYXRlZ29yeSBmZWVkYmFjay1iYWRnZSdcbiAgICAgICAgICAgIGRhdGEtYmluZD1cImNzczogdWkuZmVlZGJhY2suYmFkZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHVpLmZlZWRiYWNrLmNhdGVnb3J5XCI+RmVlZGJhY2sgS2luZDwvc3Bhbj5cbiAgICAgICAgPHNtYWxsIGRhdGEtYmluZD1cInRleHQ6ICgxMDAqc3VibWlzc2lvbi5zY29yZSgpKSsnJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGRpc3BsYXkuaW5zdHJ1Y3RvcigpICYmIGV4ZWN1dGlvbi5mZWVkYmFjay5sYWJlbCgpXCJcbiAgICAgICAgICAgIGNsYXNzPVwidGV4dC1tdXRlZFwiPjwvc21hbGw+XG4gICAgPC9kaXY+XG4gICAgPGRpdj5cbiAgICAgICAgPHN0cm9uZyBjbGFzcz1cImJsb2NrcHktZmVlZGJhY2stbGFiZWxcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwidGV4dDogZXhlY3V0aW9uLmZlZWRiYWNrLmxhYmVsXCI+PC9zdHJvbmc+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJibG9ja3B5LWZlZWRiYWNrLW1lc3NhZ2VcIlxuICAgICAgICAgICAgZGF0YS1iaW5kPVwiaHRtbDogZXhlY3V0aW9uLmZlZWRiYWNrLm1lc3NhZ2VcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PiAgICAgICAgICAgIFxuYDtcblxuZXhwb3J0IGNsYXNzIEJsb2NrUHlGZWVkYmFjayB7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdGhhdCBtYW5hZ2VzIHRoZSBmZWVkYmFjayBhcmVhLCB3aGVyZSB1c2VycyBhcmUgdG9sZCB0aGUgc3RhdGUgb2YgdGhlaXJcbiAgICAgKiBwcm9ncmFtJ3MgZXhlY3V0aW9uIGFuZCBnaXZlbiBndWlkYW5jZS4gQWxzbyBtYW5hZ2VzIHRoZSBjcmVhdGlvbiBvZiB0aGUgVHJhY2UgVGFibGUuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAdGhpcyB7QmxvY2tQeUZlZWRiYWNrfVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIFRoZSBIVE1MIG9iamVjdCB0aGlzIGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHRhZykge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLnRhZyA9IHRhZztcblxuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktZmVlZGJhY2stY2F0ZWdvcnlcIik7XG4gICAgICAgIHRoaXMubGFiZWwgPSB0aGlzLnRhZy5maW5kKFwiLmJsb2NrcHktZmVlZGJhY2stbGFiZWxcIik7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHRoaXMudGFnLmZpbmQoXCIuYmxvY2tweS1mZWVkYmFjay1tZXNzYWdlXCIpO1xuICAgICAgICB0aGlzLnBvc2l0aXZlID0gdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWZlZWRiYWNrLXBvc2l0aXZlXCIpO1xuXG4gICAgICAgIC8vIFRPRE86IElmIHRoZXkgY2hhbmdlIHRoZSBzdHVkZW50IGV4dHJhIGZpbGVzLCBhbHNvIHVwZGF0ZSB0aGUgZGlydHkgZmxhZ1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlLnN1YnNjcmliZSgoKSA9PiB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5kaXJ0eVN1Ym1pc3Npb24odHJ1ZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgc2NyZWVuICh0YWtlcyAxIHNlY29uZCkgdG8gbWFrZSB0aGUgRmVlZGJhY2sgYXJlYSB2aXNpYmxlLlxuICAgICAqL1xuICAgIHNjcm9sbEludG9WaWV3KCkge1xuICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGhpcy50YWcub2Zmc2V0KCkudG9wXG4gICAgICAgIH0sIDEwMDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBmZWVkYmFjayBhcmVhIGlzIGN1cnJlbnRseSB2aXNpYmxlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXNGZWVkYmFja1Zpc2libGUoKSB7XG4gICAgICAgIGxldCB2aXNpYmlsaXR5QnVmZmVyID0gMTAwO1xuICAgICAgICBsZXQgdG9wT2ZFbGVtZW50ID0gdGhpcy50YWcub2Zmc2V0KCkudG9wO1xuICAgICAgICAvL2xldCBib3R0b21PZkVsZW1lbnQgPSB0aGlzLnRhZy5vZmZzZXQoKS50b3AgKyB0aGlzLnRhZy5vdXRlckhlaWdodCgpO1xuICAgICAgICBsZXQgYm90dG9tT2ZFbGVtZW50ID0gdG9wT2ZFbGVtZW50ICsgdmlzaWJpbGl0eUJ1ZmZlcjtcbiAgICAgICAgbGV0IGJvdHRvbU9mU2NyZWVuID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpO1xuICAgICAgICBsZXQgdG9wT2ZTY3JlZW4gPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG4gICAgICAgIC8vYm90dG9tX29mX2VsZW1lbnQgLT0gNDA7IC8vIFVzZXIgZnJpZW5kbHkgcGFkZGluZ1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHRvcE9mRWxlbWVudCA8IGJvdHRvbU9mU2NyZWVuKSAmJlxuICAgICAgICAgICAgKHRvcE9mU2NyZWVuIDwgYm90dG9tT2ZFbGVtZW50KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbnkgb3V0cHV0IGN1cnJlbnRseSBpbiB0aGUgZmVlZGJhY2sgYXJlYS4gQWxzbyByZXNldHMgdGhlIHByaW50ZXIgYW5kXG4gICAgICogYW55IGhpZ2hsaWdodGVkIGxpbmVzIGluIHRoZSBlZGl0b3IuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5tZXNzYWdlKFwiKuWwsee7qipcIik7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5jYXRlZ29yeShudWxsKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxhYmVsKG51bGwpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwuaGlkZGVuKGZhbHNlKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc1VuY292ZXJlZC5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5jbGVhclBvc2l0aXZlRmVlZGJhY2soKTtcbiAgICB9O1xuXG4gICAgc3RhdGljIGZpbmRGaXJzdEVycm9yTGluZShmZWVkYmFja0RhdGEpIHtcbiAgICAgICAgaWYgKGZlZWRiYWNrRGF0YS5xdWljayRsb29rdXApIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA9IGZlZWRiYWNrRGF0YS5xdWljayRsb29rdXAobmV3IFNrLmJ1aWx0aW4uc3RyKFwibG9jYXRpb25cIikpO1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBsb2NhdGlvbi50cCRnZXRhdHRyKG5ldyBTay5idWlsdGluLnN0cihcImxpbmVcIikpO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb0pzKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLypmb3IgKGxldCBpID0gZmVlZGJhY2tEYXRhLmxlbmd0aC0xOyBpID49IDA7IGktPSAxKSB7XG4gICAgICAgICAgICBpZiAoXCJwb3NpdGlvblwiIGluIGZlZWRiYWNrRGF0YVtpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmZWVkYmFja0RhdGFbaV0ucG9zaXRpb24ubGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDsqL1xuICAgIH07XG5cbiAgICB1cGRhdGVSZWd1bGFyRmVlZGJhY2soKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBtb2RlbCB3aXRoIHRoZXNlIG5ldyBleGVjdXRpb24gcmVzdWx0c1xuICAgICAqIEBwYXJhbSBleGVjdXRpb25SZXN1bHRzXG4gICAgICovXG4gICAgdXBkYXRlRmVlZGJhY2soZXhlY3V0aW9uUmVzdWx0cykge1xuICAgICAgICAvLyBQYXJzZSBvdXQgZGF0YVxuICAgICAgICBsZXQgbWVzc2FnZSA9IFNrLmZmaS5yZW1hcFRvSnMoZXhlY3V0aW9uUmVzdWx0cy5NRVNTQUdFKTtcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLkNBVEVHT1JZKTtcbiAgICAgICAgbGV0IGxhYmVsID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLkxBQkVMKTtcbiAgICAgICAgbGV0IGhpZGUgPSBTay5mZmkucmVtYXBUb0pzKGV4ZWN1dGlvblJlc3VsdHMuSElERSk7XG4gICAgICAgIGxldCBkYXRhID0gZXhlY3V0aW9uUmVzdWx0cy5EQVRBO1xuICAgICAgICBsZXQgcG9zaXRpdmVzID0gU2suZmZpLnJlbWFwVG9KcyhleGVjdXRpb25SZXN1bHRzLlBPU0lUSVZFKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBiYXNlZCBvbiBhc3NpZ25tZW50cycgc2V0dGluZ3NcbiAgICAgICAgbGV0IGhpZGVTY29yZSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmhpZGRlbigpO1xuICAgICAgICBpZiAoaGlkZVNjb3JlICYmIGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBcIm5vIGVycm9yc1wiO1xuICAgICAgICAgICAgbGFiZWwgPSBcIk5vIGVycm9yc1wiO1xuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTm8gZXJyb3JzIHJlcG9ydGVkLlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtYXAgdG8gZXhwZWN0ZWQgQmxvY2tQeSBsYWJlbHNcbiAgICAgICAgaWYgKGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IFwiaW5zdHJ1Y3RvclwiICYmIGxhYmVsLnRvTG93ZXJDYXNlKCkgPT09IFwiZXhwbGFpblwiKSB7XG4gICAgICAgICAgICBsYWJlbCA9IFwiSW5zdHJ1Y3RvciBGZWVkYmFja1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9uJ3QgcHJlc2VudCBhIGxhY2sgb2YgZXJyb3IgYXMgYmVpbmcgaW5jb3JyZWN0XG4gICAgICAgIGlmIChjYXRlZ29yeSA9PT0gXCJJbnN0cnVjdG9yXCIgJiYgbGFiZWwgPT09IFwiTm8gZXJyb3JzXCIpIHtcbiAgICAgICAgICAgIGNhdGVnb3J5ID0gXCJubyBlcnJvcnNcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBtb2RlbCBhY2NvcmRpbmdseVxuICAgICAgICBtZXNzYWdlID0gdGhpcy5tYWluLnV0aWxpdGllcy5tYXJrZG93bihtZXNzYWdlKS5yZXBsYWNlKC88cHJlPlxcbi9nLCBcIjxwcmU+XFxuXFxuXCIpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxhYmVsKGxhYmVsKTtcbiAgICAgICAgLy9sZXQgaGlnaGxpZ2h0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuZmluZChcInByZSBjb2RlXCIpLm1hcCggKGksIGJsb2NrKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cuaGxqcy5oaWdobGlnaHRCbG9jayhibG9jayk7XG4gICAgICAgIH0pO1xuICAgICAgICAvL30sIDQwMCk7XG4gICAgICAgIC8vIFRPRE86IEluc3RlYWQgb2YgdHJhY2tpbmcgc3R1ZGVudCBmaWxlLCBsZXQncyB0cmFjayB0aGUgaW5zdHJ1Y3RvciBmaWxlXG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIkludGVydmVudGlvblwiLCBjYXRlZ29yeSwgbGFiZWwsIG1lc3NhZ2UsIFwiYW5zd2VyLnB5XCIpO1xuXG4gICAgICAgIC8vIENsZWFyIG91dCBhbnkgcHJldmlvdXNseSBoaWdobGlnaHRlZCBsaW5lc1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5weXRob25FZGl0b3IuYm0uY2xlYXJIaWdobGlnaHRlZExpbmVzKCk7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgZXJyb3Igb24gYSBsaW5lIGFuZCByZXBvcnQgdGhhdFxuICAgICAgICBsZXQgbGluZSA9IEJsb2NrUHlGZWVkYmFjay5maW5kRmlyc3RFcnJvckxpbmUoZGF0YSk7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgICBpZiAobGluZSAhPT0gbnVsbCAmJiBsaW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnB1c2gobGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnZlcnQgdGhlIHNldCBvZiB0cmFjZWQgbGluZXNcbiAgICAgICAgbGV0IHN0dWRlbnRSZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudDtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzVW5jb3ZlcmVkLnJlbW92ZUFsbCgpO1xuICAgICAgICBpZiAoc3R1ZGVudFJlcG9ydC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgdW5jb3ZlcmVkTGluZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cy5wYXJzZXIubGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdHVkZW50UmVwb3J0LmxpbmVzLmluZGV4T2YobGluZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuY292ZXJlZExpbmVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubGluZXNVbmNvdmVyZWQodW5jb3ZlcmVkTGluZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPHBvc2l0aXZlcy5sZW5ndGg7IGkrPTEpIHtcbiAgICAgICAgICAgIGxldCBwb3NpdGl2ZURhdGEgPSBwb3NpdGl2ZXNbaV07XG4gICAgICAgICAgICB0aGlzLmFkZFBvc2l0aXZlRmVlZGJhY2socG9zaXRpdmVEYXRhLm1lc3NhZ2UsIFwic3RhclwiLCBcImdyZWVuXCIsICgpID0+IHRoaXMubWFpbi5jb21wb25lbnRzLmRpYWxvZy5QT1NJVElWRV9GRUVEQkFDS19GVUxMKHBvc2l0aXZlRGF0YS50aXRsZSwgcG9zaXRpdmVEYXRhLm1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyUG9zaXRpdmVGZWVkYmFjaygpIHtcbiAgICAgICAgdGhpcy5wb3NpdGl2ZS5lbXB0eSgpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jb250YWluZXIuZmluZChcIi5ibG9ja3B5LXN0dWRlbnQtZXJyb3JcIikuaGlkZSgpO1xuICAgIH1cblxuICAgIGFkZFBvc2l0aXZlRmVlZGJhY2sodGV4dCwgaWNvbiwgY29sb3IsIG9uY2xpY2ssIHRvRW5kKSB7XG4gICAgICAgIGxldCBwb3NpdGl2ZSA9ICQoXCI8c3Bhbj48L3NwYW4+XCIpO1xuICAgICAgICBwb3NpdGl2ZS5hZGRDbGFzcyhcImJsb2NrcHktZmVlZGJhY2stcG9zaXRpdmUtaWNvbiBmYXMgZmEtXCIraWNvbik7XG4gICAgICAgIHBvc2l0aXZlLmNzcyhcImNvbG9yXCIsIGNvbG9yKTtcbiAgICAgICAgcG9zaXRpdmUuYXR0cihcInRpdGxlXCIsIHRleHQpO1xuICAgICAgICBpZiAodG9FbmQpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmUuYXBwZW5kKHBvc2l0aXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmUucHJlcGVuZChwb3NpdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpdmUudG9vbHRpcCh7XCJ0cmlnZ2VyXCI6IFwiaG92ZXJcIiwgXCJjb250YWluZXJcIjogdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uYXR0YWNobWVudFBvaW50fSk7XG4gICAgICAgIGlmIChvbmNsaWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvc2l0aXZlLmNsaWNrKG9uY2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHBvc2l0aXZlLmhvdmVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtRmVlZGJhY2tcIiwgXCJwb3NpdGl2ZVwiLCBcImhvdmVyXCIsIHRleHQsIFwiXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGFueSBhY2N1bXVsYXRlZCBmZWVkYmFja1xuICAgICAqL1xuICAgIHByZXNlbnRGZWVkYmFjayhleGVjdXRpb25SZXN1bHRzKSB7XG4gICAgICAgIHRoaXMudXBkYXRlRmVlZGJhY2soZXhlY3V0aW9uUmVzdWx0cyk7XG5cbiAgICAgICAgLy8gVE9ETzogTG9nZ2luZ1xuICAgICAgICAvL3RoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcImZlZWRiYWNrXCIsIGNhdGVnb3J5K1wifFwiK2xhYmVsLCBtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLm5vdGlmeUZlZWRiYWNrVXBkYXRlKCk7XG4gICAgfTtcblxuICAgIG5vdGlmeUZlZWRiYWNrVXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNGZWVkYmFja1Zpc2libGUoKSkge1xuICAgICAgICAgICAgdGhpcy50YWcuZmluZChcIi5ibG9ja3B5LWZsb2F0aW5nLWZlZWRiYWNrXCIpLnNob3coKS5mYWRlT3V0KDcwMDApO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByZXNlbnRSdW5FcnJvcihlcnJvciwganVzdF9yZXR1cm4pIHtcbiAgICAgICAgaWYgKGp1c3RfcmV0dXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGp1c3RfcmV0dXJuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1lc3NhZ2UsIGxhYmVsLCBjYXRlZ29yeSwgbGluZW5vO1xuICAgICAgICBsYWJlbCA9IGVycm9yLnRwJG5hbWU7XG4gICAgICAgIGNhdGVnb3J5ID0gXCJydW50aW1lXCI7XG4gICAgICAgIG1lc3NhZ2UgPSB0aGlzLmNvbnZlcnRTa3VscHRFcnJvcihlcnJvcik7XG5cbiAgICAgICAgaWYgKGp1c3RfcmV0dXJuKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZlZWRiYWNrTW9kZWwubWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxhYmVsKGxhYmVsKTtcbiAgICAgICAgdGhpcy5mZWVkYmFja01vZGVsLmxpbmVzRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgIGlmIChsaW5lbm8gIT09IHVuZGVmaW5lZCAmJiBsaW5lbm8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tNb2RlbC5saW5lc0Vycm9yLnB1c2gobGluZW5vKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnZlcnRTa3VscHRFcnJvcihlcnJvciwgZmlsZW5hbWVFeGVjdXRlZCkge1xuICAgICAgICBsZXQgbmFtZSA9IGVycm9yLnRwJG5hbWU7XG4gICAgICAgIGxldCBhcmdzID0gU2suZmZpLnJlbWFwVG9KcyhlcnJvci5hcmdzKTtcbiAgICAgICAgbGV0IHRvcCA9IGAke25hbWV9OiAke2FyZ3NbMF19XFxuPGJyPlxcbjxicj5gO1xuICAgICAgICBsZXQgdHJhY2ViYWNrID0gXCJcIjtcbiAgICAgICAgaWYgKGVycm9yLnRyYWNlYmFjayAmJiBlcnJvci50cmFjZWJhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0cmFjZWJhY2sgPSBcIlRyYWNlYmFjazo8YnI+XFxuXCIgKyBlcnJvci50cmFjZWJhY2subWFwKGZyYW1lID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZW5vID0gZnJhbWUubGluZW5vO1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZS5maWxlbmFtZS5zbGljZSgwLCAtMykgPT09IGZpbGVuYW1lRXhlY3V0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZW5vIC09IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cy5pbnN0cnVjdG9yLmxpbmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBmaWxlID0gYEZpbGUgPGNvZGUgY2xhc3M9XCJmaWxlbmFtZVwiPlwiJHtmcmFtZS5maWxlbmFtZX1cIjwvY29kZT4sIGA7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBgb24gbGluZSA8Y29kZSBjbGFzcz1cImxpbmVub1wiPiR7bGluZW5vfTwvY29kZT4sIGA7XG4gICAgICAgICAgICAgICAgbGV0IHNjb3BlID0gKGZyYW1lLnNjb3BlICE9PSBcIjxtb2R1bGU+XCIgJiZcbiAgICAgICAgICAgICAgICBmcmFtZS5zY29wZSAhPT0gdW5kZWZpbmVkKSA/IGBpbiBzY29wZSAke2ZyYW1lLnNjb3BlfWAgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGxldCBzb3VyY2UgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZS5zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBgXFxuPHByZT48Y29kZT4ke2ZyYW1lLnNvdXJjZX08L2NvZGU+PC9wcmU+YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGUgKyBsaW5lICsgc2NvcGUgKyBzb3VyY2U7XG4gICAgICAgICAgICB9KS5qb2luKFwiXFxuPGJyPlwiKTtcbiAgICAgICAgICAgIHRyYWNlYmFjayA9IGAke3RyYWNlYmFja31gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3ArXCJcXG5cIit0cmFjZWJhY2s7XG4gICAgfVxuXG4gICAgcHJlc2VudEludGVybmFsRXJyb3IoZXJyb3IsIGZpbGVuYW1lRXhlY3V0ZWQpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeShcImludGVybmFsXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmxhYmVsKFwiSW50ZXJuYWwgRXJyb3JcIik7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBcIkVycm9yIGluIGluc3RydWN0b3IgZmVlZGJhY2suIFBsZWFzZSBzaG93IHRoZSBmb2xsb3dpbmcgdG8gYW4gaW5zdHJ1Y3Rvcjo8YnI+XFxuXCI7XG4gICAgICAgIG1lc3NhZ2UgKz0gdGhpcy5jb252ZXJ0U2t1bHB0RXJyb3IoZXJyb3IsIGZpbGVuYW1lRXhlY3V0ZWQpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLm1lc3NhZ2UobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5ub3RpZnlGZWVkYmFja1VwZGF0ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7ZW5jb2RlSFRNTH0gZnJvbSBcIi4vdXRpbGl0aWVzXCI7XG5cbi8qKlxuICogRXZhbHVhdGUgYnV0dG9uIEhUTUwgdGVtcGxhdGVcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IFNUQVJUX0VWQUxfSFRNTCA9IGBcbjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tb3V0bGluZSBmbG9hdC1yaWdodCBibG9ja3B5LWJ0bi1ldmFsXCI+XG4gICAgRXZhbHVhdGVcbjwvYnV0dG9uPmA7XG5cbi8qKlxuICogSFRNTCB0ZW1wbGF0ZSBmb3IgYSBuZXcgbGluZSBpbiB0aGUgY29uc29sZS5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IE5FV19DT05TT0xFX0xJTkVfSFRNTCA9IFwiPGRpdj48L2Rpdj5cIjtcblxuLyoqXG4gKiBIVE1MIHRlbXBsYXRlIGZvciB0aGUgZW50aXJlIGNvbnNvbGUgYXJlYVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENPTlNPTEVfSFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPSdjb2wtbWQtNiBibG9ja3B5LXBhbmVsIGJsb2NrcHktY29uc29sZSdcbiAgICAgICAgICByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIkNvbnNvbGVcIlxuICAgICAgICAgIGRhdGEtYmluZD1cImNsYXNzOiB1aS5jb25zb2xlLnNpemVcIj5cbiAgICAgICAgICBcbiAgICAgICAgPCEtLSBGZWVkYmFjay9UcmFjZSBWaXNpYmlsaXR5IENvbnRyb2wgLS0+XG4gICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICAgIGNsYXNzPSdidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBmbG9hdC1yaWdodCBibG9ja3B5LXNob3ctZmVlZGJhY2snXG4gICAgICAgICAgICAgICAgZGF0YS1iaW5kPVwiaGlkZGVuOiB1aS5zZWNvbmRSb3cuaXNDb25zb2xlU2hvd1Zpc2libGUsIGNsaWNrOiB1aS5zZWNvbmRSb3cuYWR2YW5jZVN0YXRlXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZmFzIGZhLWV5ZSc+PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgPHN0cm9uZz7mjqfliLblj7A6PC9zdHJvbmc+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPSdibG9ja3B5LXByaW50ZXIgYmxvY2tweS1wcmludGVyLWRlZmF1bHQnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQWxsIHRoZSBwb3NzaWJsZSB0eXBlcyBmb3IgYSBsaW5lIGluIHRoZSBjb25zb2xlLlxuICogQGVudW1cbiAqL1xuZXhwb3J0IGxldCBDb25zb2xlTGluZVR5cGUgPSB7XG4gICAgVEVYVDogXCJ0ZXh0XCIsXG4gICAgSFRNTDogXCJodG1sXCIsXG4gICAgUExPVDogXCJwbG90XCIsXG4gICAgSU1BR0U6IFwiaW1hZ2VcIixcbiAgICBUVVJUTEU6IFwidHVydGxlXCIsXG4gICAgRVZBTDogXCJldmFsXCIsXG4gICAgU1RBUlRfRVZBTDogXCJzdGFydF9ldmFsXCIsXG4gICAgVkFMVUU6IFwidmFsdWVcIixcbiAgICBJTlBVVDogXCJpbnB1dFwiLFxuICAgIFRFU1RfQ0FTRTogXCJ0ZXN0X2Nhc2VcIlxufTtcblxuLyoqXG4gKiBBYnN0cmFjdCB2ZXJzaW9uIG9mIGEgbGluZSBpbiB0aGUgY29uc29sZS4gQWxsIG90aGVyIGNvbnNvbGUgbGluZXNcbiAqIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcy4gQ3JpdGljYWxseSwgdGhleSBuZWVkIHRvIGltcGxlbWVudCBhIHJlbmRlciBmdW5jdGlvbi5cbiAqL1xuY2xhc3MgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHR5cGUsIGNvbnRlbnQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSBiYWNrIHRvIHRoZSBtYWluIEJsb2NrUHkgaW5zdGFuY2UuXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7QmxvY2tQeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFpbiA9IG1haW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYXRlZ29yaXplcyB3aGF0IGtpbmQgb2YgbGluZSB0aGlzIGlzICh0ZXh0L2h0bWwvcGxvdC9ldGMuKVxuICAgICAgICAgKiBAdHlwZSB7Q29uc29sZUxpbmVUeXBlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhY3R1YWwgZGF0YSBzdG9yZWQgb24gdGhpcyBsaW5lLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1ldGFkYXRhIGFib3V0IHdoZXJlIHRoZSBsaW5lIG9yaWdpbmF0ZWQgZnJvbSBpbiB0aGUgY29kZS5cbiAgICAgICAgICogQHR5cGUge3tmaWxlbmFtZTogc3RyaW5nLCBsaW5lOiBudW1iZXIsIHN0ZXA6IG51bWJlcn19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWdpbiA9IHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiBTay5jdXJyRmlsZW5hbWUsXG4gICAgICAgICAgICBzdGVwOiBtYWluLmNvbXBvbmVudHMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwLFxuICAgICAgICAgICAgbGluZTogbWFpbi5jb21wb25lbnRzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIubGluZVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEhUTUwgY29udGVudCBzdG9yZWQgb24gdGhpcyBsaW5lLCBtZWFudCB0byBiZSByZW5kZXJlZFxuICAgICAgICAgKiB0byB0aGUgdXNlci5cbiAgICAgICAgICogQHR5cGUgeyp8alF1ZXJ5LmZuLmluaXR8alF1ZXJ5fEhUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5odG1sID0gJChcIjxkaXY+PC9kaXY+XCIsIHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogIFwiYmxvY2tweS1wcmludGVyLW91dHB1dFwiLFxuICAgICAgICAgICAgXCJkYXRhLWNvbnRhaW5lclwiOiBtYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uYXR0YWNobWVudFBvaW50LFxuICAgICAgICAgICAgXCJkYXRhLXRvZ2dsZVwiOiBcInRvb2x0aXBcIixcbiAgICAgICAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogXCJhdXRvXCIsXG4gICAgICAgICAgICBcImRhdGEtc3RlcFwiOiB0aGlzLm9yaWdpbi5zdGVwLFxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlN0ZXAgXCIgKyB0aGlzLm9yaWdpbi5zdGVwICsgXCIsIExpbmUgXCIgKyB0aGlzLm9yaWdpbi5saW5lXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyBsaW5lIHNob3VsZCBiZSB2aXNpYmxlXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aXNpYmxlID0gIW1haW4ubW9kZWwuZGlzcGxheS5tdXRlUHJpbnRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFNrdWxwdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGNvbnNvbGUgbGluZSdzIGNvbnRlbnQuXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgdG9Ta3VscHQoKSB7XG4gICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KHRoaXMuY29udGVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoaXMgY29uc29sZSBsaW5lIGJ5IGRlbGV0aW5nIGl0cyBIVE1MIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIGRlbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5odG1sLnJlbW92ZSgpO1xuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVUdXJ0bGUgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG4gICAgLy8gVE9ETzogQ2FwdHVyZSB0dXJ0bGUgY29tbWFuZHMgZm9yIHRyYWNpbmcgcHVycG9zZXNcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5UVVJUTEUpO1xuICAgICAgICB0aGlzLmh0bWwuYWRkQ2xhc3MoXCJibG9ja3B5LWNvbnNvbGUtdHVydGxlLW91dHB1dFwiKTtcbiAgICB9XG5cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgd2hlcmUucHJlcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgLy90aGlzLmh0bWxbMF0uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KTtcbiAgICAgICAgICAgIHZhciB0b3AgPSB0aGlzLmh0bWwucG9zaXRpb24oKS50b3A7XG4gICAgICAgICAgICAvLyQoJ2h0bWwnKS5zY3JvbGxUb3AodG9wKTtcbiAgICAgICAgICAgICQoXCJodG1sXCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgIC8vdGhpcy5odG1sLnRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVJbWFnZSBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluLCBjb250ZW50KSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5JTUFHRSwgY29udGVudCk7XG4gICAgICAgIHRoaXMuaHRtbC5hZGRDbGFzcyhcImJsb2NrcHktY29uc29sZS1pbWFnZS1vdXRwdXRcIik7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLmh0bWwuYXBwZW5kKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICAgICAgICAgIC8vdGhpcy5odG1sLnRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ29uc29sZUxpbmVQbG90IGV4dGVuZHMgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIGNvbnRlbnQpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLlBMT1QsIGNvbnRlbnQpO1xuICAgICAgICB0aGlzLmh0bWwuYWRkQ2xhc3MoXCJibG9ja3B5LWNvbnNvbGUtcGxvdC1vdXRwdXRcIik7XG4gICAgfVxuXG4gICAgcmVuZGVyKHdoZXJlKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHdoZXJlLmFwcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgLy90aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZVRleHQgZXh0ZW5kcyBDb25zb2xlTGluZSB7XG5cbiAgICBhZGRDb250ZW50KGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5jb250ZW50ICsgY29udGVudDtcbiAgICB9XG5cbiAgICByZW5kZXIod2hlcmUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgbGV0IGVuY29kZWRUZXh0ID0gZW5jb2RlSFRNTCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgaWYgKCFlbmNvZGVkVGV4dCB8fCBlbmNvZGVkVGV4dC50cmltKCkubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgICAgICBlbmNvZGVkVGV4dCA9IFwiXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGluZURhdGEgPSAkKFwiPHNhbXA+PC9zYW1wPlwiLCB7IFwiaHRtbFwiOiBlbmNvZGVkVGV4dCB9KTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC5hcHBlbmQobGluZURhdGEpO1xuICAgICAgICAgICAgd2hlcmUuYXBwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICB0aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZVZhbHVlIGV4dGVuZHMgQ29uc29sZUxpbmUge1xuXG4gICAgY29uc3RydWN0b3IobWFpbiwgY29udGVudCkge1xuICAgICAgICBzdXBlcihtYWluLCBDb25zb2xlTGluZVR5cGUuVkFMVUUsIGNvbnRlbnQpO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBsZXQgZW5jb2RlZFRleHQgPSBlbmNvZGVIVE1MKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICBsZXQgbGluZURhdGEgPSAkKFwiPGNvZGU+PC9jb2RlPlwiLCB7IFwiaHRtbFwiOiBlbmNvZGVkVGV4dCB9KTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC5hcHBlbmQobGluZURhdGEpO1xuICAgICAgICAgICAgd2hlcmUuYXBwZW5kKHRoaXMuaHRtbCk7XG4gICAgICAgICAgICB0aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZUlucHV0IGV4dGVuZHMgQ29uc29sZUxpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4sIHByb21wdE1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWFpbiwgQ29uc29sZUxpbmVUeXBlLklOUFVULCBwcm9tcHRNZXNzYWdlKTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIElucHV0IGJveCBmb3IgcmVjZWl2aW5nIGlucHV0KCkgZnJvbSB0aGUgdXNlci5cbiAgICAgKlxuICAgICAqL1xuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICAvLyBQZXJmb3JtIGFueSBuZWNlc3NhcnkgY2xlYW5pbmdcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgLy8gSW5wdXQgZm9ybVxuICAgICAgICAgICAgbGV0IGlucHV0Rm9ybSA9ICQoXCI8aW5wdXQgdHlwZT0ndGV4dCcgLz5cIik7XG4gICAgICAgICAgICAvLyBFbnRlciBidXR0b25cbiAgICAgICAgICAgIGxldCBpbnB1dEJ0biA9ICQoXCI8YnV0dG9uPjwvYnV0dG9uPlwiLCB7XCJodG1sXCI6IFwiRW50ZXJcIn0pO1xuICAgICAgICAgICAgLy8gR3JvdXAgZm9ybSBhbmQgYnV0dG9uXG4gICAgICAgICAgICBsZXQgaW5wdXRHcm91cCA9ICQoXCI8ZGl2PjwvZGl2PlwiLCB7XCJjbGFzc1wiOiBcImJsb2NrcHktY29uc29sZS1pbnB1dFwifSk7XG4gICAgICAgICAgICBpbnB1dEdyb3VwLmFwcGVuZChpbnB1dEZvcm0pO1xuICAgICAgICAgICAgaW5wdXRHcm91cC5hcHBlbmQoaW5wdXRCdG4pO1xuICAgICAgICAgICAgLy8gUHJvbXB0IGJveCwgbmV3IGxpbmUsIGlucHV0IGdyb3VwXG4gICAgICAgICAgICBsZXQgaW5wdXRCb3ggPSAkKFwiPGRpdj48L2Rpdj5cIik7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50ICE9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuY29kZWRUZXh0ID0gZW5jb2RlSFRNTCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGxldCBpbnB1dE1zZyA9ICQoXCI8c2FtcD48L3NhbXA+XCIsICB7XCJodG1sXCI6IGVuY29kZWRUZXh0fSk7XG4gICAgICAgICAgICAgICAgaW5wdXRCb3guYXBwZW5kKGlucHV0TXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0Qm94LmFwcGVuZCgkKFwiPGJyPlwiKSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kKGlucHV0R3JvdXApO1xuICAgICAgICAgICAgLy8gUmVuZGVyXG4gICAgICAgICAgICB0aGlzLmh0bWwuYXBwZW5kKGlucHV0Qm94KTtcbiAgICAgICAgICAgIHdoZXJlLmFwcGVuZCh0aGlzLmh0bWwpO1xuICAgICAgICAgICAgLy8gTWFrZSBpdCBpbnRlcmFjdGl2ZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZUludGVyYWN0aXZlKGlucHV0Rm9ybSwgaW5wdXRCdG4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH07XG5cbiAgICBtYWtlSW50ZXJhY3RpdmUoaW5wdXQsIGJ1dHRvbikge1xuICAgICAgICBsZXQgcmVzb2x2ZU9uQ2xpY2s7XG4gICAgICAgIGxldCBzdWJtaXR0ZWRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVPbkNsaWNrID0gcmVzb2x2ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBpbnB1dEluZGV4ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KCk7XG4gICAgICAgIGxldCBzdWJtaXRGb3JtID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHVzZXJJbnB1dHRlZFZhbHVlID0gaW5wdXQudmFsKCk7XG4gICAgICAgICAgICBTay5xdWV1ZWRJbnB1dC5wdXNoKHVzZXJJbnB1dHRlZFZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleChpbnB1dEluZGV4KzEpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dCgpLnB1c2godXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgcmVzb2x2ZU9uQ2xpY2sodXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgaW5wdXQucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAgICAgYnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaHRtbC50b29sdGlwKCk7XG4gICAgICAgIH07XG4gICAgICAgIGJ1dHRvbi5jbGljayhzdWJtaXRGb3JtKTtcbiAgICAgICAgaW5wdXQua2V5dXAoKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgc3VibWl0Rm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgaWYgKGlucHV0SW5kZXggPCB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgdXNlcklucHV0dGVkVmFsdWUgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KClbaW5wdXRJbmRleF07XG4gICAgICAgICAgICBpbnB1dC52YWwodXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KGlucHV0SW5kZXgrMSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBpbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWwudG9vbHRpcCgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodXNlcklucHV0dGVkVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1Ym1pdHRlZFByb21pc2U7XG4gICAgfVxufVxuXG5jbGFzcyBDb25zb2xlTGluZUV2YWx1YXRlIGV4dGVuZHMgQ29uc29sZUxpbmVJbnB1dCB7XG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICBzdXBlcihtYWluLCBcIkV2YWx1YXRlOlwiKTtcbiAgICB9XG59XG5cbmNsYXNzIENvbnNvbGVMaW5lU3RhcnRFdmFsdWF0ZSBleHRlbmRzIENvbnNvbGVMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihtYWluKSB7XG4gICAgICAgIHN1cGVyKG1haW4sIENvbnNvbGVMaW5lVHlwZS5TVEFSVF9FVkFMKTtcbiAgICAgICAgdGhpcy5odG1sLmFwcGVuZCgkKFNUQVJUX0VWQUxfSFRNTCkpO1xuICAgICAgICB0aGlzLmh0bWwuY2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnVpLmV4ZWN1dGUuZXZhbHVhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcih3aGVyZSkge1xuICAgICAgICB3aGVyZS5hcHBlbmQodGhpcy5odG1sKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbG9ja1B5Q29uc29sZSB7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgZm9yIG1hbmFnaW5nIHRoZSBjb25zb2xlLCB3aXRoIGZlYXR1cmVzIGZvciB0aGluZ3MgbGlrZSBwcmludGluZywgcGxvdHRpbmcsIGV2YWxpbmcsIGlucHV0aW5nLlxuICAgICAqIFRoZSBcInByaW50ZXJcIiBpcyB0aGUgcmVnaW9uIHdoZXJlIHdlIHB1dCB0aGluZ3MsIGFzIG9wcG9zZWQgdG8gdGhlIGNvbnNvbGUgYXMgYSB3aG9sZS5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYWluIC0gVGhlIG1haW4gQmxvY2tQeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIFRoZSBIVE1MIG9iamVjdCB0aGlzIGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIChtYWluLCB0YWcpIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgICAgIHRoaXMucHJpbnRlclRhZyA9IHRhZy5maW5kKFwiLmJsb2NrcHktcHJpbnRlclwiKTtcblxuICAgICAgICB0aGlzLk1JTklNVU1fV0lEVEggPSAyMDA7XG4gICAgICAgIHRoaXMuTUlOSU1VTV9IRUlHSFQgPSAyMDA7XG4gICAgICAgIHRoaXMuREVGQVVMVF9IRUlHSFQgPSB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KCk7IC8vIExldCBDU1MgZGVmaW5lIHRoaXNcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMuREVGQVVMVF9IRUlHSFQpO1xuXG4gICAgICAgIHRoaXMub3V0cHV0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5vdXRwdXQ7XG4gICAgICAgIC8vdGhpcy5pbnB1dCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQ7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIC8vIFRPRE86IElmIHRoZSB1c2VyIG1vZGlmaWVzIGEgZmlsZSwgdGhlbiBtYWtlIHRoZSBjb25zb2xlIGxvb2sgZmFkZWQgYSBsaXR0bGVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN0YXR1cyBvZiB0aGUgcHJpbnRlciwgaW5jbHVkaW5nIHJlbW92aW5nIGFueSB0ZXh0IGluIGl0IGFuZFxuICAgICAqIGZpeGluZyBpdHMgc2l6ZS5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5vdXRwdXQucmVtb3ZlQWxsKCk7XG5cbiAgICAgICAgdGhpcy5saW5lQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmludGVyVGFnLmVtcHR5KCk7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGhhc24ndCBjaGFuZ2VkIHRoZSBjb25zb2xlIHNpemUsIHdlJ2xsIHJlc2V0IGl0XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQoKSA9PT0gdGhpcy5wcmludGVyVGFnLmhlaWdodCgpKSB7XG4gICAgICAgICAgICB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KHRoaXMuREVGQVVMVF9IRUlHSFQpO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR1cnRsZUxpbmUgPSBudWxsO1xuICAgICAgICBTay5UdXJ0bGVHcmFwaGljcyA9IHtcbiAgICAgICAgICAgIHRhcmdldDogdGhpcy5nZXRUdXJ0bGVMaW5lLmJpbmQodGhpcyksXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpLFxuICAgICAgICAgICAgYXNzZXRzOiB0aGlzLmxvYWRBc3NldC5iaW5kKHRoaXMpXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGxvYWRBc3NldChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIGdldFR1cnRsZUxpbmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnR1cnRsZUxpbmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudHVydGxlTGluZSA9IG5ldyBDb25zb2xlTGluZVR1cnRsZSh0aGlzLm1haW4pO1xuICAgICAgICAgICAgdGhpcy50dXJ0bGVMaW5lLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzbid0IGNoYW5nZWQgdGhlIGNvbnNvbGUgc2l6ZSwgd2UnbGwgZG8gc29cbiAgICAgICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5wcmV2aW91c0NvbnNvbGVIZWlnaHQoKSA9PT0gdGhpcy5wcmludGVyVGFnLmhlaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRQcmludGVyRGltZW5zaW9uID0gdGhpcy5wcmludGVyVGFnLndpZHRoKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmludGVyVGFnLmhlaWdodChjdXJyZW50UHJpbnRlckRpbWVuc2lvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkucHJldmlvdXNDb25zb2xlSGVpZ2h0KHRoaXMucHJpbnRlclRhZy5oZWlnaHQoKSk7XG4gICAgICAgICAgICAgICAgU2suVHVydGxlR3JhcGhpY3MuaGVpZ2h0ID0gY3VycmVudFByaW50ZXJEaW1lbnNpb24tNDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHVydGxlTGluZS5odG1sWzBdO1xuICAgIH1cblxuICAgIGZpbmlzaFR1cnRsZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5zYXZlVHVydGxlT3V0cHV0KCkpIHtcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLnR1cnRsZUxpbmUuaHRtbC5maW5kKFwiY2FudmFzXCIpLmxhc3QoKVswXTtcbiAgICAgICAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgbGV0IGRhdGFVcmwgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnNhdmVJbWFnZShcInR1cnRsZV9vdXRwdXRcIiwgZGF0YVVybCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiB0dXJ0bGVzIHNob3VsZCBiZSBiYXNlZCBvbiB0aGUgY3VycmVudCB3aWR0aFxuICAgIG5ld1R1cnRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLk1JTklNVU1fV0lEVEgsIHRoaXMucHJpbnRlclRhZy53aWR0aCgpLTQwKTtcbiAgICB9XG5cbiAgICBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLk1JTklNVU1fSEVJR0hULCB0aGlzLnByaW50ZXJUYWcuaGVpZ2h0KCkrNDApO1xuICAgIH1cblxuICAgIGlzTXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5tdXRlUHJpbnRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgZWFjaCBwcmludGVkIGVsZW1lbnQgaW4gdGhlIHByaW50ZXIgYW5kIG1ha2VzIGl0IGhpZGRlblxuICAgICAqIG9yIHZpc2libGUsIGRlcGVuZGluZyBvbiB3aGF0IHN0ZXAgd2UncmUgb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RlcCAtIFRoZSBjdXJyZW50IHN0ZXAgb2YgdGhlIGV4ZWN1dGVkIHByb2dyYW0gdGhhdCB3ZSdyZSBvbjsgZWFjaCBlbGVtZW50IGluIHRoZSBwcmludGVyIG11c3QgYmUgbWFya2VkIHdpdGggYSBcImRhdGEtc3RlcFwiIHByb3BlcnR5IHRvIHJlc29sdmUgdGhpcy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZSAtIERlcHJlY2F0ZWQsIG5vdCBzdXJlIHdoYXQgdGhpcyBldmVuIGRvZXMuXG4gICAgICovXG4gICAgc3RlcFByaW50ZXIoc3RlcCwgcGFnZSkge1xuICAgICAgICB0aGlzLnByaW50ZXJUYWcuZmluZChcIi5ibG9ja3B5LXByaW50ZXItb3V0cHV0XCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiZGF0YS1zdGVwXCIpIDw9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmludCBhIGxpbmUgdG8gdGhlIG9uLXNjcmVlbiBwcmludGVyLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5lVGV4dCAtIEEgbGluZSBvZiB0ZXh0IHRvIGJlIHByaW50ZWQgb3V0LlxuICAgICAqL1xuICAgIHByaW50KGxpbmVUZXh0KSB7XG4gICAgICAgIC8vIEVtcHR5IHN0cmluZ3MgbWVhbnMgZG8gbm90aGluZy5cbiAgICAgICAgLy8gcHJpbnQoXCJcIiwgZW5kPVwiXCIpXG4gICAgICAgIGlmICghbGluZVRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmx1c2ggPSBmYWxzZTtcbiAgICAgICAgaWYgKGxpbmVUZXh0LmNoYXJBdChsaW5lVGV4dC5sZW5ndGgtMSkgPT09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgIGZsdXNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3BsaXRMaW5lcyA9IGxpbmVUZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICBpZiAodGhpcy5saW5lQnVmZmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVUZXh0KHRoaXMubWFpbiwgQ29uc29sZUxpbmVUeXBlLlRFWFQsIHNwbGl0TGluZXNbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyLmFkZENvbnRlbnQoc3BsaXRMaW5lc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaT0xOyBpIDwgc3BsaXRMaW5lcy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dC5wdXNoKHRoaXMubGluZUJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIucmVuZGVyKHRoaXMucHJpbnRlclRhZyk7XG4gICAgICAgICAgICB0aGlzLmxpbmVCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVUZXh0KHRoaXMubWFpbiwgQ29uc29sZUxpbmVUeXBlLlRFWFQsIHNwbGl0TGluZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbHVzaCkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXQucHVzaCh0aGlzLmxpbmVCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICAgICAgdGhpcy5saW5lQnVmZmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIHBsb3QocGxvdHMpIHtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyID0gbmV3IENvbnNvbGVMaW5lUGxvdCh0aGlzLm1haW4sIHBsb3RzKTtcbiAgICAgICAgdGhpcy5wbG90QnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5wbG90QnVmZmVyO1xuICAgIH1cblxuICAgIHByaW50UElMSW1hZ2UoaW1hZ2VEYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVEVTVFwiLCBpbWFnZURhdGEuaW1hZ2UpO1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyID0gbmV3IENvbnNvbGVMaW5lSW1hZ2UodGhpcy5tYWluLCBpbWFnZURhdGEuaW1hZ2UpO1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZUJ1ZmZlcjtcbiAgICB9XG5cbiAgICBwcmludFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGxldCBwcmludGVkVmFsdWUgPSBuZXcgQ29uc29sZUxpbmVWYWx1ZSh0aGlzLm1haW4sIHZhbHVlKTtcbiAgICAgICAgcHJpbnRlZFZhbHVlLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgICAgICByZXR1cm4gcHJpbnRlZFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJlZ2lzdGVycyBhIFByb21pc2UgZnJvbSB0aGUgSW5wdXQgYm94XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb21wdE1lc3NhZ2UgLSBNZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBpbnB1dChwcm9tcHRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuaW5wdXRCdWZmZXIgPSBuZXcgQ29uc29sZUxpbmVJbnB1dCh0aGlzLm1haW4sIHByb21wdE1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dEJ1ZmZlci5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICB9O1xuXG5cbiAgICBldmFsdWF0ZSgpIHtcbiAgICAgICAgdGhpcy5pbnB1dEJ1ZmZlciA9IG5ldyBDb25zb2xlTGluZUV2YWx1YXRlKHRoaXMubWFpbik7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0QnVmZmVyLnJlbmRlcih0aGlzLnByaW50ZXJUYWcpO1xuICAgIH1cblxuICAgIGJlZ2luRXZhbCgpIHtcbiAgICAgICAgbGV0IHN0YXJ0RXZhbHVhdGlvbiA9IG5ldyBDb25zb2xlTGluZVN0YXJ0RXZhbHVhdGUodGhpcy5tYWluKTtcbiAgICAgICAgcmV0dXJuIHN0YXJ0RXZhbHVhdGlvbi5yZW5kZXIodGhpcy5wcmludGVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmNvbmRpdGlvbmFsbHkgc2Nyb2xsIHRvIHRoZSBib3R0b20gb2YgdGhlIHdpbmRvdy5cbiAgICAgKlxuICAgICAqL1xuICAgIHNjcm9sbFRvQm90dG9tKCkge1xuICAgICAgICB0aGlzLnRhZy5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGhpcy50YWcucHJvcChcInNjcm9sbEhlaWdodFwiKSAtIHRoaXMudGFnLnByb3AoXCJjbGllbnRIZWlnaHRcIilcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9O1xuXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE2X187IiwiZXhwb3J0IHZhciAkYnVpbHRpbm1vZHVsZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbW9kLCBzYW1wbGVXcmFwcGVyO1xuICAgIG1vZCA9IHtfX25hbWVfXzogXCJpbWFnZVwifTtcblxuICAgIGlmICghU2suUElMKSB7XG4gICAgICAgIFNrLlBJTCA9IHthc3NldHM6IHt9fTtcbiAgICB9XG5cbiAgICAvLyBJbnN0YW50UHJvbWlzZSBpcyBhIHdvcmthcm91bmQgdG8gYWxsb3cgdXNhZ2Ugb2YgdGhlIGNsZWFuIHByb21pc2Utc3R5bGVcbiAgICAvLyB0aGVuL2NhdGNoIHN5bnRheCBidXQgdG8gaW5zdGFudGx5IGNhbGwgcmVzb2x2ZSB0aGUgdGhlbi9jYXRjaCBjaGFpbiBzbyB3ZVxuICAgIC8vIGNhbiBhdm9pZCBjcmVhdGluZyBTdXNwZW5zaW9ucyBpbiB1bm5lY2Vzc2FyeSBjYXNlcy4gIFRoaXMgaXMgZGVzaXJhYmxlXG4gICAgLy8gYmVjYXVzZSBTdXNwZW5zaW9ucyBoYXZlIGEgZmFpcmx5IGxhcmdlIG5lZ2F0aXZlIGltcGFjdCBvbiBvdmVyYWxsXG4gICAgLy8gcGVyZm9ybWFuY2UuICBUaGVzZSAnaW5zdGFudCBwcm9taXNlcycgY29tZSBpbnRvIHBsYXkgd2hlbiBhIHRyYWNlcigpXG4gICAgLy8gY2FsbCBpcyBtYWRlIHdpdGggYSB2YWx1ZSBvdGhlciB0aGFuIDEuICBXaGVuIHRyYWNlciBpcyAwIG9yIGdyZWF0ZXIgdGhhbiAxXG4gICAgLy8gLCB3ZSBjYW4gYnlwYXNzIHRoZSBjcmVhdGlvbiBvZiBhIFN1c3BlbnNpb24gYW5kIHByb2NlZWQgdG8gdGhlIG5leHQgbGluZSBvZlxuICAgIC8vIGNvZGUgaW1tZWRpYXRlbHkgaWYgdGhlIGN1cnJlbnQgbGluZSBpcyBub3QgZ29pbmcgdG8gaW52b2x2ZSBhIHNjcmVlblxuICAgIC8vIHVwZGF0ZS4gV2UgZGV0ZXJtaW5lIGlmIGEgcmVhbCBwcm9taXNlIG9yIEluc3RhbnRQcm9taXNlIGlzIG5lY2Vzc2FyeSBieVxuICAgIC8vIGNoZWNraW5nIEZyYW1lTWFuYWdlci53aWxsUmVuZGVyTmV4dCgpXG4gICAgZnVuY3Rpb24gSW5zdGFudFByb21pc2UoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgdGhpcy5sYXN0UmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICB0aGlzLmxhc3RFcnJvciAgPSBlcnI7XG4gICAgfVxuXG4gICAgSW5zdGFudFByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihjYikge1xuICAgICAgICBpZiAodGhpcy5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubGFzdFJlc3VsdCA9IGNiKHRoaXMubGFzdFJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgID0gZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlID8gdGhpcy5sYXN0UmVzdWx0IDogdGhpcztcbiAgICB9O1xuXG4gICAgSW5zdGFudFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24oY2IpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdEVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlc3VsdCA9IGNiKHRoaXMubGFzdEVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RFcnJvciAgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdFJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UgPyB0aGlzLmxhc3RSZXN1bHQgOiB0aGlzO1xuICAgIH07XG5cbiAgICB2YXIgYnVpbGRJbWFnZSA9IGZ1bmN0aW9uKGltYWdlRGF0YSkge1xuXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldEFzc2V0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKFNrLlBJTC5hc3NldHNbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIFNrLlBJTC5hc3NldHNbbmFtZV07XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShTay5QSUwuYXNzZXRzW25hbWVdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgU2suUElMLmFzc2V0c1tuYW1lXSA9IGltZztcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgYXNzZXQ6IFwiICsgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuYW1lKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltZy5zcmMgPSBuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgaW1hZ2UgPSBmdW5jdGlvbigkZ2JsLCAkbG9jKSB7XG4gICAgICAgIC8vIG9wZW4oZmlsZW5hbWUpIG9yIG9wZW4odXJsKVxuICAgICAgICAvLyBzaG93KClcblxuICAgICAgICAkbG9jLl9faW5pdF9fID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbiAoc2VsZiwgZmlsZV9vcl91cmwpIHtcbiAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJfX2luaXRfX1wiLCBhcmd1bWVudHMsIDIsIDIpO1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrVHlwZShcImZpbGVfb3JfdXJsXCIsIFwic3RyaW5nXCIsIFNrLmJ1aWx0aW4uY2hlY2tTdHJpbmcoZmlsZV9vcl91cmwpKTtcbiAgICAgICAgICAgIHNlbGYuZmlsZV9vcl91cmwgPSBmaWxlX29yX3VybDtcbiAgICAgICAgICAgIC8vIFRPRE86IENoYW5nZSB0byBzdXNwZW5zaW9uXG4gICAgICAgICAgICB2YXIgaW1hZ2VQcm9taXNlID0gZ2V0QXNzZXQoU2suZmZpLnJlbWFwVG9KcyhmaWxlX29yX3VybCkpO1xuICAgICAgICAgICAgdmFyIHN1c3AgPSBuZXcgU2subWlzY2V2YWwuU3VzcGVuc2lvbigpO1xuICAgICAgICAgICAgc2VsZi5pbWFnZSA9IFNrLmJ1aWx0aW4ubm9uZS5ub25lJDtcbiAgICAgICAgICAgIHN1c3AucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1c3AuZGF0YVtcImVycm9yXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgbmV3IFNrLmJ1aWx0aW4uSU9FcnJvcihzdXNwLmRhdGFbXCJlcnJvclwiXS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc3VzcC5kYXRhW1wiZXJyb3JcIl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gc2VsZi5pbWFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3VzcC5kYXRhID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiU2sucHJvbWlzZVwiLFxuICAgICAgICAgICAgICAgIHByb21pc2U6IGltYWdlUHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW1hZ2UgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy53aWR0aCA9IHNlbGYuaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzLmhlaWdodCA9IHNlbGYuaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKHNlbGYuaW1hZ2UsIDAsIDAsIHNlbGYuaW1hZ2Uud2lkdGgsIHNlbGYuaW1hZ2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5waXhlbHMgPSBzZWxmLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuZ2V0SW1hZ2VEYXRhKDAsIDAsIHNlbGYuaW1hZ2Uud2lkdGgsIHNlbGYuaW1hZ2UuaGVpZ2h0KS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbWFnZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gZXJyO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gc3VzcDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGxvYy5zaG93ID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbihzZWxmKSB7XG4gICAgICAgICAgICBpZiAoU2suY29uc29sZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uTmFtZUVycm9yKFwiQ2FuIG5vdCByZXNvbHZlIGRyYXdpbmcgYXJlYS4gU2suY29uc29sZSBpcyB1bmRlZmluZWQhXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29uc29sZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgaW1hZ2U6IHNlbGYuaW1hZ2UsXG4gICAgICAgICAgICAgICAgZmlsZV9vcl91cmw6IHNlbGYuZmlsZV9vcl91cmxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFNrLmNvbnNvbGUucHJpbnRQSUxJbWFnZShjb25zb2xlRGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRsb2MuZmxpcCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oc2VsZikge1xuICAgICAgICAgICAgc2VsZi5pbWFnZS5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlWCgtMSlcIjtcbiAgICAgICAgICAgIGlmIChTay5jb25zb2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5OYW1lRXJyb3IoXCJDYW4gbm90IHJlc29sdmUgZHJhd2luZyBhcmVhLiBTay5jb25zb2xlIGlzIHVuZGVmaW5lZCFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBtb2QuSW1hZ2UgPSBTay5taXNjZXZhbC5idWlsZENsYXNzKG1vZCwgaW1hZ2UsIFwiSW1hZ2VcIiwgW10pO1xuXG4gICAgcmV0dXJuIG1vZDtcbn07IiwiZXhwb3J0IGNvbnN0IEVNUFRZX01PRFVMRSA9IFwibGV0ICRidWlsdGlubW9kdWxlID0gZnVuY3Rpb24obW9kKXsgcmV0dXJuIG1vZDsgfVwiO1xuXG4vKipcbiAqIEEgY29udGFpbmVyIGZvciBob2xkaW5nIHNldHRpbmdzIG9mIGEgcGFydGljdWxhciBydW4gY29uZmlndXJhdGlvbi5cbiAqIFRoaXMgaXMgdGhlIHJvb3QgY2xhc3MgZm9yIGFsbCBvdGhlciBjb25maWd1cmF0aW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobWFpbikge1xuICAgICAgICB0aGlzLm1haW4gPSBtYWluO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zeXNtb2R1bGVzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgLy8gQWNjZXNzIHBvaW50IGZvciBpbnN0cnVjdG9yIGRhdGFcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBlbmdpbmU7XG4gICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHMgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIFNrLmNvbnNvbGUgPSB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlO1xuICAgICAgICBTay5xdWV1ZWRJbnB1dCA9IFtdO1xuICAgICAgICBTay5jb25maWd1cmUodGhpcy5nZXRTa3VscHRPcHRpb25zKCkpO1xuICAgICAgICAvLyBTZXQgb3BlbkZpbGUgYXMgbWVjaGFuaXNtIHRvIHJlYWQgZmlsZXNcbiAgICAgICAgU2suaW5Ccm93c2VyID0gdGhpcy5vcGVuRmlsZS5iaW5kKHRoaXMpO1xuICAgICAgICAvLyBQcm94eSByZXF1ZXN0c1xuICAgICAgICBTay5yZXF1ZXN0c0dldCA9ICh1cmwsIGRhdGEsIHRpbWVvdXQpID0+IHRoaXMub3BlblVSTCh1cmwsIGRhdGEsIHRpbWVvdXQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRTa3VscHRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX19mdXR1cmVfXzogU2sucHl0aG9uMyxcbiAgICAgICAgICAgIC8vIGltcG9ydFxuICAgICAgICAgICAgcmVhZDogdGhpcy5pbXBvcnRGaWxlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBvcGVuXG4gICAgICAgICAgICAvL2ZpbGVvcGVuOiB0aGlzLm9wZW5GaWxlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBmaWxlLndyaXRlXG4gICAgICAgICAgICBmaWxld3JpdGU6IHRoaXMud3JpdGVGaWxlLmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBwcmludFxuICAgICAgICAgICAgb3V0cHV0OiB0aGlzLnByaW50LmJpbmQodGhpcyksXG4gICAgICAgICAgICAvLyBpbnB1dFxuICAgICAgICAgICAgaW5wdXRmdW46IHRoaXMuaW5wdXQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGlucHV0ZnVuVGFrZXNQcm9tcHQ6IHRydWUsXG4gICAgICAgICAgICAvLyBNZWRpYSBJbWFnZSBQcm94eSBVUkxcbiAgICAgICAgICAgIGltYWdlUHJveHk6IHRoaXMuZ2V0SW1hZ2VQcm94eS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgLy8gV2hldGhlciBvciBub3QgdG8ga2VlcCB0aGUgZ2xvYmFsc1xuICAgICAgICAgICAgcmV0YWluR2xvYmFsczogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYWNjZXNzIFNrdWxwdCBidWlsdC1pbnMuIFRoaXMgaXMgcHJldHR5IGdlbmVyaWMsIHRha2VuXG4gICAgICogYWxtb3N0IGRpcmVjdGx5IGZyb20gdGhlIFNrdWxwdCBkb2NzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lIC0gVGhlIHB5dGhvbiBmaWxlbmFtZSAoZS5nLiwgXCJvc1wiIG9yIFwicHByaW50XCIpIHRoYXQgd2lsbCBiZSBsb2FkZWQuXG4gICAgICogQHJldHVybnMge1N0cmluZ30gVGhlIEphdmFTY3JpcHQgc291cmNlIGNvZGUgb2YgdGhlIGZpbGUgKHdlaXJkLCByaWdodD8pXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBmaWxlIGlzbid0IGZvdW5kLlxuICAgICAqL1xuICAgIGltcG9ydEZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5pbXBsZW1lbnRlZCBtZXRob2QhXCIpO1xuICAgICAgICAvLyBUT0RPXG4gICAgfTtcblxuICAgIG9wZW5VUkwodXJsLCBkYXRhLCB0aW1lb3V0KSB7XG4gICAgICAgIC8vcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IG1vY2tVcmxEYXRhID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5nZXRGaWxlKFwiP21vY2tfdXJscy5ibG9ja3B5XCIpO1xuICAgICAgICBpZiAobW9ja1VybERhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgKG5ldyBTay5idWlsdGluLklPRXJyb3IoXCJDYW5ub3QgYWNjZXNzIHVybDogVVJMIERhdGEgd2FzIG5vdCBtYWRlIGF2YWlsYWJsZSBmb3IgdGhpcyBhc3NpZ25tZW50XCIpKTtcbiAgICAgICAgfVxuICAgICAgICBtb2NrVXJsRGF0YSA9IEpTT04ucGFyc2UobW9ja1VybERhdGEuaGFuZGxlKCkpO1xuICAgICAgICBmb3IgKGxldCBmaWxlbmFtZSBpbiBtb2NrVXJsRGF0YSkge1xuICAgICAgICAgICAgaWYgKG1vY2tVcmxEYXRhLmhhc093blByb3BlcnR5KGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IG1vY2tVcmxEYXRhW2ZpbGVuYW1lXS5sZW5ndGg7IGkrPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2NrVXJsRGF0YVtmaWxlbmFtZV1baV0gPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVEYXRhID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5yZWFkRmlsZShmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGZpbGVEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL3JlamVjdChuZXcgU2suYnVpbHRpbi5JT0Vycm9yKFwiQ2Fubm90IGFjY2VzcyB1cmw6IFwiK3VybCtcIiB3YXMgbm90IG1hZGUgYXZhaWxhYmxlIGZvciB0aGlzIGFzc2lnbm1lbnRcIikpO1xuICAgICAgICB0aHJvdyAobmV3IFNrLmJ1aWx0aW4uSU9FcnJvcihcIkNhbm5vdCBhY2Nlc3MgdXJsOiBcIit1cmwrXCIgd2FzIG5vdCBtYWRlIGF2YWlsYWJsZSBmb3IgdGhpcyBhc3NpZ25tZW50XCIpKTtcbiAgICAgICAgLy99KTtcbiAgICB9XG5cbiAgICBvcGVuRmlsZSgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5pbXBsZW1lbnRlZCBtZXRob2QhXCIpO1xuICAgICAgICAvLyBUT0RPXG4gICAgfVxuXG4gICAgd3JpdGVGaWxlKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVbmltcGxlbWVudGVkIG1ldGhvZCFcIik7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG5cbiAgICBwcmludCh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLnByaW50KHZhbHVlKTtcbiAgICB9XG5cbiAgICBpbnB1dCgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5pbXBsZW1lbnRlZCBtZXRob2QhXCIpO1xuICAgICAgICAvLyBUT0RPXG4gICAgfVxuXG4gICAgY2xlYXJJbnB1dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubWFpbi5tb2RlbC5kaXNwbGF5LmNsZWFySW5wdXRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoW10pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleCgwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5wdXRNb2NrRnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChTay5xdWV1ZWRJbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBTay5xdWV1ZWRJbnB1dC5wb3AoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGdldEltYWdlUHJveHkodXJsKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG5cbiAgICBzdGVwKCkge1xuXG4gICAgfVxuXG4gICAgbGFzdFN0ZXAoKSB7XG5cbiAgICB9XG5cbiAgICBpc0ZvcmJpZGRlbihmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWJzdHJhY3Qgc3VjY2VzcyBleGVjdXRpb25cIik7XG4gICAgfVxuXG4gICAgZmFpbHVyZShlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYnN0cmFjdCBmYWlsdXJlIGV4ZWN1dGlvblwiKTtcbiAgICB9XG5cbiAgICBkdW1teU91dFNhbmRib3goKSB7XG4gICAgICAgIC8vU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi9wZWRhbC9zYW5kYm94L3NhbmRib3gucHlcIl0gPSBcImNsYXNzIFNhbmRib3g6IHBhc3NcXG5kZWYgcnVuKCk6IHBhc3NcXG5kZWYgcmVzZXQoKTogcGFzc1xcblwiO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtDb25maWd1cmF0aW9uLCBFTVBUWV9NT0RVTEV9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zLmpzXCI7XG5pbXBvcnQgeyRza19tb2RfaW5zdHJ1Y3Rvcn0gZnJvbSBcIi4uL3NrdWxwdF9tb2R1bGVzL3NrX21vZF9pbnN0cnVjdG9yXCI7XG5pbXBvcnQgeyRza19tb2RfY292ZXJhZ2V9IGZyb20gXCIuLi9za3VscHRfbW9kdWxlcy9jb3ZlcmFnZVwiO1xuXG5jb25zdCBVVElMSVRZX01PRFVMRV9DT0RFID0gXCJ2YXIgJGJ1aWx0aW5tb2R1bGUgPSBcIiArICRza19tb2RfaW5zdHJ1Y3Rvci50b1N0cmluZygpO1xuY29uc3QgQ09WRVJBR0VfTU9EVUxFX0NPREUgPSAkc2tfbW9kX2NvdmVyYWdlO1xuXG5leHBvcnQgY2xhc3MgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24gZXh0ZW5kcyBDb25maWd1cmF0aW9uIHtcbiAgICB1c2UoZW5naW5lKSB7XG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuICAgICAgICAvLyBJbnN0cnVjdG9ycyBnZXQgNCBzZWNvbmRzXG4gICAgICAgIFNrLmV4ZWNMaW1pdEZ1bmN0aW9uID0gKCkgPT5cbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkgPyBJbmZpbml0eSA6IDcwMDA7XG4gICAgICAgIFNrLmV4ZWNMaW1pdCA9IFNrLmV4ZWNMaW1pdEZ1bmN0aW9uKCk7XG4gICAgICAgIC8vIFN0ZXBwZXIhIEV4ZWN1dGVkIGFmdGVyIGV2ZXJ5IHN0YXRlbWVudC5cbiAgICAgICAgU2suYWZ0ZXJTaW5nbGVFeGVjdXRpb24gPSBudWxsOyAvLyAxMCAqMTAwMFxuICAgICAgICAvLyBNdXRlIGV2ZXJ5dGhpbmdcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkubXV0ZVByaW50ZXIodHJ1ZSk7XG4gICAgICAgIC8vIERpc2FibGUgaW5wdXQgYm94XG4gICAgICAgIFNrLnF1ZXVlZElucHV0ID0gW107XG4gICAgICAgIC8vIFRPRE8gU2suaW5wdXRmdW4gPSBCbG9ja1B5RW5naW5lLmlucHV0TW9ja0Z1bmN0aW9uO1xuICAgICAgICAvLyBUT0RPOiBBbGxvdyBpbnB1dCBmdW5jdGlvbiB0byBkaXNhYmxlIHRoZSB0aW1lciwgc29tZWhvd1xuICAgICAgICAvLyBFbmFibGUgdXRpbGl0eSBtb2RlXG4gICAgICAgIFNrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvdXRpbGl0eS9fX2luaXRfXy5qc1wiXSA9IFVUSUxJVFlfTU9EVUxFX0NPREU7XG4gICAgICAgIFNrLmJ1aWx0aW5GaWxlcy5maWxlc1tcInNyYy9saWIvY292ZXJhZ2UucHlcIl0gPSBDT1ZFUkFHRV9NT0RVTEVfQ09ERTtcbiAgICAgICAgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wiLi9faW5zdHJ1Y3Rvci9fX2luaXRfXy5qc1wiXSA9IEVNUFRZX01PRFVMRTtcbiAgICAgICAgLy8gUmV1c2UgYW55IGV4aXN0aW5nIHN5c21vZHVsZXMgdGhhdCB3ZSBwcmV2aW91c2x5IGZvdW5kO1xuICAgICAgICB0aGlzLnN5c21vZHVsZXMgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3Iuc3lzbW9kdWxlcztcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBfX21haW5fXyBtb2R1bGVzXG4gICAgICAgIGxldCAkbWFpbiA9IG5ldyBTay5idWlsdGluLnN0cihcIl9fbWFpbl9fXCIpO1xuICAgICAgICBpZiAodGhpcy5zeXNtb2R1bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN5c21vZHVsZXMucXVpY2skbG9va3VwKCRtYWluKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3lzbW9kdWxlcy5kZWwkaXRlbSgkbWFpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb3BlbkZpbGUoZmlsZW5hbWUpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5tYWluLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5zZWFyY2hGb3JGaWxlKGZpbGVuYW1lLCBmYWxzZSk7XG4gICAgICAgIGlmIChmb3VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5PU0Vycm9yKFwiRmlsZSBub3QgZm91bmQ6IFwiK2ZpbGVuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmb3VuZC5jb250ZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW1wb3J0RmlsZShmaWxlbmFtZSkge1xuICAgICAgICBpZiAoZmlsZW5hbWUgPT09IFwiLi9hbnN3ZXIucHlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlbmFtZSA9PT0gXCIuL19pbnN0cnVjdG9yL29uX3J1bi5weVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25SdW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlbmFtZSA9PT0gXCIuL19pbnN0cnVjdG9yL29uX2V2YWwucHlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50Lm9uRXZhbCgpIHx8IFwiXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZW5hbWUgPT09IFwiLi9faW5zdHJ1Y3Rvci9fX2luaXRfXy5qc1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfTU9EVUxFO1xuICAgICAgICB9IGVsc2UgaWYgKFNrLmJ1aWx0aW5GaWxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU2suYnVpbHRpbi5PU0Vycm9yKFwiQnVpbHQtaW4gbW9kdWxlcyBub3QgYWNjZXNzaWJsZS5cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoU2suYnVpbHRpbkZpbGVzW1wiZmlsZXNcIl1bZmlsZW5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtmaWxlbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSB0aGlzLm1haW4uY29tcG9uZW50cy5maWxlU3lzdGVtLnNlYXJjaEZvckZpbGUoZmlsZW5hbWUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChmb3VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNrLmJ1aWx0aW4uT1NFcnJvcihcIkZpbGUgbm90IGZvdW5kOiAnXCIrZmlsZW5hbWUgKyBcIidcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZC5jb250ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlucHV0KHByb21wdE1lc3NhZ2UpIHtcbiAgICAgICAgLy9yZXR1cm4gXCJBcHBsZVBpZVwiO1xuICAgICAgICBpZiAodGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dEluZGV4KCkgPCB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgaW5wdXRJbmRleCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleCgpO1xuICAgICAgICAgICAgbGV0IG5leHRJbnB1dCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXQoKVtpbnB1dEluZGV4XTtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5wdXRJbmRleChpbnB1dEluZGV4KzEpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRJbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIkFwcGxlUGllXCI7XG4gICAgICAgIH1cbiAgICAgICAgLypyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoU2sucXVldWVkSW5wdXQucG9wKCkpO1xuICAgICAgICB9KTsqL1xuICAgIH1cblxufSIsIi8qKlxuICogU2t1bHB0IE1vZHVsZSBmb3IgaG9sZGluZyB0aGUgSW5zdHJ1Y3RvciBBUEkuXG4gKlxuICogVGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIGJ5IGdldHRpbmcgdGhlIGZ1bmN0aW9ucycgc291cmNlIGNvZGUgZnJvbSB0b1N0cmluZy5cbiAqIElzbid0IHRoYXQgY3Jhenk/XG4gKlxuICpcbiAqL1xuZXhwb3J0IGxldCAkc2tfbW9kX2luc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBNYWluIG1vZHVsZSBvYmplY3QgdGhhdCBnZXRzIHJldHVybmVkIGF0IHRoZSBlbmQuXG4gICAgbGV0IG1vZCA9IHt9O1xuICAgIGxldCBub25lID0gU2suYnVpbHRpbi5ub25lLm5vbmUkO1xuICAgIFxuICAgIGxldCBwcmlvciA9IG51bGw7XG4gICAgbW9kLnRpbWVpdCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwidGltZWl0XCIsIGFyZ3VtZW50cywgMSwgMSk7XG4gICAgICAgIGxldCBkaWZmZXJlbmNlO1xuICAgICAgICBpZiAocHJpb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IERhdGUubm93KCkgLSBwcmlvcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhTay5mZmkucmVtYXBUb0pzKG5hbWUpLCBkaWZmZXJlbmNlLzEwMDApO1xuICAgICAgICBwcmlvciA9IERhdGUubm93KCk7XG4gICAgfSk7XG4gICAgXG4gICAgLyoqXG4gICAgICogTG9ncyBmZWVkYmFjayB0byBqYXZhc2NyaXB0IGNvbnNvbGVcbiAgICAgKi9cbiAgICBtb2QuY29uc29sZV9sb2cgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZygoWy4uLmFyZ3VtZW50c10pLm1hcChTay5mZmkucmVtYXBUb0pzKSk7XG4gICAgfSk7XG4gICAgXG4gICAgLyoqXG4gICAgICogTG9ncyBkZWJ1ZyB0byBqYXZhc2NyaXB0IGNvbnNvbGVcbiAgICAgKi9cbiAgICBtb2QuY29uc29sZV9kZWJ1ZyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNvdmVydHMgdGhlIG91dHB1dCBpbiB0aGUgc3R1ZGVudCByZXBvcnQgdG8gYSBweXRob24gXG4gICAgICogbGlzdCBhbmQgcmV0dXJucyBpdC5cbiAgICAqKi9cbiAgICBtb2QuZ2V0X291dHB1dCA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3MoXCJnZXRfb3V0cHV0XCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBsZXQgb3V0cHV0ID0gU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl1bXCJvdXRwdXRcIl0oKTtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5tYXAoZnVuY3Rpb24oaXRlbSkgeyByZXR1cm4gaXRlbS50b1NrdWxwdCgpOyB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KG91dHB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChbXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlc2V0cyB0aGUgb3V0cHV0LCBwYXJ0aWN1bGFybHkgdXNlZnVsIGlmIHRoZSBzdHVkZW50XG4gICAgICogY29kZSBpcyBnb2luZyB0byBiZSByZXJ1bi5cbiAgICAgKi9cbiAgICBtb2QucmVzZXRfb3V0cHV0ID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInJlc2V0X291dHB1dFwiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBpZiAoU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uc3VjY2Vzcykge1xuICAgICAgICAgICAgU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0ub3V0cHV0LnJlbW92ZUFsbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTay5idWlsdGluLm5vbmUubm9uZSQ7XG4gICAgfSk7XG4gICAgXG4gICAgLyptb2QucXVldWVfaW5wdXQgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwicXVldWVfaW5wdXRcIiwgYXJndW1lbnRzLCAxLCBJbmZpbml0eSk7XG4gICAgICAgIGxldCBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBmb3IgKGxldCBpID0gYXJncy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGFyZ3NbaV07XG4gICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tUeXBlKFwiaW5wdXRcIiwgXCJzdHJpbmdcIiwgU2suYnVpbHRpbi5jaGVja1N0cmluZyhpbnB1dCkpO1xuICAgICAgICAgICAgU2sucXVldWVkSW5wdXQucHVzaChTay5mZmkucmVtYXBUb0pzKGlucHV0KSk7XG4gICAgICAgIH1cbiAgICB9KTsqL1xuICAgIFxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGluc3RydWN0b3JzIHRvIGdldCB0aGUgc3R1ZGVudHMnIGNvZGUgYXMgYSBzdHJpbmcuXG4gICAgKiovXG4gICAgbW9kLmdldF9wcm9ncmFtID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9wcm9ncmFtXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJ2ZXJpZmllclwiXS5jb2RlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGluc3RydWN0b3JzIHRvIGdldCB0aGUgc3R1ZGVudHMnIGNvZGUgYXMgYSBzdHJpbmcuXG4gICAgKiovXG4gICAgbW9kLmdldF9ldmFsdWF0aW9uID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9ldmFsdWF0aW9uXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLmV2YWx1YXRpb24gfHwgXCJcIik7XG4gICAgfSk7XG4gICAgXG4gICAgbW9kLnRyYWNlX2xpbmVzID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBsaW5lcyA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLnJlYWxMaW5lcztcbiAgICAgICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KGxpbmVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KFtdKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgbW9kLmdldF9zdHVkZW50X2Vycm9yID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9zdHVkZW50X2Vycm9yXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4udHVwbGUoW25vbmUsIG5vbmVdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBlcnJvciA9IFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLmVycm9yLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0ge307XG4gICAgICAgICAgICBpZiAoZXJyb3IgJiYgZXJyb3IudHJhY2ViYWNrICYmIGVycm9yLnRyYWNlYmFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25bXCJsaW5lXCJdID0gZXJyb3IudHJhY2ViYWNrWzBdLmxpbmVubztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zaXRpb24gPSBTay5mZmkucmVtYXBUb1B5KHBvc2l0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi50dXBsZShbZXJyb3IsIHBvc2l0aW9uXSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIFxuICAgIG1vZC5oYWRfZXhlY3V0aW9uX3RpbWVfZXJyb3IgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiaGFkX2V4ZWN1dGlvbl90aW1lX2Vycm9yXCIsIGFyZ3VtZW50cywgMCwgMCk7XG4gICAgICAgIHJldHVybiAhU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uc3VjY2VzcyAmJiBcbiAgICAgICAgICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5lcnJvciAmJlxuICAgICAgICAgICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJzdHVkZW50XCJdLmVycm9yLnRwJG5hbWUgPT09IFwiVGltZUxpbWl0RXJyb3JcIjtcbiAgICB9KTtcbiAgICBcbiAgICBsZXQgYmFja3VwVGltZSA9IHVuZGVmaW5lZDtcbiAgICBtb2QubGltaXRfZXhlY3V0aW9uX3RpbWUgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwibGltaXRfZXhlY3V0aW9uX3RpbWVcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgYmFja3VwVGltZSA9IFNrLmV4ZWNMaW1pdDtcbiAgICAgICAgaWYgKFNrLmV4ZWNMaW1pdEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBTay5leGVjTGltaXQgPSBTay5leGVjTGltaXRGdW5jdGlvbigpO1xuICAgICAgICAgICAgU2suZXhlY1N0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIG1vZC51bmxpbWl0X2V4ZWN1dGlvbl90aW1lID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInVubGltaXRfZXhlY3V0aW9uX3RpbWVcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgU2suZXhlY0xpbWl0ID0gYmFja3VwVGltZTtcbiAgICAgICAgU2suZXhlY1N0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICB9KTtcbiAgICBcbiAgICBtb2Quc3VwcHJlc3Nfc2Nyb2xsaW5nID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcInN1cHByZXNzX3Njcm9sbGluZ1wiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBTay5leGVjdXRpb25SZXBvcnRzLmluc3RydWN0b3Iuc2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIFxuICAgIC8qXG4gICAgZGVmIGhpc3Qoc2VsZiwgZGF0YSwgKiprd2FyZ3MpOlxuICAgICAgICBsYWJlbCA9IGt3YXJncy5nZXQoJ2xhYmVsJywgTm9uZSlcbiAgICAgICAgc2VsZi5hY3RpdmVfcGxvdFsnZGF0YSddLmFwcGVuZCh7J3R5cGUnOiAnSGlzdG9ncmFtJywgJ3ZhbHVlcyc6IGRhdGEsICdsYWJlbCc6IGxhYmVsfSlcbiAgICBkZWYgcGxvdChzZWxmLCB4cywgeXM9Tm9uZSwgKiprd2FyZ3MpOlxuICAgICAgICBsYWJlbCA9IGt3YXJncy5nZXQoJ2xhYmVsJywgTm9uZSlcbiAgICAgICAgaWYgeXMgPT0gTm9uZTpcbiAgICAgICAgICAgIHNlbGYuYWN0aXZlX3Bsb3RbJ2RhdGEnXS5hcHBlbmQoeyd0eXBlJzogJ0xpbmUnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiByYW5nZShsZW4oeHMpKSwgJ3knOiB4cywgJ2xhYmVsJzogbGFiZWx9KVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgc2VsZi5hY3RpdmVfcGxvdFsnZGF0YSddLmFwcGVuZCh7J3R5cGUnOiAnTGluZScsICd4JzogeHMsICd5JzogeXMsICdsYWJlbCc6IGxhYmVsfSlcbiAgICBkZWYgc2NhdHRlcihzZWxmLCB4cywgeXMsICoqa3dhcmdzKTpcbiAgICAgICAgbGFiZWwgPSBrd2FyZ3MuZ2V0KCdsYWJlbCcsIE5vbmUpXG4gICAgICAgIHNlbGYuYWN0aXZlX3Bsb3RbJ2RhdGEnXS5hcHBlbmQoeyd0eXBlJzogJ1NjYXR0ZXInLCAneCc6IHhzLCAneSc6IHlzLCAnbGFiZWwnOiBsYWJlbH0pXG4gICAgKi9cbiAgICBtb2QuZ2V0X3Bsb3RzID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9wbG90c1wiLCBhcmd1bWVudHMsIDAsIDApO1xuICAgICAgICBpZiAoU2suZXhlY3V0aW9uUmVwb3J0c1tcInN0dWRlbnRcIl0uc3VjY2Vzcykge1xuICAgICAgICAgICAgbGV0IG91dHB1dHMgPSBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXVtcIm91dHB1dFwiXSgpO1xuICAgICAgICAgICAgb3V0cHV0cyA9IG91dHB1dHMuZmlsdGVyKGZ1bmN0aW9uKG91dHB1dCkgeyBcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0LnR5cGUgPT09IFwicGxvdFwiO1xuICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uKGdyYXBoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcImRhdGFcIjogZ3JhcGguY29udGVudC5tYXAoZnVuY3Rpb24ocGxvdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3UGxvdCA9IHsgXCJ0eXBlXCI6IHBsb3QudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGFiZWxcIjogXCJcIiB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxvdC50eXBlID09PSBcImxpbmVcIiB8fCBwbG90LnR5cGUgPT09IFwic2NhdHRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQbG90W1wieFwiXSA9IHBsb3QuZGF0YS5tYXAoZnVuY3Rpb24odikgeyByZXR1cm4gdi54OyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bsb3RbXCJ5XCJdID0gcGxvdC5kYXRhLm1hcChmdW5jdGlvbih2KSB7IHJldHVybiB2Lnk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsb3QudHlwZSA9PT0gXCJoaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bsb3RbXCJ2YWx1ZXNcIl0gPSBwbG90LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Bsb3Q7XG4gICAgICAgICAgICAgICAgfSksIFxuICAgICAgICAgICAgICAgIFwieGxhYmVsXCI6IFwiXCIsIFwieWxhYmVsXCI6IFwiXCIsIFxuICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJcIiwgXCJsZWdlbmRcIjogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gU2suZmZpLnJlbWFwVG9QeShvdXRwdXRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBTay5mZmkucmVtYXBUb1B5KFtdKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgXG4gICAgLy8gUHJvdmlkZXMgYHN0dWRlbnRgIGFzIGFuIG9iamVjdCB3aXRoIGFsbCB0aGUgZGF0YSB0aGF0IHRoZSBzdHVkZW50IGRlY2xhcmVkLlxuICAgIG1vZC5TdHVkZW50RGF0YSA9IFNrLm1pc2NldmFsLmJ1aWxkQ2xhc3MobW9kLCBmdW5jdGlvbigkZ2JsLCAkbG9jKSB7XG4gICAgICAgICRsb2MuX19pbml0X18gPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKHNlbGYpIHtcbiAgICAgICAgICAgIC8vc2VsZi5kYXRhID0gU2suYnVpbHRpbi5kaWN0KCk7XG4gICAgICAgICAgICBsZXQgbmV3RGljdCA9IG5ldyBTay5idWlsdGluLmRpY3QoKTtcbiAgICAgICAgICAgIFNrLmFic3RyLnNhdHRyKHNlbGYsIG5ldyBTay5idWlsdGluLnN0cihcImRhdGFcIiksIG5ld0RpY3QsIHRydWUpO1xuICAgICAgICAgICAgc2VsZi5tb2R1bGUgPSBTay5leGVjdXRpb25SZXBvcnRzW1wic3R1ZGVudFwiXS5yZXN1bHRzO1xuICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm1vZHVsZSA9IHNlbGYubW9kdWxlLiRkO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzZWxmLm1vZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb2R1bGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2suYWJzdHIub2JqZWN0U2V0SXRlbShuZXdEaWN0LCBTay5mZmkucmVtYXBUb1B5KFNrLnVuZml4UmVzZXJ2ZWQoa2V5KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubW9kdWxlW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLm1vZHVsZSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW4ubm9uZS5ub25lJDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjYWxsX2YgPSBmdW5jdGlvbihrd2EpIHtcbiAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja0FyZ3NMZW4oXCJjYWxsXCIsIGFyZ3VtZW50cy5sZW5ndGgsIDEsIEluZmluaXR5LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgICAgIHZhciBrd2FyZ3MgPSBuZXcgU2suYnVpbHRpbnMuZGljdChrd2EpO1xuXG4gICAgICAgICAgICB2YXIgc2VsZiA9IGFyZ3NbMF07XG4gICAgICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gYXJnc1sxXTtcbiAgICAgICAgICAgIGFyZ3MgPSBhcmdzLnNsaWNlKDIpO1xuXG4gICAgICAgICAgICB2YXIgaW5wdXRzID0ga3dhcmdzLm1wJGxvb2t1cChuZXcgU2suYnVpbHRpbi5zdHIoXCJpbnB1dHNcIikpO1xuICAgICAgICAgICAgaWYgKGlucHV0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRzID0gU2suZmZpLnJlbWFwVG9KcyhpbnB1dHMpO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dHMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNrLnF1ZXVlZElucHV0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFNrLnF1ZXVlZElucHV0LnB1c2goaW5wdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRhdGEgPSBzZWxmLnRwJGdldGF0dHIobmV3IFNrLmJ1aWx0aW4uc3RyKFwiZGF0YVwiKSk7XG4gICAgICAgICAgICB2YXIgZnVuY3Rpb25PYmplY3QgPSBkYXRhLm1wJGxvb2t1cChmdW5jdGlvbk5hbWUpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uT2JqZWN0LnRwJGNhbGwoYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICBjYWxsX2YuY29fa3dhcmdzID0gdHJ1ZTtcbiAgICAgICAgLy9jYWxsX2YuY29fdmFybmFtZXMgPSBbXCJzZWxmXCIsIFwiZnVuY3Rpb25cIl07XG4gICAgICAgIGNhbGxfZi5jb19uYW1lPSBuZXcgU2suYnVpbHRpbi5zdHIoXCJjYWxsXCIpO1xuICAgICAgICAkbG9jW1wiY2FsbF8kcm4kXCJdID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhjYWxsX2YpO1xuXG4gICAgICAgICRsb2NbXCJfX3JlcHJfX1wiXSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oc2VsZikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTay5idWlsdGluLnN0cihcIlwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGxvYy5nZXRfbmFtZXNfYnlfdHlwZSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oc2VsZiwgdHlwZSwgZXhjbHVkZV9idWlsdGlucykge1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9uYW1lc19ieV90eXBlXCIsIGFyZ3VtZW50cywgMiwgMyk7XG4gICAgICAgICAgICBpZiAoZXhjbHVkZV9idWlsdGlucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZXhjbHVkZV9idWlsdGlucyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFNrLmJ1aWx0aW4ucHlDaGVja1R5cGUoXCJleGNsdWRlX2J1aWx0aW5zXCIsIFwiYm9vbGVhblwiLCBTay5idWlsdGluLmNoZWNrQm9vbChleGNsdWRlX2J1aWx0aW5zKSk7XG4gICAgICAgICAgICAgICAgZXhjbHVkZV9idWlsdGlucyA9IFNrLmZmaS5yZW1hcFRvSnMoZXhjbHVkZV9idWlsdGlucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBzZWxmLm1vZHVsZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubW9kdWxlW3Byb3BlcnR5XS50cCRuYW1lID09PSB0eXBlLnRwJG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXhjbHVkZV9idWlsdGlucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZV9idWlsdGlucyAmJiBwcm9wZXJ0eS5zdGFydHNXaXRoKFwiX19cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFNrLmZmaS5yZW1hcFRvUHkoU2sudW5maXhSZXNlcnZlZChwcm9wZXJ0eSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgU2suYnVpbHRpbi5saXN0KHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICAkbG9jLmdldF92YWx1ZXNfYnlfdHlwZSA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oc2VsZiwgdHlwZSwgZXhjbHVkZV9idWlsdGlucykge1xuICAgICAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF92YWx1ZXNfYnlfdHlwZVwiLCBhcmd1bWVudHMsIDIsIDMpO1xuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVfYnVpbHRpbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGVfYnVpbHRpbnMgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tUeXBlKFwiZXhjbHVkZV9idWlsdGluc1wiLCBcImJvb2xlYW5cIiwgU2suYnVpbHRpbi5jaGVja0Jvb2woZXhjbHVkZV9idWlsdGlucykpO1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGVfYnVpbHRpbnMgPSBTay5mZmkucmVtYXBUb0pzKGV4Y2x1ZGVfYnVpbHRpbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gc2VsZi5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb2R1bGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vZHVsZVtwcm9wZXJ0eV0udHAkbmFtZSA9PT0gdHlwZS50cCRuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZV9idWlsdGlucyAmJiBwcm9wZXJ0eS5zdGFydHNXaXRoKFwiX19cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNlbGYubW9kdWxlW3Byb3BlcnR5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNrLmJ1aWx0aW4ubGlzdChyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9LCBcIlN0dWRlbnREYXRhXCIpO1xuICAgIG1vZC5zdHVkZW50ID0gU2subWlzY2V2YWwuY2FsbHNpbU9yU3VzcGVuZChtb2QuU3R1ZGVudERhdGEpO1xuICAgIFxuICAgIG1vZC5nZXRfc3R1ZGVudF9kYXRhID0gbmV3IFNrLmJ1aWx0aW4uZnVuYyhmdW5jdGlvbigpIHtcbiAgICAgICAgU2suYnVpbHRpbi5weUNoZWNrQXJncyhcImdldF9zdHVkZW50X2RhdGFcIiwgYXJndW1lbnRzLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIG1vZC5zdHVkZW50O1xuICAgIH0pO1xuXG4gICAgbW9kLnNldF9pbnN0cnVjdGlvbnMgPSBuZXcgU2suYnVpbHRpbi5mdW5jKGZ1bmN0aW9uKG5ld0luc3RydWN0aW9ucykge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwic2V0X2luc3RydWN0aW9uc1wiLCBhcmd1bWVudHMsIDEsIDIpO1xuICAgICAgICBuZXdJbnN0cnVjdGlvbnMgPSBTay5mZmkucmVtYXBUb0pzKG5ld0luc3RydWN0aW9ucyk7XG4gICAgICAgIFNrLmV4ZWN1dGlvblJlcG9ydHNbXCJtb2RlbFwiXS5kaXNwbGF5LmNoYW5nZWRJbnN0cnVjdGlvbnMobmV3SW5zdHJ1Y3Rpb25zKTtcbiAgICB9KTtcblxuICAgIG1vZC5nZXRfbW9kZWxfaW5mbyA9IG5ldyBTay5idWlsdGluLmZ1bmMoZnVuY3Rpb24oa2V5cykge1xuICAgICAgICBTay5idWlsdGluLnB5Q2hlY2tBcmdzKFwiZ2V0X21vZGVsX2luZm9cIiwgYXJndW1lbnRzLCAxLCAxKTtcbiAgICAgICAgbGV0IG1vZGVsID0gU2suZXhlY3V0aW9uUmVwb3J0c1tcIm1vZGVsXCJdO1xuICAgICAgICBrZXlzID0gU2suZmZpLnJlbWFwVG9KcyhrZXlzKS5zcGxpdChcIi5cIik7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG1vZGVsID0gbW9kZWxba2V5c1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNrLmZmaS5yZW1hcFRvUHkobW9kZWwoKSk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIG1vZDtcbn07XG4iLCJleHBvcnQgY29uc3QgJHNrX21vZF9jb3ZlcmFnZSA9IGBcblwiXCJcIlxuSGlkZW91cyBmaWxsLWluIHJlcGxhY2VtZW50IGZvciBDb3ZlcmFnZSwgbGV2ZXJhZ2luZyBzb21lIG1hZ2ljIGZyb20gdGhlXG5VdGlsaXR5IGZ1bmN0aW9uLiBUaGUgZGF0YSB0aGlzIHJldHVybnMgaXMgZmFsc2UgLSBpdCBkb2Vzbid0IGFjdHVhbGx5XG5kZXNjcmliZSB0aGUgbWlzc2luZyBsaW5lcyBhbmQgYWxsIGxpbmVzOyBpdCBqdXN0IGRlc2NyaWJlcyB0aGUgdHJhY2VkIGxpbmVzLlxuQnV0IHNpbmNlIFBlZGFsIGRvZXNuJ3QgbmVlZCB0aGUgb3RoZXIgdHdvLCBpdCB3b3JrcyBvdXQgZmluZSB3aGVuIHlvdSBkbzpcblxuc3RhdGVtZW50cyAtIG1pc3NpbmdcblwiXCJcIlxuXG5pbXBvcnQgdXRpbGl0eVxuXG5jbGFzcyBDb3ZlcmFnZTpcbiAgICBkZWYgc3RhcnQoc2VsZik6XG4gICAgICAgIHBhc3NcblxuICAgIGRlZiBzdG9wKHNlbGYpOlxuICAgICAgICBwYXNzXG5cbiAgICBkZWYgc2F2ZShzZWxmKTpcbiAgICAgICAgcGFzc1xuXG4gICAgZGVmIF9hbmFseXplKHNlbGYsIGZpbGVuYW1lOiBzdHIpOlxuICAgICAgICBsaW5lcyA9IHNldCh1dGlsaXR5LnRyYWNlX2xpbmVzKCkpXG4gICAgICAgICMgbGluZXMgd2lsbCBiZSB0aGUgbGluZXMgdGhhdCB3ZXJlIGFjdHVhbGx5IGV4ZWN1dGVkXG4gICAgICAgIHJldHVybiBBbmFseXNpcyhOb25lLCBsZW4obGluZXMpLCBOb25lLCBzZXQoKSwgbGluZXMpXG5cblxuY2xhc3MgTnVtYmVyczpcbiAgICBkZWYgX19pbml0X18oc2VsZiwgbl9taXNzaW5nLCBuX3N0YXRlbWVudHMsIHBjX2NvdmVyZWQpOlxuICAgICAgICBzZWxmLm5fbWlzc2luZyA9IG5fbWlzc2luZ1xuICAgICAgICBzZWxmLm5fc3RhdGVtZW50cyA9IG5fc3RhdGVtZW50c1xuICAgICAgICBzZWxmLnBjX2NvdmVyZWQgPSBwY19jb3ZlcmVkXG5cblxuY2xhc3MgQW5hbHlzaXM6XG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIG5fbWlzc2luZywgbl9zdGF0ZW1lbnRzLCBwY19jb3ZlcmVkLCBtaXNzaW5nLCBzdGF0ZW1lbnRzKTpcbiAgICAgICAgc2VsZi5taXNzaW5nID0gbWlzc2luZ1xuICAgICAgICBzZWxmLnN0YXRlbWVudHMgPSBzdGF0ZW1lbnRzXG4gICAgICAgIHNlbGYubnVtYmVycyA9IE51bWJlcnMobl9taXNzaW5nLCBuX3N0YXRlbWVudHMsIHBjX2NvdmVyZWQpXG5cblxuY2xhc3MgcHl0aG9uOlxuICAgIGRlZiBnZXRfcHl0aG9uX3NvdXJjZShzZWxmKTpcbiAgICAgICAgcmV0dXJuIE5vbmVcbmA7IiwiaW1wb3J0IHtpbmRlbnR9IGZyb20gXCIuLi91dGlsaXRpZXNcIjtcbmltcG9ydCB7U3RhdHVzU3RhdGV9IGZyb20gXCIuLi9zZXJ2ZXJcIjtcbmltcG9ydCB7SW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2luc3RydWN0b3JcIjtcblxuZXhwb3J0IGNvbnN0IE5FV19MSU5FX1JFR0VYID0gL1xcclxcbnxcXHJ8XFxuLztcbi8qKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgV1JBUF9JTlNUUlVDVE9SX0NPREUgPSBmdW5jdGlvbiAoc3R1ZGVudENvZGUsIGluc3RydWN0b3JDb2RlLCBxdWljaywgaXNTYWZlKSB7XG4gICAgbGV0IHNhZmVDb2RlID0gSlNPTi5zdHJpbmdpZnkoc3R1ZGVudENvZGUpO1xuICAgIGxldCBpbmRlbnRlZENvZGUgPSBpbmRlbnQoaW5kZW50KGlzU2FmZSA/IHN0dWRlbnRDb2RlIDogXCJwYXNzXCIpKTtcbiAgICBsZXQgdGlmYUFuYWx5c2lzID0gXCJcIjtcbiAgICBpZiAoIXF1aWNrKSB7XG4gICAgICAgIHRpZmFBbmFseXNpcyA9IFwiZnJvbSBwZWRhbC50aWZhIGltcG9ydCB0aWZhX2FuYWx5c2lzXFxudGlmYV9hbmFseXNpcyhGYWxzZSlcIjtcbiAgICB9XG4gICAgbGV0IHNraXBfdGlmYSA9IHF1aWNrID8gXCJUcnVlXCI6IFwiRmFsc2VcIjtcblxuICAgIC8vIFRPRE86IEFkZCBpbiBTay5xdWV1ZWRJbnB1dCB0byBiZSBwYXNzZWQgaW5cblxuICAgIHJldHVybiBgXG4jIFN1cHBvcnQgb3VyIHN5c21vZHVsZXMgaGFjayBieSBjbGVhcmluZyBvdXQgYW55IGxpbmdlcmluZyBvbGQgZGF0YVxuZnJvbSBwZWRhbC5jb3JlLnJlcG9ydCBpbXBvcnQgTUFJTl9SRVBPUlRcbk1BSU5fUkVQT1JULmNsZWFyKClcblxuZnJvbSBjaXNjMTA4IGltcG9ydCBzdHVkZW50X3Rlc3RzXG5zdHVkZW50X3Rlc3RzLnJlc2V0KClcblxuZnJvbSB1dGlsaXR5IGltcG9ydCAqXG5cbiMgTG9hZCBpbiBzb21lIGNvbW1vbmx5IHVzZWQgdG9vbHNcbmZyb20gcGVkYWwuY2FpdC5jYWl0X2FwaSBpbXBvcnQgcGFyc2VfcHJvZ3JhbVxuZnJvbSBwZWRhbC5zYW5kYm94LmNvbW1hbmRzIGltcG9ydCAqXG5mcm9tIHBlZGFsLmNvcmUuY29tbWFuZHMgaW1wb3J0ICpcblxuZnJvbSBwZWRhbC5lbnZpcm9ubWVudHMuYmxvY2tweSBpbXBvcnQgc2V0dXBfZW52aXJvbm1lbnRcbiMgRG8gd2UgZXhlY3V0ZSBzdHVkZW50J3MgY29kZT9cbnNraXBfcnVuID0gZ2V0X21vZGVsX2luZm8oJ2Fzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZUluc3RydWN0b3JSdW4nKVxuaW5wdXRzID0gTm9uZSBpZiBza2lwX3J1biBlbHNlIGdldF9tb2RlbF9pbmZvKCdleGVjdXRpb24uaW5wdXQnKVxuXG4jIEluaXRpYWxpemUgdGhlIEJsb2NrUHkgZW52aXJvbm1lbnRcbnBlZGFsID0gc2V0dXBfZW52aXJvbm1lbnQoc2tpcF90aWZhPSR7c2tpcF90aWZhfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcF9ydW49c2tpcF9ydW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0cz1pbnB1dHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5fZmlsZT0nYW5zd2VyLnB5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbl9jb2RlPSR7c2FmZUNvZGV9KVxuc3R1ZGVudCA9IHBlZGFsLmZpZWxkc1snc3R1ZGVudCddXG5cbiMgVE9ETzogUmVmYWN0b3IgcmVzb2x2ZXIgdG8gcmV0dXJuIGluc3RydWN0aW9uc1xuIyBNb25rZXktcGF0Y2ggcXVlc3Rpb25zXG4jZnJvbSBwZWRhbCBpbXBvcnQgcXVlc3Rpb25zXG4jcXVlc3Rpb25zLnNob3dfcXVlc3Rpb24gPSBzZXRfaW5zdHJ1Y3Rpb25zXG5cbiMgUnVuIHRoZSBhY3R1YWwgaW5zdHJ1Y3RvciBjb2RlXG4ke2luc3RydWN0b3JDb2RlfVxuXG4jIFJlc29sdmUgZXZlcnl0aGluZ1xuZnJvbSBwZWRhbC5yZXNvbHZlcnMuc2ltcGxlIGltcG9ydCByZXNvbHZlXG5maW5hbCA9IHJlc29sdmUoKVxuU1VDQ0VTUyA9IGZpbmFsLnN1Y2Nlc3NcblNDT1JFID0gZmluYWwuc2NvcmVcbkNBVEVHT1JZID0gZmluYWwuY2F0ZWdvcnlcbkxBQkVMID0gZmluYWwudGl0bGVcbk1FU1NBR0UgPSBmaW5hbC5tZXNzYWdlXG5EQVRBID0gZmluYWwuZGF0YVxuSElERSA9IGZpbmFsLmhpZGVfY29ycmVjdG5lc3NcblxuIyBIYW5kbGUgcXVlc3Rpb25zXG5pZiBmaW5hbC5pbnN0cnVjdGlvbnM6XG4gICAgc2V0X2luc3RydWN0aW9ucyhmaW5hbC5pbnN0cnVjdGlvbnNbLTFdLm1lc3NhZ2UpXG4gICAgXG4jIEhhbmRsZSBwb3NpdGl2ZSBmZWVkYmFja1xuUE9TSVRJVkUgPSBbXVxuZm9yIHBvc2l0aXZlIGluIGZpbmFsLnBvc2l0aXZlczpcbiAgICBtZXNzYWdlID0gcG9zaXRpdmUubWVzc2FnZVxuICAgIGlmIG5vdCBwb3NpdGl2ZTpcbiAgICAgICAgbWVzc2FnZSA9IHBvc2l0aXZlLmVsc2VfbWVzc2FnZVxuICAgIFBPU0lUSVZFLmFwcGVuZCh7XG4gICAgICAgIFwidGl0bGVcIjogcG9zaXRpdmUudGl0bGUsXG4gICAgICAgIFwibGFiZWxcIjogcG9zaXRpdmUubGFiZWwsXG4gICAgICAgIFwibWVzc2FnZVwiOiBtZXNzYWdlXG4gICAgfSlcbiAgICBcbiMgSGFuZGxlIHN5c3RlbSBtZXNzYWdlc1xuZm9yIHN5c3RlbSBpbiBmaW5hbC5zeXN0ZW1zOlxuICAgIGlmIHN5c3RlbS5sYWJlbCA9PSAnbG9nJzpcbiAgICAgICAgY29uc29sZV9sb2coc3lzdGVtLnRpdGxlLCBzeXN0ZW0ubWVzc2FnZSk7XG4gICAgaWYgc3lzdGVtLmxhYmVsID09ICdkZWJ1Zyc6XG4gICAgICAgIGNvbnNvbGVfZGVidWcoc3lzdGVtLnRpdGxlLCBzeXN0ZW0ubWVzc2FnZSk7XG5cbmA7XG59O1xuXG5leHBvcnQgY2xhc3MgT25SdW5Db25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIl9pbnN0cnVjdG9yLm9uX3J1blwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vblJ1bigpO1xuXG4gICAgICAgIGxldCBkaXNhYmxlVGlmYSA9IHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaWZhKCk7XG5cbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgbGV0IHN0dWRlbnRDb2RlU2FmZSA9IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoKTtcbiAgICAgICAgdGhpcy5kdW1teU91dFNhbmRib3goKTtcbiAgICAgICAgbGV0IGluc3RydWN0b3JDb2RlID0gdGhpcy5jb2RlO1xuICAgICAgICBsZXQgbGluZU9mZnNldCA9IGluc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGg7XG4gICAgICAgIGxldCBpc1NhZmUgPSAhcmVwb3J0W1wicGFyc2VyXCJdLmVtcHR5ICYmIHJlcG9ydFtcInZlcmlmaWVyXCJdLnN1Y2Nlc3M7XG4gICAgICAgIGluc3RydWN0b3JDb2RlID0gV1JBUF9JTlNUUlVDVE9SX0NPREUoc3R1ZGVudENvZGVTYWZlLCBpbnN0cnVjdG9yQ29kZSwgZGlzYWJsZVRpZmEsIGlzU2FmZSk7XG4gICAgICAgIGxpbmVPZmZzZXQgPSAwOyAvL2luc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGggLSBsaW5lT2Zmc2V0IC0gNDtcbiAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXSA9IHtcbiAgICAgICAgICAgIFwiY29tcGxpbWVudHNcIjogW10sXG4gICAgICAgICAgICBcImZpbGVuYW1lXCI6IFwiLi9faW5zdHJ1Y3Rvci9vbl9ydW4ucHlcIixcbiAgICAgICAgICAgIFwiY29kZVwiOiBpbnN0cnVjdG9yQ29kZSxcbiAgICAgICAgICAgIFwibGluZU9mZnNldFwiOiBsaW5lT2Zmc2V0XG4gICAgICAgICAgICAvLydjb21wbGV0ZSc6IGZhbHNlIC8vIEFjdHVhbGx5LCBsZXQncyB1c2UgdW5kZWZpbmVkIGZvciBub3cuXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jb2RlID0gaW5zdHJ1Y3RvckNvZGU7XG5cbiAgICAgICAgU2sucmV0YWluR2xvYmFscyA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1Y2Nlc3MobW9kdWxlKSB7XG4gICAgICAgIC8vIFRPRE8gTG9nZ2luZyEhISFcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIk9uUnVuIHN1Y2Nlc3NcIik7XG4gICAgICAgIC8vIFRPRE86IEFjdHVhbGx5IHBhcnNlIHJlc3VsdHNcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLmdsb2JhbHMgPSBTay5nbG9iYWxzO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3Iuc3lzbW9kdWxlcyA9IFNrLnN5c21vZHVsZXM7XG4gICAgICAgIFNrLmdsb2JhbHMgPSB7fTtcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBtb2R1bGUuJGQub25fcnVuLiRkO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50RmVlZGJhY2socmVzdWx0cyk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0c1tcImluc3RydWN0b3JcIl1bXCJzdWNjZXNzXCJdID0gdHJ1ZTtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSBTay5mZmkucmVtYXBUb0pzKHJlc3VsdHMuU1VDQ0VTUyk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3Qoc3VjY2VzcyB8fCB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KCkpO1xuICAgICAgICAvLyBDYW5ub3QgZXhjZWVkIDEgcG9pbnQsIGNhbm5vdCBnbyBiZWxvdyAwIHBvaW50c1xuICAgICAgICBsZXQgc2NvcmUgPSBTay5mZmkucmVtYXBUb0pzKHJlc3VsdHMuU0NPUkUpO1xuICAgICAgICBzY29yZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHNjb3JlKSk7XG4gICAgICAgIGxldCBvbGRTY29yZSA9IHRoaXMubWFpbi5tb2RlbC5zdWJtaXNzaW9uLnNjb3JlKCk7XG4gICAgICAgIHNjb3JlID0gTWF0aC5tYXgob2xkU2NvcmUsIHNjb3JlKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoc2NvcmUpO1xuICAgICAgICAvLyBIaWRlIHN0YXR1c1xuICAgICAgICBsZXQgaGlkZSA9IFNrLmZmaS5yZW1hcFRvSnMocmVzdWx0cy5ISURFKTtcbiAgICAgICAgLy8gQW5kIGZpcmUgdGhlIHJlc3VsdCFcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnVwZGF0ZVN1Ym1pc3Npb24oc2NvcmUsIHN1Y2Nlc3MsIGhpZGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIC8vYWZ0ZXIobW9kdWxlKTtcblxuICAgICAgICAvKmlmIChzdWNjZXNzICYmIHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNhbGxiYWNrcy5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuY29uZmlndXJhdGlvbi5jYWxsYmFja3Muc3VjY2Vzcyh0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5pZCgpKTtcbiAgICAgICAgfSovXG5cbiAgICAgICAgaWYgKCFTay5leGVjdXRpb25SZXBvcnRzLmluc3RydWN0b3Iuc2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJPblJ1biBmYWlsdXJlXCIpO1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBpZiAoZXJyb3IudHAkbmFtZSA9PT0gXCJHcmFjZWZ1bEV4aXRcIikge1xuICAgICAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkZBSUxFRCk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcG9ydFtcImluc3RydWN0b3JcIl1bXCJjb2RlXCJdKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEludGVybmFsRXJyb3IoZXJyb3IsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IGZhbHNlO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wiZXJyb3JcIl0gPSBlcnJvcjtcbiAgICAgICAgICAgIC8vVE9ETzogcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImxpbmVfb2Zmc2V0XCJdID0gbGluZU9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICAvL1RPRE86IGFmdGVyKGVycm9yKTtcbiAgICB9XG59XG5cblxuLypcbiMgVGhlIGZvbGxvd2luZyBpcyB0aGUgb2xkIGluc3RydWN0b3IgY29kZSwgbGVhdmluZyBpdCBoZXJlIGZvciBub3cuXG5cbmZyb20gcGVkYWwuY29yZS5yZXBvcnQgaW1wb3J0IE1BSU5fUkVQT1JUXG4jIFN1cHBvcnQgb3VyIHN5c21vZHVsZXMgaGFjayBieSBjbGVhcmluZyBvdXQgYW55IGxpbmdlcmluZyBvbGQgZGF0YVxuTUFJTl9SRVBPUlQuY2xlYXIoKVxuZnJvbSBwZWRhbC5jb3JlLmNvbW1hbmRzIGltcG9ydCBjb250ZXh0dWFsaXplX3JlcG9ydFxuY29udGV4dHVhbGl6ZV9yZXBvcnQoJHtzYWZlQ29kZX0sIFwiYW5zd2VyLnB5XCIpXG4ke3RpZmFBbmFseXNpc31cbmZyb20gcGVkYWwuc2FuZGJveC5zYW5kYm94IGltcG9ydCBTYW5kYm94XG5mcm9tIHBlZGFsLnNhbmRib3ggaW1wb3J0IGNvbXBhdGliaWxpdHlcbmZyb20gdXRpbGl0eSBpbXBvcnQgKlxuc3R1ZGVudCA9IE1BSU5fUkVQT1JUWydzYW5kYm94J11bJ3J1biddID0gU2FuZGJveCgpXG5zdHVkZW50LnJlcG9ydF9leGNlcHRpb25zX21vZGUgPSBUcnVlXG5sb2coZ2V0X21vZGVsX2luZm8oJ2V4ZWN1dGlvbi5pbnB1dCcpKVxuc3R1ZGVudC5zZXRfaW5wdXQoZ2V0X21vZGVsX2luZm8oJ2V4ZWN1dGlvbi5pbnB1dCcpKVxuaWYgbm90IGdldF9tb2RlbF9pbmZvKCdhc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVJbnN0cnVjdG9yUnVuJyk6XG4gICAgY29tcGF0aWJpbGl0eS5ydW5fc3R1ZGVudChyYWlzZV9leGNlcHRpb25zPUZhbHNlKVxuI2xvZyhzdHVkZW50LmRhdGEpXG4jc3R1ZGVudCA9IGdldF9zdHVkZW50X2RhdGEoKVxuI2Vycm9yLCBwb3NpdGlvbiA9IGdldF9zdHVkZW50X2Vycm9yKClcbiNjb21wYXRpYmlsaXR5LnJhaXNlX2V4Y2VwdGlvbihlcnJvciwgcG9zaXRpb24pXG5ydW5fc3R1ZGVudCA9IGNvbXBhdGliaWxpdHkucnVuX3N0dWRlbnRcbnJlc2V0X291dHB1dCA9IGNvbXBhdGliaWxpdHkucmVzZXRfb3V0cHV0XG5xdWV1ZV9pbnB1dCA9IGNvbXBhdGliaWxpdHkucXVldWVfaW5wdXRcbmdldF9vdXRwdXQgPSBjb21wYXRpYmlsaXR5LmdldF9vdXRwdXRcbmdldF9wbG90cyA9IGNvbXBhdGliaWxpdHkuZ2V0X3Bsb3RzXG5jb21wYXRpYmlsaXR5LnRyYWNlX2xpbmVzID0gdHJhY2VfbGluZXNcbmZyb20gcGVkYWwgaW1wb3J0IHF1ZXN0aW9uc1xucXVlc3Rpb25zLnNob3dfcXVlc3Rpb24gPSBzZXRfaW5zdHJ1Y3Rpb25zXG4jIFRPRE86IFJlbW92ZSB0aGUgbmVlZCBmb3IgdGhpcyBoYWNrIVxuZGVmIGNhcHR1cmVfb3V0cHV0KGZ1bmMsICphcmdzKTpcbiAgIHJlc2V0X291dHB1dCgpXG4gICBzdHVkZW50LmNhbGwoZnVuYy5fX25hbWVfXywgKmFyZ3MpXG4gICByZXR1cm4gZ2V0X291dHB1dCgpXG5jb21wYXRpYmlsaXR5LmNhcHR1cmVfb3V0cHV0ID0gY2FwdHVyZV9vdXRwdXRcblxuZnJvbSBwZWRhbC5jYWl0LmNhaXRfYXBpIGltcG9ydCBwYXJzZV9wcm9ncmFtXG4ke2luc3RydWN0b3JDb2RlfVxuZnJvbSBwZWRhbC5yZXNvbHZlcnMgaW1wb3J0IHNpbXBsZVxuZmluYWwgPSBzaW1wbGUucmVzb2x2ZSgpXG5TVUNDRVNTID0gZmluYWwuc3VjY2Vzc1xuU0NPUkUgPSBmaW5hbC5zY29yZVxuQ0FURUdPUlkgPSBmaW5hbC5jYXRlZ29yeVxuTEFCRUwgPSBmaW5hbC50aXRsZVxuTUVTU0FHRSA9IGZpbmFsLm1lc3NhZ2VcbkRBVEEgPSBmaW5hbC5kYXRhXG5ISURFID0gZmluYWwuaGlkZV9jb3JyZWN0bmVzc1xuXG4gKi8iLCJpbXBvcnQge0NvbmZpZ3VyYXRpb24sIEVNUFRZX01PRFVMRX0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIFN0dWRlbnRDb25maWd1cmF0aW9uIGV4dGVuZHMgQ29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSkge1xuICAgICAgICBzdXBlci51c2UoZW5naW5lKTtcbiAgICAgICAgLy8gTGltaXQgZXhlY3V0aW9uIHRvIDQgc2Vjb25kc1xuICAgICAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLm1haW4ubW9kZWwuc2V0dGluZ3M7XG4gICAgICAgIFNrLmV4ZWNMaW1pdEZ1bmN0aW9uID0gKCkgPT5cbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVUaW1lb3V0KCkgPyBJbmZpbml0eSA6IDUwMDA7XG4gICAgICAgIFNrLmV4ZWNMaW1pdCA9IFNrLmV4ZWNMaW1pdEZ1bmN0aW9uKCk7XG4gICAgICAgIC8vIFN0ZXBwZXIhIEV4ZWN1dGVkIGFmdGVyIGV2ZXJ5IHN0YXRlbWVudC5cbiAgICAgICAgU2suYWZ0ZXJTaW5nbGVFeGVjdXRpb24gPSB0aGlzLnN0ZXAuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gVW5tdXRlIGV2ZXJ5dGhpbmdcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmRpc3BsYXkubXV0ZVByaW50ZXIoZmFsc2UpO1xuXG4gICAgICAgIC8vIEZ1bmN0aW9uIHRvIGNhbGwgYWZ0ZXIgZWFjaCBzdGVwXG4gICAgICAgIC8vIGFmdGVyU2luZ2xlRXhlY3V0aW9uXG5cbiAgICAgICAgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi91dGlsaXR5L19faW5pdF9fLmpzXCJdID0gRU1QVFlfTU9EVUxFO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9wZW5GaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIGxldCBmb3VuZCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uc2VhcmNoRm9yRmlsZShmaWxlbmFtZSwgdHJ1ZSk7XG4gICAgICAgIC8vY29uc29sZS5sb2coZmlsZW5hbWUsIGZvdW5kKTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogXCIrZmlsZW5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kLmNvbnRlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbXBvcnRGaWxlKGZpbGVuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRm9yYmlkZGVuKGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgXCJGaWxlIG5vdCBhY2Nlc3NpYmxlOiAnXCIgKyBmaWxlbmFtZSArIFwiJ1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGVuYW1lID09PSBcIi4vYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoU2suYnVpbHRpbkZpbGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJCdWlsdC1pbiBtb2R1bGVzIG5vdCBhY2Nlc3NpYmxlLlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChTay5idWlsdGluRmlsZXNbXCJmaWxlc1wiXVtmaWxlbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFNrLmJ1aWx0aW5GaWxlc1tcImZpbGVzXCJdW2ZpbGVuYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uc2VhcmNoRm9yRmlsZShmaWxlbmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTay5idWlsdGluLk9TRXJyb3IoXCJGaWxlIG5vdCBmb3VuZDogJ1wiK2ZpbGVuYW1lICsgXCInXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQuY29udGVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlucHV0KHByb21wdE1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbi5jb21wb25lbnRzLmNvbnNvbGUuaW5wdXQocHJvbXB0TWVzc2FnZSk7XG4gICAgfVxuXG4gICAgaXNGb3JiaWRkZW4oZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZpbGVuYW1lLnN0YXJ0c1dpdGgoXCJzcmMvbGliL3V0aWxpdHkvXCIpIHx8XG4gICAgICAgICAgICBmaWxlbmFtZS5zdGFydHNXaXRoKFwic3JjL2xpYi9wZWRhbC9cIikgfHxcbiAgICAgICAgICAgIGZpbGVuYW1lLnN0YXJ0c1dpdGgoXCIuL19pbnN0cnVjdG9yL1wiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcIlN0ZXBzXCIgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgY29kZSwgbWVhbnQgdG8gYmUgdXNlZCBhcyBhIGNhbGxiYWNrIHRvIHRoZSBTa3VscHRcbiAgICAgKiBlbnZpcm9ubWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBnbG9iYWxzIC0gSGFzaCB0aGF0IG1hcHMgdGhlIG5hbWVzIG9mIGdsb2JhbCB2YXJpYWJsZXMgKFN0cmluZ3MpIHRvIHRoZWlyIFNrdWxwdCByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYWxzIC0gSGFzaCB0aGF0IG1hcHMgdGhlIG5hbWVzIG9mIGxvY2FsIHZhcmlhYmxlcyAoU3RyaW5ncykgdG8gdGhlaXIgU2t1bHB0IHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lTnVtYmVyIC0gVGhlIGNvcnJlc3BvbmRpbmcgbGluZSBudW1iZXIgaW4gdGhlIHNvdXJjZSBjb2RlIHRoYXQgaXMgYmVpbmcgZXhlY3V0ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbHVtbk51bWJlciAtIFRoZSBjb3JyZXNwb25kaW5nIGNvbHVtbiBudW1iZXIgaW4gdGhlIHNvdXJjZSBjb2RlIHRoYXQgaXMgYmVpbmcgZXhlY3V0ZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaW5rIG9mIGl0IGFzIHRoZSBcIlhcIiBwb3NpdGlvbiB0byB0aGUgbGluZU51bWJlcidzIFwiWVwiIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBweXRob24gZmlsZSBiZWluZyBleGVjdXRlZCAoZS5nLiwgXCJfX21haW5fXy5weVwiKS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzRG9jc3RyaW5nIC0gV2hldGhlciBvciBub3QgdGhpcyBpcyBhbiBhY3R1YWwgbGluZSBvciBhIGRvY3N0cmluZy5cbiAgICAgKi9cbiAgICBzdGVwKGdsb2JhbHMsIGxvY2FscywgbGluZU51bWJlciwgY29sdW1uTnVtYmVyLCBmaWxlbmFtZSwgaXNEb2NzdHJpbmcpIHtcbiAgICAgICAgaWYgKGZpbGVuYW1lID09PSBcImFuc3dlci5weVwiKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFN0ZXAgPSB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIuc3RlcDtcbiAgICAgICAgICAgIGxldCBnbG9iYWxzID0gdGhpcy5tYWluLmNvbXBvbmVudHMudHJhY2UucGFyc2VHbG9iYWxzKGdsb2JhbHMpO1xuICAgICAgICAgICAgLy8gVE9ETzogVHJhY2UgbG9jYWwgdmFyaWFibGVzIHByb3Blcmx5XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGdsb2JhbHMsIGxvY2Fscyk7XG4gICAgICAgICAgICAvL2xldCBsb2NhbHMgPSB0aGlzLm1haW4uY29tcG9uZW50cy50cmFjZS5wYXJzZUdsb2JhbHMobG9jYWxzKTtcbiAgICAgICAgICAgIC8vT2JqZWN0LmFzc2lnbihnbG9iYWxzLCBsb2NhbHMpO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLnB1c2goe1xuICAgICAgICAgICAgICAgIFwic3RlcFwiOiBjdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgICBcImZpbGVuYW1lXCI6IGZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIC8vJ2Jsb2NrJzogaGlnaGxpZ2h0TWFwW2xpbmVOdW1iZXItMV0sXG4gICAgICAgICAgICAgICAgXCJsaW5lXCI6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgXCJjb2x1bW5cIjogY29sdW1uTnVtYmVyLFxuICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiBnbG9iYWxzLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgXCJtb2R1bGVzXCI6IGdsb2JhbHMubW9kdWxlcyxcbiAgICAgICAgICAgICAgICBcImlzRG9jc3RyaW5nXCI6IGlzRG9jc3RyaW5nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwID0gY3VycmVudFN0ZXAgKyAxO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLmxpbmUgPSBsaW5lTnVtYmVyO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSBTa3VscHQgZXhlY3V0aW9uIHRvIHRlcm1pbmF0ZSB0aGUgZXhlY3V0aW9uQnVmZmVyXG4gICAgICogYW5kIGhhbmQgaXQgb2ZmIHRvIHRoZSBleGVjdXRpb24gdHJhY2UgaW4gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGxhc3RTdGVwKCkge1xuICAgICAgICBsZXQgZXhlY3V0aW9uID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbjtcbiAgICAgICAgZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlRGF0YSh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UpO1xuICAgICAgICBleGVjdXRpb24uc3R1ZGVudC5jdXJyZW50U3RlcCh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIuc3RlcCk7XG4gICAgICAgIGV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKHRoaXMuZW5naW5lLmV4ZWN1dGlvbkJ1ZmZlci5zdGVwKTtcbiAgICAgICAgZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudExpbmUodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLmxpbmUpO1xuICAgICAgICBleGVjdXRpb24uc3R1ZGVudC5sYXN0TGluZSh0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIubGluZSk7XG4gICAgICAgIGV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAodGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnN0ZXApO1xuICAgIH07XG5cbiAgICBnZXRMaW5lcyhhc3QpIHtcbiAgICAgICAgbGV0IHZpc2l0ZWRMaW5lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgbGV0IHZpc2l0Qm9keSA9IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZS5saW5lbm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZpc2l0ZWRMaW5lcy5hZGQobm9kZS5saW5lbm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuYm9keSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYm9keS5mb3JFYWNoKChzdGF0ZW1lbnQpID0+IHZpc2l0Qm9keShzdGF0ZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLm9yZWxzZSkge1xuICAgICAgICAgICAgICAgIG5vZGUub3JlbHNlLmZvckVhY2goKHN0YXRlbWVudCkgPT4gdmlzaXRCb2R5KHN0YXRlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuZmluYWxib2R5KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5maW5hbGJvZHkuZm9yRWFjaCgoc3RhdGVtZW50KSA9PiB2aXNpdEJvZHkoc3RhdGVtZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZpc2l0Qm9keShhc3QpO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh2aXNpdGVkTGluZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZSB0aGF0IHRoZSBwYXJzZSBpbmZvcm1hdGlvbiBpcyB1cC10by1kYXRlXG4gICAgICovXG4gICAgdXBkYXRlUGFyc2UoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIC8vIEhvbGQgYWxsIHRoZSBhY3R1YWxseSBkaXNjb3ZlcmVkIGxpbmVzIGZyb20gdGhlIHBhcnNlXG4gICAgICAgIGxldCBsaW5lcyA9IFtdO1xuICAgICAgICAvLyBBdHRlbXB0IGEgcGFyc2VcbiAgICAgICAgbGV0IGFzdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBwYXJzZSA9IFNrLnBhcnNlKHRoaXMuZmlsZW5hbWUsIHRoaXMuY29kZSk7XG4gICAgICAgICAgICBhc3QgPSBTay5hc3RGcm9tUGFyc2UocGFyc2UuY3N0LCB0aGlzLmZpbGVuYW1lLCBwYXJzZS5mbGFncyk7XG4gICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMoYXN0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFJlcG9ydCB0aGUgZXJyb3JcbiAgICAgICAgICAgIHJlcG9ydFtcInBhcnNlclwiXSA9IHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJlcnJvclwiOiBlcnJvcixcbiAgICAgICAgICAgICAgICBcImVtcHR5XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiBsaW5lc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlbmFtZSwgdGhpcy5jb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdWNjZXNzZnVsIHBhcnNlXG4gICAgICAgIHJlcG9ydFtcInBhcnNlclwiXSA9IHtcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJhc3RcIjogYXN0LFxuICAgICAgICAgICAgXCJlbXB0eVwiOiBhc3QuYm9keS5sZW5ndGggPT09IDAsXG4gICAgICAgICAgICBcImxpbmVzXCI6IGxpbmVzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHNob3dFcnJvcnMoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGlmIChyZXBvcnRbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrLmNsZWFyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5wcmVzZW50UnVuRXJyb3IocmVwb3J0LnN0dWRlbnQuZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdmlkZVNlY3JldEVycm9yKCkge1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBsZXQgZmVlZGJhY2sgPSB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjaztcbiAgICAgICAgaWYgKCFyZXBvcnRbXCJzdHVkZW50XCJdLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBlcnJvckJ1dHRvbiA9IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktc3R1ZGVudC1lcnJvclwiKTtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gZmVlZGJhY2sucHJlc2VudFJ1bkVycm9yKHJlcG9ydC5zdHVkZW50LmVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIGVycm9yQnV0dG9uLmF0dHIoXCJ0aXRsZVwiLCBcIkNsaWNrIHRvIHNlZSBPcmlnaW5hbCBFcnJvclwiKTtcbiAgICAgICAgICAgIGVycm9yQnV0dG9uLnRvb2x0aXAoe1widHJpZ2dlclwiOiBcImhvdmVyXCIsIFwiY29udGFpbmVyXCI6IHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmF0dGFjaG1lbnRQb2ludH0pO1xuICAgICAgICAgICAgZXJyb3JCdXR0b24uY2xpY2soKCkgPT4gdGhpcy5tYWluLmNvbXBvbmVudHMuZGlhbG9nLkVSUk9SX1NIT1dfU1RVREVOVF9FUlJPUihtZXNzYWdlKSk7XG4gICAgICAgICAgICBlcnJvckJ1dHRvbi5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHtTdHVkZW50Q29uZmlndXJhdGlvbn0gZnJvbSBcIi4vc3R1ZGVudFwiO1xuaW1wb3J0IHtTdGF0dXNTdGF0ZX0gZnJvbSBcIi4uL3NlcnZlclwiO1xuXG5leHBvcnQgY2xhc3MgUnVuQ29uZmlndXJhdGlvbiBleHRlbmRzIFN0dWRlbnRDb25maWd1cmF0aW9uIHtcbiAgICB1c2UoZW5naW5lKSB7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uZmVlZGJhY2subWVzc2FnZShcIlJ1bm5pbmcuLi5cIik7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcImFuc3dlclwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb2RlKCk7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5zYXZlRmlsZShcImFuc3dlci5weVwiLCB0aGlzLmNvZGUsIG51bGwpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJDb21waWxlXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiYW5zd2VyLnB5XCIpO1xuXG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuXG4gICAgICAgIGVuZ2luZS5yZXNldCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhcnNlKCk7XG5cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzW1widmVyaWZpZXJcIl0gPSB7XG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogQm9vbGVhbih0aGlzLmNvZGUudHJpbSgpKSxcbiAgICAgICAgICAgIFwiY29kZVwiOiB0aGlzLmNvZGVcbiAgICAgICAgfTtcblxuICAgICAgICBTay5yZXRhaW5HbG9iYWxzID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5jbGVhcklucHV0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSdW4gc3VjY2Vzc1wiKTtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBcImlucHV0c1wiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0KCkuam9pbihcIlxcblwiKSxcbiAgICAgICAgICAgIFwib3V0cHV0c1wiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLm91dHB1dCgpLm1hcChsaW5lID0+IGxpbmUuY29udGVudCkuam9pbihcIlxcblwiKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiUnVuLlByb2dyYW1cIiwgXCJcIiwgXCJcIiwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksIFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZGlzcGxheS5kaXJ0eVN1Ym1pc3Npb24oZmFsc2UpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLmZpbmlzaFR1cnRsZXMoKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5nbG9iYWxzKFNrLmdsb2JhbHMpO1xuICAgICAgICBTay5nbG9iYWxzID0ge307XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5yZXN1bHRzID0gbW9kdWxlO1xuICAgICAgICBpZiAoIXRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVFdmFsdWF0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLmJlZ2luRXZhbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0ZXAobW9kdWxlLiRkLCBtb2R1bGUuJGQsLTEsIDAsIGZpbGVuYW1lICsgXCIucHlcIik7XG4gICAgICAgICAgICB0aGlzLmxhc3RTdGVwKCk7XG4gICAgICAgICAgICByZXBvcnRbXCJzdHVkZW50XCJdID0ge1xuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwidHJhY2VcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLFxuICAgICAgICAgICAgICAgIFwibGluZXNcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJyZWFsTGluZXNcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLmZpbHRlcih4ID0+ICF4LmlzRG9jc3RyaW5nKS5tYXAoeCA9PiB4LmxpbmUpLFxuICAgICAgICAgICAgICAgIFwicmVzdWx0c1wiOiBtb2R1bGUsXG4gICAgICAgICAgICAgICAgXCJvdXRwdXRcIjogdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5vdXRwdXQsXG4gICAgICAgICAgICAgICAgXCJpbnB1dFwiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmlucHV0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUnVuIGZhaWx1cmVcIik7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5zdGF0dXMub25FeGVjdXRpb24oU3RhdHVzU3RhdGUuRkFJTEVEKTtcbiAgICAgICAgbGV0IHJlcG9ydCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24ucmVwb3J0cztcbiAgICAgICAgaWYgKHJlcG9ydC5wYXJzZXIuc3VjY2VzcyAmJiByZXBvcnQudmVyaWZpZXIuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLmxvZ0V2ZW50KFwiQ29tcGlsZS5FcnJvclwiLCBcIlwiLCBcIlwiLCBlcnJvci50b1N0cmluZygpLCBcImFuc3dlci5weVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlJ1bi5Qcm9ncmFtXCIsIFwiUHJvZ3JhbUVycm9yT3V0cHV0XCIsIFwiXCIsIGVycm9yLnRvU3RyaW5nKCksIFwiYW5zd2VyLnB5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXBvcnRbXCJzdHVkZW50XCJdID0ge1xuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBcImVycm9yXCI6IGVycm9yLFxuICAgICAgICAgICAgICAgIFwibGluZXNcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJyZWFsTGluZXNcIjogdGhpcy5lbmdpbmUuZXhlY3V0aW9uQnVmZmVyLnRyYWNlLmZpbHRlcih4ID0+ICF4LmlzRG9jc3RyaW5nKS5tYXAoeCA9PiB4LmxpbmUpLFxuICAgICAgICAgICAgICAgIFwiaW5wdXRcIjogdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnB1dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IHtTdHVkZW50Q29uZmlndXJhdGlvbn0gZnJvbSBcIi4vc3R1ZGVudFwiO1xuaW1wb3J0IHtTdGF0dXNTdGF0ZX0gZnJvbSBcIi4uL3NlcnZlclwiO1xuaW1wb3J0IHtCbG9ja1B5VHJhY2V9IGZyb20gXCIuLi90cmFjZVwiO1xuXG5leHBvcnQgY2xhc3MgRXZhbENvbmZpZ3VyYXRpb24gZXh0ZW5kcyBTdHVkZW50Q29uZmlndXJhdGlvbiB7XG4gICAgdXNlKGVuZ2luZSwgY29kZSkge1xuICAgICAgICAvLyBUT0RPOiBmaXggdG8gYmUgY3VycmVudGx5IGFkZGVkIGxpbmVcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5tZXNzYWdlKFwiUnVubmluZy4uLlwiKTtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IFwiYW5zd2VyXCI7XG4gICAgICAgIHRoaXMuY29kZSA9IFwiXyA9IFwiICsgY29kZTtcbiAgICAgICAgU2suYWZ0ZXJTaW5nbGVFeGVjdXRpb24gPSBudWxsO1xuXG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuXG4gICAgICAgIFNrLnJldGFpbkdsb2JhbHMgPSB0cnVlO1xuICAgICAgICBTay5nbG9iYWxzID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmdsb2JhbHMoKTtcblxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLUZpbGUuQWRkXCIsIFwiXCIsIFwiXCIsIGNvZGUsIFwiZXZhbHVhdGlvbnNcIik7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIkNvbXBpbGVcIiwgXCJcIiwgXCJcIiwgdGhpcy5jb2RlLCBcImV2YWx1YXRpb25zXCIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1Y2Nlc3MobW9kdWxlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZhbCBzdWNjZXNzXCIpO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLUV2YWx1YXRlLlByb2dyYW1cIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJldmFsdWF0aW9uc1wiKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5nbG9iYWxzKFNrLmdsb2JhbHMpO1xuICAgICAgICBTay5nbG9iYWxzID0ge307XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uc3R1ZGVudC5yZXN1bHRzID0gbW9kdWxlO1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLnByaW50VmFsdWUoU2suZmZpLnJlbWFwVG9Kcyhtb2R1bGUuJGQuXy4kcigpKSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvL3RoaXMuc3RlcChtb2R1bGUuJGQsIG1vZHVsZS4kZCwtMSwgMCwgZmlsZW5hbWUgKyBcIi5weVwiKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFN0ZXAoKTtcbiAgICAgICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJ0cmFjZVwiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UsXG4gICAgICAgICAgICAgICAgXCJsaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UubWFwKHggPT4geC5saW5lKSxcbiAgICAgICAgICAgICAgICBcInJlYWxMaW5lc1wiOiB0aGlzLmVuZ2luZS5leGVjdXRpb25CdWZmZXIudHJhY2UuZmlsdGVyKHggPT4gIXguaXNEb2NzdHJpbmcpLm1hcCh4ID0+IHgubGluZSksXG4gICAgICAgICAgICAgICAgXCJyZXN1bHRzXCI6IG1vZHVsZSxcbiAgICAgICAgICAgICAgICBcIm91dHB1dFwiOiB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLm91dHB1dCxcbiAgICAgICAgICAgICAgICBcImV2YWx1YXRpb25cIjogdGhpcy5jb2RlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZhbCBmYWlsdXJlXCIpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkZBSUxFRCk7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIHRoaXMubWFpbi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIkNvbXBpbGUuRXJyb3JcIiwgXCJcIiwgXCJcIiwgZXJyb3IudG9TdHJpbmcoKSwgXCJldmFsdWF0aW9uc1wiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlcG9ydFtcInN0dWRlbnRcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgICAgICAgICAgXCJldmFsdWF0aW9uXCI6IHRoaXMuY29kZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IHtJbnN0cnVjdG9yQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vaW5zdHJ1Y3RvclwiO1xuXG5leHBvcnQgY2xhc3MgT25DaGFuZ2VDb25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIm9uX2NoYW5nZS5weVwiO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZSgpO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1haW4ubW9kZWwuZGlzcGxheS50cmlnZ2VyT25DaGFuZ2UpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0iLCJpbXBvcnQge0luc3RydWN0b3JDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9pbnN0cnVjdG9yXCI7XG5pbXBvcnQge1N0YXR1c1N0YXRlfSBmcm9tIFwiLi4vc2VydmVyXCI7XG5pbXBvcnQge05FV19MSU5FX1JFR0VYfSBmcm9tIFwiLi9vbl9ydW5cIjtcbmltcG9ydCB7aW5kZW50fSBmcm9tIFwiLi4vdXRpbGl0aWVzXCI7XG5cbi8qKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgV1JBUF9JTlNUUlVDVE9SX0NPREUgPSBmdW5jdGlvbiAoc3R1ZGVudENvZGUsIGluc3RydWN0b3JDb2RlLCBxdWljaywgaXNTYWZlKSB7XG4gICAgbGV0IHNhZmVDb2RlID0gSlNPTi5zdHJpbmdpZnkoc3R1ZGVudENvZGUpO1xuICAgIGxldCBpbmRlbnRlZENvZGUgPSBpbmRlbnQoaW5kZW50KGlzU2FmZSA/IHN0dWRlbnRDb2RlIDogXCJOb25lXCIpKTtcblxuICAgIHJldHVybiBgXG5mcm9tIHV0aWxpdHkgaW1wb3J0ICpcblxuIyBMb2FkIGluIHNvbWUgY29tbW9ubHkgdXNlZCB0b29sc1xuZnJvbSBwZWRhbC5jYWl0LmNhaXRfYXBpIGltcG9ydCBwYXJzZV9wcm9ncmFtXG5mcm9tIHBlZGFsLnNhbmRib3guY29tbWFuZHMgaW1wb3J0ICpcbmZyb20gcGVkYWwuY29yZS5jb21tYW5kcyBpbXBvcnQgKlxuXG4jIEJhY2t1cCB0aGUgZmVlZGJhY2tcbm9uX3J1bl9mZWVkYmFjayA9IFtdXG5mb3IgZmVlZGJhY2sgaW4gTUFJTl9SRVBPUlQuZmVlZGJhY2s6XG4gICAgb25fcnVuX2ZlZWRiYWNrLmFwcGVuZChmZWVkYmFjaylcbk1BSU5fUkVQT1JULmZlZWRiYWNrLmNsZWFyKClcblxuZnJvbSBwZWRhbC5lbnZpcm9ubWVudHMuYmxvY2tweSBpbXBvcnQgc2V0dXBfZW52aXJvbm1lbnRcbiMgQWRkIGluIGV2YWx1YXRlZCBzdHVmZiBmcm9tIGxhc3QgdGltZVxuc3R1ZGVudCA9IGdldF9zYW5kYm94KClcbiMgVE9ETzogV2hhdCBhYm91dCBuZXcgaW5wdXRzIHNpbmNlIHdlIGxhc3QgcmFuL2V2YWxlZD9cbk1BSU5fUkVQT1JULnN1Ym1pc3Npb24uZmlsZXNbJ2V2YWx1YXRpb24nXSA9ICR7c2FmZUNvZGV9XG5ldmFsdWF0ZSgke3NhZmVDb2RlfSlcblxuIyBUT0RPOiBSZWZhY3RvciByZXNvbHZlciB0byByZXR1cm4gaW5zdHJ1Y3Rpb25zXG4jIE1vbmtleS1wYXRjaCBxdWVzdGlvbnNcbiNmcm9tIHBlZGFsIGltcG9ydCBxdWVzdGlvbnNcbiNxdWVzdGlvbnMuc2hvd19xdWVzdGlvbiA9IHNldF9pbnN0cnVjdGlvbnNcblxuIyBSdW4gdGhlIGFjdHVhbCBpbnN0cnVjdG9yIGNvZGVcbiR7aW5zdHJ1Y3RvckNvZGV9XG5cbiMgUmVzb2x2ZSBldmVyeXRoaW5nXG5mcm9tIHBlZGFsLnJlc29sdmVycy5zaW1wbGUgaW1wb3J0IHJlc29sdmVcbmZpbmFsID0gcmVzb2x2ZSgpXG5TVUNDRVNTID0gZmluYWwuc3VjY2Vzc1xuU0NPUkUgPSBmaW5hbC5zY29yZVxuQ0FURUdPUlkgPSBmaW5hbC5jYXRlZ29yeVxuTEFCRUwgPSBmaW5hbC50aXRsZVxuTUVTU0FHRSA9IGZpbmFsLm1lc3NhZ2VcbkRBVEEgPSBmaW5hbC5kYXRhXG5ISURFID0gZmluYWwuaGlkZV9jb3JyZWN0bmVzc1xuXG4jIEhhbmRsZSBxdWVzdGlvbnNcbmlmIGZpbmFsLmluc3RydWN0aW9uczpcbiAgICBzZXRfaW5zdHJ1Y3Rpb25zKGZpbmFsLmluc3RydWN0aW9uc1stMV0ubWVzc2FnZSlcbiAgICBcbiMgSGFuZGxlIHBvc2l0aXZlIGZlZWRiYWNrXG5QT1NJVElWRSA9IFtdXG5mb3IgcG9zaXRpdmUgaW4gZmluYWwucG9zaXRpdmVzOlxuICAgIG1lc3NhZ2UgPSBwb3NpdGl2ZS5tZXNzYWdlXG4gICAgaWYgbm90IHBvc2l0aXZlOlxuICAgICAgICBtZXNzYWdlID0gcG9zaXRpdmUuZWxzZV9tZXNzYWdlXG4gICAgUE9TSVRJVkUuYXBwZW5kKHtcbiAgICAgICAgXCJ0aXRsZVwiOiBwb3NpdGl2ZS50aXRsZSxcbiAgICAgICAgXCJsYWJlbFwiOiBwb3NpdGl2ZS5sYWJlbCxcbiAgICAgICAgXCJtZXNzYWdlXCI6IG1lc3NhZ2VcbiAgICB9KVxuICAgIFxuIyBIYW5kbGUgc3lzdGVtIG1lc3NhZ2VzXG5mb3Igc3lzdGVtIGluIGZpbmFsLnN5c3RlbXM6XG4gICAgaWYgc3lzdGVtLmxhYmVsID09ICdsb2cnOlxuICAgICAgICBjb25zb2xlX2xvZyhzeXN0ZW0udGl0bGUsIHN5c3RlbS5tZXNzYWdlKTtcbiAgICBpZiBzeXN0ZW0ubGFiZWwgPT0gJ2RlYnVnJzpcbiAgICAgICAgY29uc29sZV9kZWJ1ZyhzeXN0ZW0udGl0bGUsIHN5c3RlbS5tZXNzYWdlKTtcblxuYDtcbn07XG5cbmV4cG9ydCBjbGFzcyBPbkV2YWxDb25maWd1cmF0aW9uIGV4dGVuZHMgSW5zdHJ1Y3RvckNvbmZpZ3VyYXRpb24ge1xuICAgIHVzZShlbmdpbmUpIHtcbiAgICAgICAgc3VwZXIudXNlKGVuZ2luZSk7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBcIl9pbnN0cnVjdG9yLm9uX2V2YWxcIjtcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsKCkgfHwgXCJcIjtcblxuICAgICAgICBsZXQgZGlzYWJsZVRpZmEgPSB0aGlzLm1haW4ubW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5kaXNhYmxlVGlmYSgpO1xuXG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHM7XG4gICAgICAgIGxldCBzdHVkZW50Q29kZVNhZmUgPSB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHMuc3R1ZGVudC5ldmFsdWF0aW9uIHx8IFwiTm9uZVwiO1xuICAgICAgICB0aGlzLmR1bW15T3V0U2FuZGJveCgpO1xuICAgICAgICBsZXQgaW5zdHJ1Y3RvckNvZGUgPSB0aGlzLmNvZGU7XG4gICAgICAgIGxldCBsaW5lT2Zmc2V0ID0gaW5zdHJ1Y3RvckNvZGUuc3BsaXQoTkVXX0xJTkVfUkVHRVgpLmxlbmd0aDtcbiAgICAgICAgbGV0IGlzU2FmZSA9ICFyZXBvcnRbXCJwYXJzZXJcIl0uZW1wdHkgJiYgcmVwb3J0W1widmVyaWZpZXJcIl0uc3VjY2VzcztcbiAgICAgICAgaW5zdHJ1Y3RvckNvZGUgPSBXUkFQX0lOU1RSVUNUT1JfQ09ERShzdHVkZW50Q29kZVNhZmUsIGluc3RydWN0b3JDb2RlLCBkaXNhYmxlVGlmYSwgaXNTYWZlKTtcbiAgICAgICAgbGluZU9mZnNldCA9IGluc3RydWN0b3JDb2RlLnNwbGl0KE5FV19MSU5FX1JFR0VYKS5sZW5ndGggLSBsaW5lT2Zmc2V0O1xuICAgICAgICByZXBvcnRbXCJpbnN0cnVjdG9yXCJdID0ge1xuICAgICAgICAgICAgXCJjb21wbGltZW50c1wiOiBbXSxcbiAgICAgICAgICAgIFwiZmlsZW5hbWVcIjogXCIuL19pbnN0cnVjdG9yL29uX2V2YWwucHlcIixcbiAgICAgICAgICAgIFwiY29kZVwiOiBpbnN0cnVjdG9yQ29kZSxcbiAgICAgICAgICAgIFwibGluZU9mZnNldFwiOiBsaW5lT2Zmc2V0XG4gICAgICAgICAgICAvLydjb21wbGV0ZSc6IGZhbHNlIC8vIEFjdHVhbGx5LCBsZXQncyB1c2UgdW5kZWZpbmVkIGZvciBub3cuXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29kZSA9IGluc3RydWN0b3JDb2RlO1xuXG4gICAgICAgIHN1cGVyLnVzZShlbmdpbmUpO1xuXG4gICAgICAgIC8vU2sucmV0YWluR2xvYmFscyA9IGZhbHNlO1xuICAgICAgICBTay5nbG9iYWxzID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5pbnN0cnVjdG9yLmdsb2JhbHM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3VjY2Vzcyhtb2R1bGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJPbkV2YWwgc3VjY2Vzc1wiKTtcbiAgICAgICAgLy8gVE9ETzogQWN0dWFsbHkgcGFyc2UgcmVzdWx0c1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLmluc3RydWN0b3IuZ2xvYmFscyA9IFNrLmdsb2JhbHM7XG4gICAgICAgIHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb24uaW5zdHJ1Y3Rvci5zeXNtb2R1bGVzID0gU2suc3lzbW9kdWxlcztcbiAgICAgICAgY29uc29sZS5sb2cobW9kdWxlKTtcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBtb2R1bGUuJGQub25fZXZhbC4kZDtcbiAgICAgICAgY29uc29sZS5sb2cobW9kdWxlLiRkKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEZlZWRiYWNrKHJlc3VsdHMpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuZXhlY3V0aW9uLnJlcG9ydHNbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IHRydWU7XG4gICAgICAgIGxldCBzdWNjZXNzID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLlNVQ0NFU1MpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KHN1Y2Nlc3MgfHwgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uY29ycmVjdCgpKTtcbiAgICAgICAgLy8gQ2Fubm90IGV4Y2VlZCAxIHBvaW50LCBjYW5ub3QgZ28gYmVsb3cgMCBwb2ludHNcbiAgICAgICAgbGV0IHNjb3JlID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLlNDT1JFKTtcbiAgICAgICAgc2NvcmUgPSBNYXRoLm1heCgwLjAsIE1hdGgubWluKDEuMCwgc2NvcmUpKTtcbiAgICAgICAgbGV0IG9sZFNjb3JlID0gdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoKTtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN1Ym1pc3Npb24uc2NvcmUoTWF0aC5tYXgob2xkU2NvcmUsIHNjb3JlKSk7XG4gICAgICAgIC8vIEhpZGUgc3RhdHVzXG4gICAgICAgIGxldCBoaWRlID0gU2suZmZpLnJlbWFwVG9KcyhyZXN1bHRzLkhJREUpO1xuICAgICAgICAvLyBBbmQgZmlyZSB0aGUgcmVzdWx0IVxuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIudXBkYXRlU3VibWlzc2lvbihzY29yZSwgc3VjY2VzcywgaGlkZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICAgICAgLy9hZnRlcihtb2R1bGUpO1xuXG4gICAgICAgIC8qaWYgKHN1Y2Nlc3MgJiYgdGhpcy5tYWluLm1vZGVsLmNvbmZpZ3VyYXRpb24uY2FsbGJhY2tzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMubWFpbi5tb2RlbC5jb25maWd1cmF0aW9uLmNhbGxiYWNrcy5zdWNjZXNzKHRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LmlkKCkpO1xuICAgICAgICB9Ki9cblxuICAgICAgICBpZiAoIVNrLmV4ZWN1dGlvblJlcG9ydHMuaW5zdHJ1Y3Rvci5zY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmFpbHVyZShlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk9uRXZhbCBmYWlsdXJlXCIpO1xuICAgICAgICBsZXQgcmVwb3J0ID0gdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5yZXBvcnRzO1xuICAgICAgICBpZiAoZXJyb3IudHAkbmFtZSA9PT0gXCJHcmFjZWZ1bEV4aXRcIikge1xuICAgICAgICAgICAgcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5SRUFEWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkZBSUxFRCk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcG9ydFtcImluc3RydWN0b3JcIl1bXCJjb2RlXCJdKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEludGVybmFsRXJyb3IoZXJyb3IsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wic3VjY2Vzc1wiXSA9IGZhbHNlO1xuICAgICAgICAgICAgLy9yZXBvcnRbXCJpbnN0cnVjdG9yXCJdW1wiZXJyb3JcIl0gPSBlcnJvcjtcbiAgICAgICAgICAgIC8vVE9ETzogcmVwb3J0W1wiaW5zdHJ1Y3RvclwiXVtcImxpbmVfb2Zmc2V0XCJdID0gbGluZU9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICAvL1RPRE86IGFmdGVyKGVycm9yKTtcbiAgICB9XG59IiwiaW1wb3J0IHtTdGF0dXNTdGF0ZX0gZnJvbSBcIi4vc2VydmVyXCI7XG5pbXBvcnQge09uUnVuQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vZW5naW5lL29uX3J1blwiO1xuaW1wb3J0IHtSdW5Db25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvcnVuXCI7XG5pbXBvcnQge0V2YWxDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvZXZhbFwiO1xuaW1wb3J0IHtTYW1wbGVDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvc2FtcGxlXCI7XG5pbXBvcnQge09uQ2hhbmdlQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vZW5naW5lL29uX2NoYW5nZVwiO1xuaW1wb3J0IHtPbkV2YWxDb25maWd1cmF0aW9ufSBmcm9tIFwiLi9lbmdpbmUvb25fZXZhbFwiO1xuaW1wb3J0IHtPblNhbXBsZUNvbmZpZ3VyYXRpb259IGZyb20gXCIuL2VuZ2luZS9vbl9zYW1wbGVcIjtcblxuLyoqXG4gKiBBbiBvYmplY3QgZm9yIGV4ZWN1dGluZyBQeXRob24gY29kZSBhbmQgcGFzc2luZyB0aGUgcmVzdWx0cyBhbG9uZyB0byBpbnRlcmVzdGVkIGNvbXBvbmVudHMuXG4gKlxuICogSW50ZXJlc3RpbmcgY29tcG9uZW50czpcbiAqICBFeGVjdXRpb24gQnVmZmVyOiBSZXNwb25zaWJsZSBmb3IgY29sbGVjdGluZyB0aGUgdHJhY2UgZHVyaW5nIHByb2dyYW0gZXhlY3V0aW9uLlxuICogICAgICAgICAgICAgICAgICAgIFRoaXMgcHJldmVudHMgS25vY2tvdXRqcyBmcm9tIHVwZGF0aW5nIHRoZSBlZGl0b3IgZHVyaW5nIGV4ZWN1dGlvbi5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEB0aGlzIHtCbG9ja1B5RWRpdG9yfVxuICogQHBhcmFtIHtPYmplY3R9IG1haW4gLSBUaGUgbWFpbiBCbG9ja1B5IGluc3RhbmNlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWcgLSBUaGUgSFRNTCBvYmplY3QgdGhpcyBpcyBhdHRhY2hlZCB0by5cbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2NrUHlFbmdpbmUge1xuICAgIGNvbnN0cnVjdG9yKG1haW4pIHtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICAgICAgdGhpcy5leGVjdXRpb25Nb2RlbCA9IHRoaXMubWFpbi5tb2RlbC5leGVjdXRpb247XG5cbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9ucyA9IHtcbiAgICAgICAgICAgIHJ1bjogbmV3IFJ1bkNvbmZpZ3VyYXRpb24obWFpbiksXG4gICAgICAgICAgICBldmFsOiBuZXcgRXZhbENvbmZpZ3VyYXRpb24obWFpbiksXG4gICAgICAgICAgICBvblJ1bjogbmV3IE9uUnVuQ29uZmlndXJhdGlvbihtYWluKSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBuZXcgT25DaGFuZ2VDb25maWd1cmF0aW9uKG1haW4pLFxuICAgICAgICAgICAgb25FdmFsOiBuZXcgT25FdmFsQ29uZmlndXJhdGlvbihtYWluKVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFByZWNvbmZpZ3VyZSBza3VscHQgc28gd2UgY2FuIHBhcnNlXG4gICAgICAgIFNrLmNvbmZpZ3VyZSh0aGlzLmNvbmZpZ3VyYXRpb25zLnJ1bi5nZXRTa3VscHRPcHRpb25zKCkpO1xuXG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSB0cmFjaW5nIHdoaWxlIHRoZSBwcm9ncmFtIGlzIGV4ZWN1dGluZ1xuICAgICAgICB0aGlzLmV4ZWN1dGlvbkJ1ZmZlciA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmFibGUgZnVuY3Rpb24gdG8gYmUgcnVuIHdoZW4gZXhlY3V0aW9uIGhhcyBmdWxseSBlbmRlZCxcbiAgICAgICAgICogd2hldGhlciBpdCBzdWNjZWVkcyBvciBmYWlscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FeGVjdXRpb25CZWdpbiA9IG51bGw7XG4gICAgICAgIHRoaXMub25FeGVjdXRpb25FbmQgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHJlcG9ydHNcbiAgICAgKi9cbiAgICByZXNldFJlcG9ydHMoKSB7XG4gICAgICAgIGxldCByZXBvcnQgPSB0aGlzLmV4ZWN1dGlvbk1vZGVsLnJlcG9ydHM7XG4gICAgICAgIHJlcG9ydFtcInZlcmlmaWVyXCJdID0ge307XG4gICAgICAgIHJlcG9ydFtcInBhcnNlclwiXSA9IHt9O1xuICAgICAgICByZXBvcnRbXCJzdHVkZW50XCJdID0ge307XG4gICAgICAgIHJlcG9ydFtcImluc3RydWN0b3JcIl0gPSB7fTtcbiAgICAgICAgcmVwb3J0W1wibW9kZWxcIl0gPSB0aGlzLm1haW4ubW9kZWw7XG4gICAgfTtcblxuICAgIHJlc2V0U3R1ZGVudE1vZGVsKCkge1xuICAgICAgICBsZXQgc3R1ZGVudCA9IHRoaXMuZXhlY3V0aW9uTW9kZWwuc3R1ZGVudDtcbiAgICAgICAgc3R1ZGVudC5jdXJyZW50U3RlcChudWxsKTtcbiAgICAgICAgc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKDApO1xuICAgICAgICBzdHVkZW50Lmxhc3RTdGVwKDApO1xuICAgICAgICBzdHVkZW50LmN1cnJlbnRMaW5lKG51bGwpO1xuICAgICAgICBzdHVkZW50LmN1cnJlbnRUcmFjZURhdGEucmVtb3ZlQWxsKCk7XG4gICAgICAgIHN0dWRlbnQucmVzdWx0cyA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVzZXRFeGVjdXRpb25CdWZmZXIoKSB7XG4gICAgICAgIHRoaXMuZXhlY3V0aW9uQnVmZmVyID0ge1xuICAgICAgICAgICAgXCJ0cmFjZVwiOiBbXSxcbiAgICAgICAgICAgIFwic3RlcFwiOiAwLFxuICAgICAgICAgICAgXCJsaW5lXCI6IDAsXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgaW50ZXJmYWNlIGFzcGVjdHMgb2YgdGhlIHByZXZpb3VzIFJ1bi5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgLy8gVE9ETzogQ2xlYXIgb3V0IGFueSBjb3ZlcmFnZS90cmFjZS9lcnJvciBoaWdobGlnaHRzIGluIGVkaXRvcnNcbiAgICAgICAgLy8gUmVzZXQgZXhlY3V0aW9uIGluIG1vZGVsXG4gICAgICAgIHRoaXMucmVzZXRTdHVkZW50TW9kZWwoKTtcbiAgICAgICAgLy8gR2V0IHJlcG9ydHMgcmVhZHlcbiAgICAgICAgdGhpcy5yZXNldFJlcG9ydHMoKTtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IHRoZSBleGVjdXRpb24gYnVmZmVyXG4gICAgICAgIHRoaXMucmVzZXRFeGVjdXRpb25CdWZmZXIoKTtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IHRoZSBjb25zb2xlIG9mIHByaW50ZWQgc3R1ZmZcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuY29uc29sZS5jbGVhcigpO1xuICAgICAgICAvLyBDbGVhciBvdXQgYW55IG9sZCBmZWVkYmFja1xuICAgICAgICB0aGlzLm1haW4uY29tcG9uZW50cy5mZWVkYmFjay5jbGVhcigpO1xuICAgIH1cblxuICAgIGRlbGF5ZWRSdW4oKSB7XG4gICAgICAgIC8vdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICAvLyQoXCIuYmxvY2tweS1ydW5cIikuYWRkQ2xhc3MoXCJibG9ja3B5LXJ1bi1ydW5uaW5nXCIpO1xuICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICAvL3NldFRpbWVvdXQodGhpcy5ydW4uYmluZCh0aGlzKSwgMSk7XG4gICAgfVxuXG4gICAgcnVuKCkge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25zLnJ1bi51c2UodGhpcyk7XG4gICAgICAgIGxldCBleGVjdXRpb24gPSB0aGlzLmV4ZWN1dGUoKS50aGVuKFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnN1Y2Nlc3MuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pLFxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLmZhaWx1cmUuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pXG4gICAgICAgICk7XG4gICAgICAgIGlmICghdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuZGlzYWJsZUZlZWRiYWNrKCkpIHtcbiAgICAgICAgICAgIGV4ZWN1dGlvbi50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24ucHJvdmlkZVNlY3JldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25SdW4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhlY3V0aW9uLnRoZW4odGhpcy5jb25maWd1cmF0aW9uLnNob3dFcnJvcnMuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUnVuKCkge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25zLm9uUnVuLnVzZSh0aGlzKTtcbiAgICAgICAgdGhpcy5leGVjdXRlKCkudGhlbihcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zdWNjZXNzLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKSxcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5mYWlsdXJlLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKVxuICAgICAgICApLnRoZW4odGhpcy5leGVjdXRpb25FbmRfLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKCkge1xuICAgICAgICB0aGlzLm1haW4ubW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKFN0YXR1c1N0YXRlLkFDVElWRSk7XG4gICAgICAgIGxldCBldmFsdWF0aW9uSW5wdXQgPSB0aGlzLm1haW4uY29tcG9uZW50cy5jb25zb2xlLmV2YWx1YXRlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGV2YWx1YXRpb25JbnB1dCk7XG4gICAgICAgIGV2YWx1YXRpb25JbnB1dC50aGVuKCh1c2VySW5wdXQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbnMuZXZhbC51c2UodGhpcywgdXNlcklucHV0KTtcbiAgICAgICAgICAgIGxldCBleGVjdXRpb24gPSB0aGlzLmV4ZWN1dGUoKS50aGVuKFxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zdWNjZXNzLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKSxcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24uZmFpbHVyZS5iaW5kKHRoaXMuY29uZmlndXJhdGlvbilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIXRoaXMubWFpbi5tb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmRpc2FibGVGZWVkYmFjaygpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLm1vZGVsLmFzc2lnbm1lbnQub25FdmFsKCkpIHtcbiAgICAgICAgICAgICAgICBleGVjdXRpb24udGhlbih0aGlzLm9uRXZhbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0aW9uLnRoZW4odGhpcy5jb25maWd1cmF0aW9uLnNob3dFcnJvcnMuYmluZCh0aGlzLmNvbmZpZ3VyYXRpb24pKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0aGlzLmV2YWx1YXRlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkV2YWwoKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbnMub25FdmFsLnVzZSh0aGlzKTtcbiAgICAgICAgdGhpcy5leGVjdXRlKCkudGhlbihcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zdWNjZXNzLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKSxcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5mYWlsdXJlLmJpbmQodGhpcy5jb25maWd1cmF0aW9uKVxuICAgICAgICApLnRoZW4odGhpcy5ldmFsdWF0ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gdGhpcy5jb25maWd1cmF0aW9ucy5vbkNoYW5nZS51c2UodGhpcyk7XG4gICAgfVxuXG4gICAgZXhlY3V0ZSgpIHtcbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLnN0YXR1cy5vbkV4ZWN1dGlvbihTdGF0dXNTdGF0ZS5BQ1RJVkUpO1xuICAgICAgICByZXR1cm4gU2subWlzY2V2YWwuYXN5bmNUb1Byb21pc2UoKCkgPT5cbiAgICAgICAgICAgIFNrLmltcG9ydE1haW5XaXRoQm9keSh0aGlzLmNvbmZpZ3VyYXRpb24uZmlsZW5hbWUsIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5jb2RlLCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zeXNtb2R1bGVzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlZCB3aGVuZXZlciB0aGUgUHl0aG9uIGNvZGUgY2hhbmdlc1xuICAgICAqL1xuICAgIG9uX2NoYW5nZSgpIHtcbiAgICAgICAgbGV0IEZJTEVOQU1FID0gXCJvbl9jaGFuZ2VcIjtcbiAgICAgICAgLy8gU2tpcCBpZiB0aGUgaW5zdHJ1Y3RvciBoYXMgbm90IGRlZmluZWQgYW55dGhpbmdcbiAgICAgICAgaWYgKCF0aGlzLm1haW4ubW9kZWwucHJvZ3JhbXNbRklMRU5BTUVdKCkudHJpbSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYWluLm1vZGVsLmV4ZWN1dGlvbi5zdGF0dXMoXCJjaGFuZ2luZ1wiKTtcbiAgICAgICAgdGhpcy5tYWluLmNvbXBvbmVudHMuc2VydmVyLnNhdmVDb2RlKCk7XG4gICAgICAgIC8vIE9uIHN0ZXAgZG9lcyBub3QgcGVyZm9ybSBwYXJzZSBhbmFseXNpcyBieSBkZWZhdWx0IG9yIHJ1biBzdHVkZW50IGNvZGVcbiAgICAgICAgbGV0IGVuZ2luZSA9IHRoaXM7XG4gICAgICAgIGxldCBmZWVkYmFjayA9IHRoaXMubWFpbi5jb21wb25lbnRzLmZlZWRiYWNrO1xuICAgICAgICBlbmdpbmUucmVzZXRSZXBvcnRzKCk7XG4gICAgICAgIGVuZ2luZS52ZXJpZnlDb2RlKCk7XG4gICAgICAgIGVuZ2luZS51cGRhdGVQYXJzZSgpO1xuICAgICAgICBlbmdpbmUucnVuSW5zdHJ1Y3RvckNvZGUoRklMRU5BTUUsIHRydWUsIGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICAgICAgICAgIGlmIChTay5leGVjdXRpb25SZXBvcnRzW1wiaW5zdHJ1Y3RvclwiXVtcInN1Y2Nlc3NcIl0pIHtcbiAgICAgICAgICAgICAgICAvLyBTVUNDRVNTLCBTQ09SRSwgQ0FURUdPUlksIExBQkVMLCBNRVNTQUdFLCBEQVRBLCBISURFXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogb25seSBzaG93IHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlc1xuICAgICAgICAgICAgICAgIGlmICghc3VjY2VzcyAmJlxuICAgICAgICAgICAgICAgICAgICAhKGNhdGVnb3J5ID09PSBcIkluc3RydWN0b3JcIiAmJiBsYWJlbCA9PT0gXCJObyBlcnJvcnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZmVlZGJhY2sucHJlc2VudEZlZWRiYWNrKGNhdGVnb3J5LCBsYWJlbCwgbWVzc2FnZSwgbGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVuZ2luZS5tYWluLmNvbXBvbmVudHMuZmVlZGJhY2sucHJlc2VudEZlZWRiYWNrKG1vZHVsZS4kZCk7XG4gICAgICAgICAgICAgICAgZW5naW5lLm1haW4ubW9kZWwuZXhlY3V0aW9uLnN0YXR1cyhcImNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZW5naW5lLm1haW4uY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJlbmdpbmVcIiwgXCJvbl9jaGFuZ2VcIik7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgd2lsbCBhdHRlbXB0IHRvIGNhbGwgdGhlIGRlZmluZWQgb25FeGVjdXRpb25FbmQsXG4gICAgICogYnV0IHdpbGwgZG8gbm90aGluZyBpZiB0aGVyZSBpcyBubyBmdW5jdGlvbiBkZWZpbmVkLlxuICAgICAqL1xuICAgIGV4ZWN1dGlvbkVuZF8oKSB7XG4gICAgICAgIGlmICh0aGlzLm9uRXhlY3V0aW9uRW5kICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXhlY3V0aW9uRW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGV4ZWN1dGlvbkJlZ2luXygpIHtcbiAgICAgICAgaWYgKHRoaXMub25FeGVjdXRpb25CZWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5vbkV4ZWN1dGlvbkJlZ2luKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFN0YXJ0aW5nIHBvaW50IG9mIHRoZSBCbG9ja1B5IGFwcGxpY2F0aW9uLCBjb250YWluaW5nIHRoZSBtYWluXG4gKiBCbG9ja1B5IGNsYXNzLlxuICovXG5pbXBvcnQgXCIuL2Nzcy9ibG9ja3B5LmNzc1wiO1xuaW1wb3J0IFwiLi9jc3MvYm9vdHN0cmFwX3JldGhlbWUuY3NzXCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgeyRidWlsdGlubW9kdWxlfSBmcm9tIFwic2t1bHB0X21vZHVsZXMvaW1hZ2VcIjtcbmltcG9ydCB7TG9jYWxTdG9yYWdlV3JhcHBlcn0gZnJvbSBcInN0b3JhZ2UuanNcIjtcbmltcG9ydCB7RWRpdG9yc0VudW19IGZyb20gXCJlZGl0b3JzLmpzXCI7XG5pbXBvcnQge0Rpc3BsYXlNb2Rlc30gZnJvbSBcImVkaXRvci9weXRob24uanNcIjtcbmltcG9ydCB7U3RhdHVzU3RhdGV9IGZyb20gXCJzZXJ2ZXIuanNcIjtcbmltcG9ydCB7bWFrZUludGVyZmFjZSwgbWFrZUV4dHJhSW50ZXJmYWNlU3Vic2NyaXB0aW9ucywgU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zfSBmcm9tIFwiaW50ZXJmYWNlLmpzXCI7XG5pbXBvcnQge0VkaXRvcnN9IGZyb20gXCJlZGl0b3JzLmpzXCI7XG5pbXBvcnQge1xuICAgIEJsb2NrUHlGaWxlU3lzdGVtLFxuICAgIGxvYWRDb25jYXRlbmF0ZWRGaWxlLFxuICAgIG1ha2VNb2RlbEZpbGUsXG4gICAgb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUsXG4gICAgVU5ERUxFVEFCTEVfRklMRVMsXG4gICAgVU5SRU5BTUFCTEVfRklMRVNcbn0gZnJvbSBcIi4vZmlsZXNcIjtcbmltcG9ydCB7dXBsb2FkRmlsZSwgZG93bmxvYWRGaWxlfSBmcm9tIFwiLi9lZGl0b3IvYWJzdHJhY3RfZWRpdG9yXCI7XG5pbXBvcnQge0Jsb2NrUHlFbmdpbmV9IGZyb20gXCJlbmdpbmUuanNcIjtcbmltcG9ydCB7QmxvY2tQeVRyYWNlfSBmcm9tIFwiLi90cmFjZVwiO1xuaW1wb3J0IHtCbG9ja1B5Q29uc29sZX0gZnJvbSBcIi4vY29uc29sZVwiO1xuaW1wb3J0IHtCbG9ja1B5RmVlZGJhY2t9IGZyb20gXCJmZWVkYmFjay5qc1wiO1xuaW1wb3J0IHtCbG9ja1B5U2VydmVyfSBmcm9tIFwiLi9zZXJ2ZXJcIjtcbmltcG9ydCB7QmxvY2tQeURpYWxvZ30gZnJvbSBcIi4vZGlhbG9nXCI7XG5pbXBvcnQge2xvYWRBc3NpZ25tZW50U2V0dGluZ3MsIG1ha2VBc3NpZ25tZW50U2V0dGluZ3NNb2RlbH0gZnJvbSBcIi4vZWRpdG9yL2Fzc2lnbm1lbnRfc2V0dGluZ3NcIjtcbmltcG9ydCB7QmxvY2tQeUNvcmdpcywgX0lNUE9SVEVEX0NPTVBMRVRFX0RBVEFTRVRTLCBfSU1QT1JURURfREFUQVNFVFN9IGZyb20gXCIuL2Nvcmdpc1wiO1xuaW1wb3J0IHtCbG9ja1B5SGlzdG9yeX0gZnJvbSBcIi4vaGlzdG9yeVwiO1xuaW1wb3J0IHtjYXBpdGFsaXplfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuZXhwb3J0IHtfSU1QT1JURURfQ09NUExFVEVfREFUQVNFVFMsIF9JTVBPUlRFRF9EQVRBU0VUU307XG5cbi8qKlxuICogTWFqb3IgZW50cnkgcG9pbnQgZm9yIGNyZWF0aW5nIGEgQmxvY2tQeSBpbnN0YW5jZS5cbiAqIFR3byBtb3N0IGltcG9ydGFudCBmaWVsZHMgYXJlIGBtb2RlbGAgYW5kIGBjb21wb25lbnRzYC5cbiAqIFRoZSBgbW9kZWxgIGhvbGRzIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgaW50ZXJmYWNlLlxuICogVGhlIGBjb21wb25lbnRzYCBhcmUgcmVmZXJlbmNlcyB0byB0aGUgZGlzcGFyYXRlIHBhcnRzIG9mIEJsb2NrUHkuXG4gKlxuICogTW9zdCBvZiB0aGlzIGNsYXNzZXMgZGVmaW5pdGlvbiBpcyBqdXN0IGluaXRpYWxpemluZyB0aGUgbW9kZWwgYW5kIHVwZGF0aW5nXG4gKiBpdCBvbiBhbiBhc3NpZ25tZW50IHN3aXRjaC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2NrUHkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWd1cmF0aW9uIC0gVXNlciBsZXZlbCBzZXR0aW5ncyAoZS5nLiwgd2hhdCBlZGl0b3IgbW9kZSwgd2hldGhlciB0byBtdXRlIHNlbWFudGljIGVycm9ycywgZXRjLilcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXNzaWdubWVudCAtIEFzc2lnbm1lbnQgbGV2ZWwgc2V0dGluZ3MgKGRhdGEgYWJvdXQgdGhlIGxvYWRlZCBhc3NpZ25tZW50LCB1c2VyLCBzdWJtaXNzaW9uLCBldGMuKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdWJtaXNzaW9uIC0gSW5jbHVkZXMgdGhlIHNvdXJjZSBjb2RlIG9mIGFueSBwcm9ncmFtcyB0byBiZSBsb2FkZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uLCBhc3NpZ25tZW50LCBzdWJtaXNzaW9uKSB7XG4gICAgICAgIHRoaXMuaW5pdE1vZGVsKGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBpZiAoYXNzaWdubWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldEFzc2lnbm1lbnQoY29uZmlndXJhdGlvbiwgYXNzaWdubWVudCwgc3VibWlzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0TWFpbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBCbG9ja1B5IG9iamVjdCBieSBpbml0aWFsaXppbmcgaXRzIGludGVyZmFjZSxcbiAgICAgKiBtb2RlbCwgYW5kIGNvbXBvbmVudHMuXG4gICAgICpcbiAgICAgKi9cbiAgICBpbml0TWFpbigpIHtcbiAgICAgICAgdGhpcy5pbml0VXRpbGl0aWVzKCk7XG4gICAgICAgIHRoaXMuaW5pdE1vZGVsTWV0aG9kcygpO1xuICAgICAgICB0aGlzLnR1cm5PbkhhY2tzKCk7XG4gICAgICAgIHRoaXMuaW5pdEludGVyZmFjZSgpO1xuICAgICAgICB0aGlzLmFwcGx5TW9kZWwoKTtcbiAgICAgICAgdGhpcy5pbml0Q29tcG9uZW50cygpO1xuICAgICAgICB0aGlzLm1ha2VFeHRyYVN1YnNjcmlwdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBkZWZhdWx0IHZhbHVlIG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIHRoZSBrZXkgdG8gbG9vayB1cCBhIHZhbHVlIGZvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0VmFsdWUgLSBpZiB0aGUga2V5IGlzIG5vdCBmb3VuZCBhbnl3aGVyZSwgdXNlIHRoaXMgdmFsdWVcbiAgICAgKi9cbiAgICBnZXRTZXR0aW5nKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uX1trZXldO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubG9jYWxTZXR0aW5nc18uaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsU2V0dGluZ3NfLmdldChrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBtb2RlbCB0byBpdHMgZGVmYXVsdHMuXG4gICAgICpcbiAgICAgKiBDYXRlZ29yaWVzOlxuICAgICAqICAgKiB1c2VyOiB2YWx1ZXMgZm9yIHRoZSBjdXJyZW50IHVzZXIgKHN0b3JlZCB0byBzZXJ2ZXIpXG4gICAgICogICAqIGFzc2lnbm1lbnQ6IHZhbHVlcyBmb3IgdGhlIGN1cnJlbnQgYXNzaWdubWVudCAoc3RvcmVkIHRvIHNlcnZlcilcbiAgICAgKiAgICogc3VibWlzc2lvbjogdmFsdWVzIGZvciB0aGUgY3VycmVudCBzdWJtaXNzaW9uIChzdG9yZWQgdG8gc2VydmVyKVxuICAgICAqICAgKiBkaXNwbGF5OiBmbGFncyByZWxhdGVkIHRvIGN1cnJlbnQgdmlzaWJpbGl0eSAoc3RvcmVkIHRvIGxvY2FsU2V0dGluZ3MpXG4gICAgICogICAqIHN0YXR1czogbWVzc2FnZXMgcmVsYXRlZCB0byBjdXJyZW50IHN0YXR1cyAobm90IHN0b3JlZClcbiAgICAgKiAgICogZXhlY3V0aW9uOiB2YWx1ZXMgcmVsYXRlZCB0byBsYXN0IHJ1biAobm90IHN0b3JlZClcbiAgICAgKiAgICogY29uZmlndXJhdGlvbjogY29uc3RhbnQgdmFsdWVzIHJlbGF0ZWQgdG8gc2V0dXAgKG5vdCBzdG9yZWQpXG4gICAgICovXG4gICAgaW5pdE1vZGVsKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgLy8gQ29ubmVjdCB0byBsb2NhbCBzdG9yYWdlXG4gICAgICAgIHRoaXMubG9jYWxTZXR0aW5nc18gPSBuZXcgTG9jYWxTdG9yYWdlV3JhcHBlcihcImxvY2FsU2V0dGluZ3NcIik7XG4gICAgICAgIHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fID0gY29uZmlndXJhdGlvbjtcblxuICAgICAgICB0aGlzLm1vZGVsID0ge1xuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgIGlkOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJ1c2VyLmlkXCJdKSxcbiAgICAgICAgICAgICAgICBuYW1lOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJ1c2VyLm5hbWVcIl0pLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgeW91IGFyZSBhbiBPd25lciAoY2FuIG1vZGlmeSB0aGUgYXNzaWdubWVudCksIEdyYWRlciAoY2FuIHZpZXdcbiAgICAgICAgICAgICAgICAgKiB0aGUgYXNzaWdubWVudHMnIGluZm9ybWF0aW9uKSBvciBTdHVkZW50IChjYW4gbm90IHNlZSBhbnkgaW5zdHJ1Y3RvciBzdHVmZikuXG4gICAgICAgICAgICAgICAgICogQHR5cGUge2Jvb2x9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcm9sZToga28ub2JzZXJ2YWJsZSh0aGlzLmdldFNldHRpbmcoXCJ1c2VyLnJvbGVcIiwgXCJvd25lclwiKSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3VycmVudCBjb3Vyc2UgZm9yIHRoaXMgdXNlclxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvdXJzZUlkOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJ1c2VyLmNvdXJzZV9pZFwiXSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3VycmVudCBhc3NpZ25tZW50IGdyb3VwIHRoYXQgdGhpcyB1c2VyIGlzIGluc2lkZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcInVzZXIuZ3JvdXBfaWRcIl0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXNzaWdubWVudDoge1xuICAgICAgICAgICAgICAgIGlkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIG5hbWU6IGtvLm9ic2VydmFibGUoXCJTY3JhdGNoIENhbnZhc1wiKSxcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnM6IGtvLm9ic2VydmFibGUoXCJXZWxjb21lIHRvIEJsb2NrUHkuIFRyeSBlZGl0aW5nIGFuZCBydW5uaW5nIHRoZSBjb2RlIGJlbG93LlwiKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGUgaHVtYW4tZnJpZW5kbHkgVVJMIHRvIHVzZSBhcyBhIHNob3J0Y3V0IGZvciB0aGlzIGFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB1cmw6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2FybmluZyBtZXNzYWdlIGlmIG1hemVcbiAgICAgICAgICAgICAgICB0eXBlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nQ29kZToga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5zdGFydGluZ19jb2RlXCJdIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAgIG9uUnVuOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50Lm9uX3J1blwiXSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgICBvbkNoYW5nZToga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5vbl9jaGFuZ2VcIl0gfHwgbnVsbCksXG4gICAgICAgICAgICAgICAgb25FdmFsOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50Lm9uX2V2YWxcIl0gfHwgbnVsbCksXG4gICAgICAgICAgICAgICAgZXh0cmFJbnN0cnVjdG9yRmlsZXM6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgZXh0cmFTdGFydGluZ0ZpbGVzOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgIGZvcmtlZElkOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIGZvcmtlZFZlcnNpb246IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgb3duZXJJZDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICBjb3Vyc2VJZDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIHRhZ3M6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgc2FtcGxlU3VibWlzc2lvbnM6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgcmV2aWV3ZWQ6IGtvLm9ic2VydmFibGUoY29uZmlndXJhdGlvbltcImFzc2lnbm1lbnQucmV2aWV3ZWRcIl0pLFxuICAgICAgICAgICAgICAgIHB1YmxpYzoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5wdWJsaWNcIl0pLFxuICAgICAgICAgICAgICAgIGhpZGRlbjoga28ub2JzZXJ2YWJsZShjb25maWd1cmF0aW9uW1wiYXNzaWdubWVudC5oaWRkZW5cIl0pLFxuICAgICAgICAgICAgICAgIGlwUmFuZ2VzOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJhc3NpZ25tZW50LmlwX3Jhbmdlc1wiXSksXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IG1ha2VBc3NpZ25tZW50U2V0dGluZ3NNb2RlbChjb25maWd1cmF0aW9uKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICAgICAgICBpZDoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICBjb2RlOiBrby5vYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb25bXCJzdWJtaXNzaW9uLmNvZGVcIl0gfHwgXCJcIiksXG4gICAgICAgICAgICAgICAgZXh0cmFGaWxlczoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICB1cmw6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgZW5kcG9pbnQ6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgc2NvcmU6IGtvLm9ic2VydmFibGUoMCksXG4gICAgICAgICAgICAgICAgY29ycmVjdDoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLy8gYXNzaWdubWVudElkIGluZmVycmVkIGZyb20gYXNzaWdubWVudC5pZFxuICAgICAgICAgICAgICAgIC8vIGNvdXJzZUlkIGluZmVycmVkIGZyb20gdXNlci5jb3Vyc2VJZFxuICAgICAgICAgICAgICAgIC8vIHVzZXJJZCBpbmZlcnJlZCBmcm9tIHVzZXIuaWRcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50VmVyc2lvbiBpbmZlcnJlZCBmcm9tIGFzc2lnbm1lbnQudmVyc2lvblxuICAgICAgICAgICAgICAgIHZlcnNpb246IGtvLm9ic2VydmFibGUoMCksXG4gICAgICAgICAgICAgICAgc3VibWlzc2lvblN0YXR1czoga28ub2JzZXJ2YWJsZShcIlN0YXJ0ZWRcIiksXG4gICAgICAgICAgICAgICAgZ3JhZGluZ1N0YXR1czoga28ub2JzZXJ2YWJsZShcIk5vdFJlYWR5XCIpLFxuICAgICAgICAgICAgICAgIG93bmVySWQ6IGtvLm9ic2VydmFibGUobnVsbClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ3VycmVudGx5IHZpc2libGUgRmlsZSwgaWYgYXBwbGljYWJsZVxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdG8gYmUgcHJlc2VudGVkIHdpdGggdGhlIGluc3RydWN0b3Igc2V0dGluZ3MgYW5kIGZpbGVzXG4gICAgICAgICAgICAgICAgICogQHR5cGUge2Jvb2x9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rvcjoga28ub2JzZXJ2YWJsZSh0aGlzLmdldFNldHRpbmcoXCJkaXNwbGF5Lmluc3RydWN0b3JcIiwgXCJmYWxzZVwiKS50b1N0cmluZygpPT09XCJ0cnVlXCIpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIHByZXZlbnQgdGhlIHByaW50ZXIgZnJvbSBzaG93aW5nIHRoaW5nc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIG11dGVQcmludGVyOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiAoUHl0aG9uIFZpZXdzKSBUaGUgY3VycmVudCBlZGl0b3IgbW9kZS5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7RGlzcGxheU1vZGVzfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHB5dGhvbk1vZGU6IGtvLm9ic2VydmFibGUodGhpcy5nZXRTZXR0aW5nKFwiZGlzcGxheS5weXRob24ubW9kZVwiLCBEaXNwbGF5TW9kZXMuU1BMSVQpKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBIaXN0b3J5IG1vZGUgaXMgZW5nYWdlZC5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7Ym9vbH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBoaXN0b3J5TW9kZToga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdG8gYmUgYXV0by1zYXZpbmcgY2hhbmdlcyBpbiBQeXRob24gZWRpdG9yXG4gICAgICAgICAgICAgICAgICogSWYgYW4gaW50ZWdlciwgc3BlY2lmaWVzIHRoZSBkZWxheSB0aGF0IHNob3VsZCBiZSB1c2VkIChtaWNyb3NlY29uZHMpLlxuICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgbmV2ZXIgb24gaW4gbm9uLVB5dGhvbiBlZGl0b3JzLlxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtib29sfGludH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBhdXRvU2F2ZToga28ub2JzZXJ2YWJsZSh0cnVlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgY29uc29sZSBpcyBmdWxsIHdpZHRoIGFuZCBmZWVkYmFjayBpcyBoaWRkZW5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBiaWdDb25zb2xlOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGUgaGVpZ2h0IHRvIHVzZSBmb3IgdGhlIGNvbnNvbGUuXG4gICAgICAgICAgICAgICAgICogICAgSWYgbnVsbCwgdGhlbiBsZXQgdGhlIGhlaWdodCByZW1haW4gdW5jaGFuZ2VkXG4gICAgICAgICAgICAgICAgICogICAgSWYgYSBudW1iZXIsIHRoZW4gdGhlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJldmlvdXNDb25zb2xlSGVpZ2h0OiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb25zb2xlSGVpZ2h0OiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoaWNoIHBhbmVsIHRvIHNob3cgaW4gdGhlIHNlY29uZCByb3cncyBzZWNvbmQgY29sdW1uXG4gICAgICAgICAgICAgICAgICogQHR5cGUge1NlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9uc31cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzZWNvbmRSb3dTZWNvbmRQYW5lbDoga28ub2JzZXJ2YWJsZShTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuRkVFREJBQ0spLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGJlIHRyYWNpbmcgdGhlIGNvZGUgcmlnaHQgbm93XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdHJhY2VFeGVjdXRpb246IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZSBsaXN0IG9mIHByb21pc2VzIHRvIHN0aWxsIHJlc29sdmUgd2hpbGUgbG9hZGluZyBkYXRhc2V0c1xuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtBcnJheTxQcm9taXNlPn1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBsb2FkaW5nRGF0YXNldHM6IGtvLm9ic2VydmFibGVBcnJheShbXSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlIHRlbXBvcmFyeSBjaGFuZ2VkIHZhbHVlIG9mIHRoZSBpbnN0cnVjdGlvbnMgaGF2ZSBiZWVuIGNoYW5nZWQgZnJvbSB3aGF0IGlzIGluIHRoZSBhc3NpZ25tZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2hhbmdlZEluc3RydWN0aW9uczoga28ub2JzZXJ2YWJsZShudWxsKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBIGhvbGRlciBmb3IgdGhlIHRpbWVyIHRvIHRyaWdnZXIgb24tY2hhbmdlc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRyaWdnZXJPbkNoYW5nZTogbnVsbCxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIHRoZSBjdXJyZW50IGZlZWRiYWNrIGFuZCBvdXRwdXQgY29ycmVzcG9uZHMgdG8gdGhlIGN1cnJlbnQgc3VibWlzc2lvbi5cbiAgICAgICAgICAgICAgICAgKiBUaGlzIHdvdWxkIGJlIGZhbHNlIGlmIHRoZXJlIGlzIG5vIGZlZWRiYWNrL291dHB1dCAoaS5lLiwgY29kZSBoYXMgbm90IGJlZW4gcnVuKSxcbiAgICAgICAgICAgICAgICAgKiBvciBpZiB0aGUgdXNlciBoYXMgbW9kaWZpZWQgdGhlIHN1Ym1pc3Npb24gYWZ0ZXIgdGhlIGxhc3QgcnVuIChlLmcuLCBieSBlZGl0aW5nXG4gICAgICAgICAgICAgICAgICogdGhlIHRleHQpLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGRpcnR5U3VibWlzc2lvbjoga28ub2JzZXJ2YWJsZSh0cnVlKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiAgV2hldGhlciBvciBub3QgdG8gbWFrZSB0aGUgQmxvY2tQeSBlbGVtZW50IGluIEZVTEwgU0NSRUVOIG1vZGUuIFNhZGx5LCBub3QgZnVsbHNjcmVlblxuICAgICAgICAgICAgICAgICAqICB3aXRoaW4gdGhlIHdpbmRvdywgYnV0IEZVTEwgU0NSRUVOLiBWZXJ5IGFnZ3Jlc3NpdmUuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnVsbHNjcmVlbjoga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVXNlci1zdXBwbGllZCBwYXNzY29kZSB0byBjb21wYXJlIG9uIHRoZSBzZXJ2ZXIgYWdhaW5zdCB0aGUgY3VycmVudCBwYXNzY29kZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwYXNzY29kZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBjbGVhciBvdXQgaW5wdXRzIGFmdGVyIGEgcnVuL29uX3J1biBjeWNsZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNsZWFySW5wdXRzOiBrby5vYnNlcnZhYmxlKHRydWUpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBsb2FkQXNzaWdubWVudDoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgbG9hZEFzc2lnbm1lbnRNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgbG9hZEhpc3Rvcnk6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGxvYWRIaXN0b3J5TWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIGxvYWRGaWxlOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBsb2FkRmlsZU1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBsb2FkRGF0YXNldDoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgbG9hZERhdGFzZXRNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgbG9nRXZlbnQ6IGtvLm9ic2VydmFibGUoU3RhdHVzU3RhdGUuUkVBRFkpLFxuICAgICAgICAgICAgICAgIGxvZ0V2ZW50TWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHNhdmVJbWFnZToga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgc2F2ZUltYWdlTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIHNhdmVGaWxlOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICBzYXZlRmlsZU1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICBzYXZlQXNzaWdubWVudDoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgc2F2ZUFzc2lnbm1lbnRNZXNzYWdlOiBrby5vYnNlcnZhYmxlKFwiXCIpLFxuICAgICAgICAgICAgICAgIC8vIEB0eXBlIHtTZXJ2ZXJTdGF0dXN9XG4gICAgICAgICAgICAgICAgdXBkYXRlU3VibWlzc2lvbjoga28ub2JzZXJ2YWJsZShTdGF0dXNTdGF0ZS5SRUFEWSksXG4gICAgICAgICAgICAgICAgdXBkYXRlU3VibWlzc2lvbk1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJcIiksXG4gICAgICAgICAgICAgICAgLy8gQHR5cGUge1NlcnZlclN0YXR1c31cbiAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uU3RhdHVzOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVTdWJtaXNzaW9uU3RhdHVzTWVzc2FnZToga28ub2JzZXJ2YWJsZShcIlwiKSxcbiAgICAgICAgICAgICAgICAvLyBAdHlwZSB7U2VydmVyU3RhdHVzfVxuICAgICAgICAgICAgICAgIG9uRXhlY3V0aW9uOiBrby5vYnNlcnZhYmxlKFN0YXR1c1N0YXRlLlJFQURZKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleGVjdXRpb246IHtcbiAgICAgICAgICAgICAgICAvLyBJbmZvcm1hdGlvbiBhYm91dCBpbi1wcm9ncmVzcyBleGVjdXRpb25zXG4gICAgICAgICAgICAgICAgcmVwb3J0czoge30sXG4gICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBPdXRwdXQgb2JqZWN0c1xuICAgICAgICAgICAgICAgIG91dHB1dDoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICAvLyBMaXN0IG9mIGlucHV0dGVkIHN0cmluZ3NcbiAgICAgICAgICAgICAgICBpbnB1dDoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICBpbnB1dEluZGV4OiBrby5vYnNlcnZhYmxlKDApLFxuICAgICAgICAgICAgICAgIC8vIEluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYSBzdHVkZW50IHJ1blxuICAgICAgICAgICAgICAgIHN0dWRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyOiB0aGUgZmlsZW5hbWUgdGhhdCB3YXMgbGFzdCBleGVjdXRlZCBhbmQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZXNlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0ZXA6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN0ZXA6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExpbmU6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIGxhc3RMaW5lOiBrby5vYnNlcnZhYmxlKDApLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcnJheSBvZiBzaW1wbGUgb2JqZWN0c1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VHJhY2VEYXRhOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlZ2VyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFjZVN0ZXA6IGtvLm9ic2VydmFibGUoMCksXG4gICAgICAgICAgICAgICAgICAgIC8vIEFjdHVhbCBleGVjdXRpb24gcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxzOiBrby5vYnNlcnZhYmxlKG51bGwpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnN0cnVjdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN5c21vZHVsZXM6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gSW5mb3JtYXRpb24gcmVsYXRlZCB0byBmZWVkYmFjayBmcm9tIHRoZSBpbnN0cnVjdG9yIHJ1blxuICAgICAgICAgICAgICAgIGZlZWRiYWNrOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0ciAobWFya2Rvd24pXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGtvLm9ic2VydmFibGUoXCJSZWFkeVwiKSxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBoaWRkZW46IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICBsaW5lc0Vycm9yOiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLFxuICAgICAgICAgICAgICAgICAgICBsaW5lc1VuY292ZXJlZDoga28ub2JzZXJ2YWJsZUFycmF5KFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlc3VsdHMgb2YgdGhlIGxhc3QgZXhlY3V0aW9uXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRnVuY3Rpb25zIHRvIGZpcmUgd2hlbiBjZXJ0YWluIGV2ZW50cyBvY2N1clxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogV2hlbiB0aGUgc3R1ZGVudCBnZXRzIGEgc3VjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IHRoaXMuaW5pdGlhbENvbmZpZ3VyYXRpb25fW1wiY2FsbGJhY2suc3VjY2Vzc1wiXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBzZXJ2ZXIgaXMgY29ubmVjdGVkLlxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtib29sfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNlcnZlckNvbm5lY3RlZDoga28ub2JzZXJ2YWJsZSh0aGlzLmdldFNldHRpbmcoXCJzZXJ2ZXIuY29ubmVjdGVkXCIsIHRydWUpKSxcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmdcbiAgICAgICAgICAgICAgICBibG9ja2x5UGF0aDogdGhpcy5pbml0aWFsQ29uZmlndXJhdGlvbl9bXCJibG9ja2x5LnBhdGhcIl0sXG4gICAgICAgICAgICAgICAgLy8gc3RyaW5nXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudFBvaW50OiB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uX1tcImF0dGFjaG1lbnQucG9pbnRcIl0sXG4gICAgICAgICAgICAgICAgLy8gSlF1ZXJ5IG9iamVjdFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICAgICAgICAgICAgICAvLyBNYXBzIGNvZGVzICgnbG9nX2V2ZW50JywgJ3NhdmVfY29kZScpIHRvIFVSTHNcbiAgICAgICAgICAgICAgICB1cmxzOiB0aGlzLmluaXRpYWxDb25maWd1cmF0aW9uX1tcInVybHNcIl0gfHwge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgaW50ZXJmYWNlXG4gICAgICovXG4gICAgaW5pdEludGVyZmFjZSgpIHtcbiAgICAgICAgbGV0IGNvbnN0YW50cyA9IHRoaXMubW9kZWwuY29uZmlndXJhdGlvbjtcbiAgICAgICAgbGV0IGd1aSA9IG1ha2VJbnRlcmZhY2UodGhpcyk7XG4gICAgICAgIGNvbnN0YW50cy5jb250YWluZXIgPSAkKGNvbnN0YW50cy5hdHRhY2htZW50UG9pbnQpLmh0bWwoJChndWkpKTtcbiAgICB9O1xuXG4gICAgbG9hZEFzc2lnbm1lbnQoYXNzaWdubWVudF9pZCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2VydmVyLmxvYWRBc3NpZ25tZW50KGFzc2lnbm1lbnRfaWQpO1xuICAgIH1cblxuICAgIGxvYWRUYWdzKHRhZ3MpIHtcbiAgICAgICAgLy8gQWxyZWFkeSBhIEpTT04gbGlzdCByZXByZXNlbnRpbmcgdGFnc1xuICAgIH1cblxuICAgIGxvYWRTYW1wbGVTdWJtaXNzaW9ucyhzYW1wbGVzKSB7XG4gICAgICAgIC8vIEFscmVhZHkgYSBKU09OIGxpc3QgcmVwcmVzZW50aW5nIHNhbXBsZXNcbiAgICB9XG5cbiAgICBsb2FkTm9TdWJtaXNzaW9uKGFzc2lnbm1lbnQpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmNvZGUoYXNzaWdubWVudC5zdGFydGluZ19jb2RlKTtcbiAgICAgICAgbG9hZENvbmNhdGVuYXRlZEZpbGUoYXNzaWdubWVudC5leHRyYV9zdGFydGluZ19maWxlcywgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmV4dHJhRmlsZXMpO1xuICAgIH1cblxuICAgIGxvYWRTdWJtaXNzaW9uKHN1Ym1pc3Npb24sIGFzc2lnbm1lbnQpIHtcbiAgICAgICAgaWYgKCFzdWJtaXNzaW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBTY2FyaWVyIFwiWW91IGFyZSBub3QgbG9nZ2VkIGluIG1lc3NhZ2VcIlxuICAgICAgICAgICAgdGhpcy5sb2FkTm9TdWJtaXNzaW9uKGFzc2lnbm1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IFdoYXQgaWYgc3VibWlzc2lvbnMnIGFzc2lnbm1lbnQgdmVyc2lvbiBhbmQgdGhlIGFzc2lnbm1lbnRzJyB2ZXJzaW9uIGNvbmZsaWN0P1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uaWQoc3VibWlzc2lvbi5pZCk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5jb2RlKHN1Ym1pc3Npb24uY29kZSk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KHN1Ym1pc3Npb24uY29ycmVjdCk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5zY29yZShzdWJtaXNzaW9uLnNjb3JlKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmVuZHBvaW50KHN1Ym1pc3Npb24uZW5kcG9pbnQpO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24udXJsKHN1Ym1pc3Npb24udXJsKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLnZlcnNpb24oc3VibWlzc2lvbi52ZXJzaW9uKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zdWJtaXNzaW9uLmdyYWRpbmdTdGF0dXMoc3VibWlzc2lvbi5ncmFkaW5nX3N0YXR1cyk7XG4gICAgICAgIHRoaXMubW9kZWwuc3VibWlzc2lvbi5zdWJtaXNzaW9uU3RhdHVzKHN1Ym1pc3Npb24uc3VibWlzc2lvbl9zdGF0dXMpO1xuICAgICAgICB0aGlzLm1vZGVsLnN1Ym1pc3Npb24ub3duZXJJZChzdWJtaXNzaW9uLnVzZXJfaWQpO1xuICAgICAgICB0aGlzLm1vZGVsLnVzZXIuY291cnNlSWQoc3VibWlzc2lvbi5jb3Vyc2VfaWQpO1xuICAgICAgICBsb2FkQ29uY2F0ZW5hdGVkRmlsZShzdWJtaXNzaW9uLmV4dHJhX2ZpbGVzLCB0aGlzLm1vZGVsLnN1Ym1pc3Npb24uZXh0cmFGaWxlcyk7XG4gICAgfVxuXG4gICAgbG9hZEFzc2lnbm1lbnREYXRhXyhkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICB0aGlzLnJlc2V0SW50ZXJmYWNlKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5maWxlU3lzdGVtLmRpc21vdW50RXh0cmFGaWxlcygpO1xuICAgICAgICBsZXQgd2FzU2VydmVyQ29ubmVjdGVkID0gdGhpcy5tb2RlbC5jb25maWd1cmF0aW9uLnNlcnZlckNvbm5lY3RlZCgpO1xuICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uc2VydmVyQ29ubmVjdGVkKGZhbHNlKTtcbiAgICAgICAgbGV0IGFzc2lnbm1lbnQgPSBkYXRhLmFzc2lnbm1lbnQ7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5pZChhc3NpZ25tZW50LmlkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LnZlcnNpb24oYXNzaWdubWVudC52ZXJzaW9uKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmNvdXJzZUlkKGFzc2lnbm1lbnQuY291cnNlX2lkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmZvcmtlZElkKGFzc2lnbm1lbnQuZm9ya2VkX2lkKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmZvcmtlZFZlcnNpb24oYXNzaWdubWVudC5mb3JrZWRfdmVyc2lvbik7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5oaWRkZW4oYXNzaWdubWVudC5oaWRkZW4pO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQucmV2aWV3ZWQoYXNzaWdubWVudC5yZXZpZXdlZCk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5wdWJsaWMoYXNzaWdubWVudC5wdWJsaWMpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQudHlwZShhc3NpZ25tZW50LnR5cGUpO1xuICAgICAgICB0aGlzLm1vZGVsLmFzc2lnbm1lbnQudXJsKGFzc2lnbm1lbnQudXJsKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50LmlwUmFuZ2VzKGFzc2lnbm1lbnQuaXBfcmFuZ2VzKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lmluc3RydWN0aW9ucyhhc3NpZ25tZW50Lmluc3RydWN0aW9ucyk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5uYW1lKGFzc2lnbm1lbnQubmFtZSk7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZShhc3NpZ25tZW50Lm9uX2NoYW5nZSB8fCBudWxsKTtcbiAgICAgICAgaWYgKGFzc2lnbm1lbnQub25fY2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlKFwiIW9uX2NoYW5nZS5weVwiLCBhc3NpZ25tZW50Lm9uX2NoYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lm9uRXZhbChhc3NpZ25tZW50Lm9uX2V2YWwgfHwgbnVsbCk7XG4gICAgICAgIGlmIChhc3NpZ25tZW50Lm9uX2V2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGUoXCIhb25fZXZhbC5weVwiLCBhc3NpZ25tZW50Lm9uX2V2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5vblJ1bihhc3NpZ25tZW50Lm9uX3J1bik7XG4gICAgICAgIHRoaXMubW9kZWwuYXNzaWdubWVudC5zdGFydGluZ0NvZGUoYXNzaWdubWVudC5zdGFydGluZ19jb2RlKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hc3NpZ25tZW50Lm93bmVySWQoYXNzaWdubWVudC5vd25lcl9pZCk7XG4gICAgICAgIGxvYWRBc3NpZ25tZW50U2V0dGluZ3ModGhpcy5tb2RlbCwgYXNzaWdubWVudC5zZXR0aW5ncyk7XG4gICAgICAgIHRoaXMubG9hZFRhZ3MoYXNzaWdubWVudC50YWdzKTtcbiAgICAgICAgdGhpcy5sb2FkU2FtcGxlU3VibWlzc2lvbnMoYXNzaWdubWVudC5zYW1wbGVfc3VibWlzc2lvbnMpO1xuICAgICAgICBsb2FkQ29uY2F0ZW5hdGVkRmlsZShhc3NpZ25tZW50LmV4dHJhX2luc3RydWN0b3JfZmlsZXMsIHRoaXMubW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcyk7XG4gICAgICAgIGxvYWRDb25jYXRlbmF0ZWRGaWxlKGFzc2lnbm1lbnQuZXh0cmFfc3RhcnRpbmdfZmlsZXMsIHRoaXMubW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMpO1xuICAgICAgICB0aGlzLmxvYWRTdWJtaXNzaW9uKGRhdGEuc3VibWlzc2lvbiwgYXNzaWdubWVudCk7XG4gICAgICAgIHRoaXMubW9kZWwuZGlzcGxheS5kaXJ0eVN1Ym1pc3Npb24odHJ1ZSk7XG4gICAgICAgIHRoaXMubW9kZWwuZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zKG51bGwpO1xuICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uc2VydmVyQ29ubmVjdGVkKHdhc1NlcnZlckNvbm5lY3RlZCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5jb3JnaXMubG9hZERhdGFzZXRzKHRydWUpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLmJtLnJlZnJlc2goKTtcblxuICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2VydmVyLnNldFN0YXR1cyhcInNhdmVGaWxlXCIsIFN0YXR1c1N0YXRlLlJFQURZKTtcbiAgICB9XG5cbiAgICBpbml0TW9kZWxNZXRob2RzKCkge1xuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubW9kZWw7XG4gICAgICAgIG1vZGVsLnVpID0ge1xuICAgICAgICAgICAgcm9sZToge1xuICAgICAgICAgICAgICAgIGlzR3JhZGVyOiBrby5wdXJlQ29tcHV0ZWQoKCk9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC51c2VyLnJvbGUoKSA9PT0gXCJvd25lclwiIHx8IG1vZGVsLnVzZXIucm9sZSgpID09PSBcImdyYWRlclwiKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluc3RydWN0aW9uczoge1xuICAgICAgICAgICAgICAgIGlzQ2hhbmdlZDoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuY2hhbmdlZEluc3RydWN0aW9ucygpICE9PSBudWxsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50OiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwudWkuaW5zdHJ1Y3Rpb25zLmlzQ2hhbmdlZCgpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXRpbGl0aWVzLm1hcmtkb3duKG1vZGVsLmRpc3BsYXkuY2hhbmdlZEluc3RydWN0aW9ucygpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnV0aWxpdGllcy5tYXJrZG93bihtb2RlbC5hc3NpZ25tZW50Lmluc3RydWN0aW9ucygpKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcmVzZXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuY2hhbmdlZEluc3RydWN0aW9ucyhudWxsKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnU6IHtcbiAgICAgICAgICAgICAgICB0ZXh0RnVsbHNjcmVlbjoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIChtb2RlbC5kaXNwbGF5LmZ1bGxzY3JlZW4oKSkgPyBcImZhLWNvbXByZXNzLWFycm93cy1hbHRcIiA6IFwiZmEtZXhwYW5kLWFycm93cy1hbHRcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgY2xpY2tGdWxsc2NyZWVuOiAoKSA9PntcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGlzcGxheS5mdWxsc2NyZWVuKCFtb2RlbC5kaXNwbGF5LmZ1bGxzY3JlZW4oKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlZGl0SW5wdXRzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kaWFsb2cuRURJVF9JTlBVVFMoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbk1hcmtTdWJtaXR0ZWQ6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LmhpZGRlbigpIHx8IG1vZGVsLmFzc2lnbm1lbnQucmV2aWV3ZWQoKSB8fFxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmNhbkNsb3NlKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRleHRNYXJrU3VibWl0dGVkOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwudWkubWVudS5pc0NvbXBsZXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWwudXNlci5ncm91cElkKCkgPyBcIlByb2JsZW0gY2xvc2VkXCIgOiBcIkFzc2lnbm1lbnQgY2xvc2VkXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZWwudWkubWVudS5pc1N1Ym1pdHRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJSZW9wZW4gZm9yIGVkaXRpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlbC5kaXNwbGF5LmRpcnR5U3VibWlzc2lvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJSdW5cIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9kZWwuYXNzaWdubWVudC5oaWRkZW4oKSAmJiBtb2RlbC5zdWJtaXNzaW9uLmNvcnJlY3QoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlN1Ym1pdFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTdWJtaXQgZWFybHlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNsaWNrTWFya1N1Ym1pdHRlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwudWkubWVudS5pc0NvbXBsZXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIllvdSBjYW5ub3QgcmVvcGVuIGNsb3NlZCBhc3NpZ25tZW50cy4gQ29udGFjdCBhIGdyYWRlciFcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZWwudWkubWVudS5pc1N1Ym1pdHRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuc2VydmVyLnVwZGF0ZVN1Ym1pc3Npb25TdGF0dXMoXCJpblByb2dyZXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGVsLmRpc3BsYXkuZGlydHlTdWJtaXNzaW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5lbmdpbmUuZGVsYXllZFJ1bigpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci51cGRhdGVTdWJtaXNzaW9uU3RhdHVzKFwiU3VibWl0dGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpc1N1Ym1pdHRlZDoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIChtb2RlbC5hc3NpZ25tZW50LnJldmlld2VkKCkgfHwgbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5jYW5DbG9zZSgpKSAmJlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdWJtaXNzaW9uLnN1Ym1pc3Npb25TdGF0dXMoKS50b0xvd2VyQ2FzZSgpID09PSBcInN1Ym1pdHRlZFwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZDoga28ucHVyZUNvbXB1dGVkKCgpPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3VibWlzc2lvbi5zdWJtaXNzaW9uU3RhdHVzKCkudG9Mb3dlckNhc2UoKSA9PT0gXCJjb21wbGV0ZWRcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgc2hvd1F1ZXVlZElucHV0czoga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVRdWV1ZWRJbnB1dHMoKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWNvbmRSb3c6IHtcbiAgICAgICAgICAgICAgICBpc0FsbFZpc2libGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAhbW9kZWwuYXNzaWdubWVudC5zZXR0aW5ncy5oaWRlTWlkZGxlUGFuZWwoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNGZWVkYmFja1Zpc2libGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5GRUVEQkFDS1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNUcmFjZVZpc2libGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5UUkFDRVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaXNDb25zb2xlU2hvd1Zpc2libGU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC51aS5zZWNvbmRSb3cuaXNGZWVkYmFja1Zpc2libGUoKSB8fCBtb2RlbC51aS5zZWNvbmRSb3cuaXNUcmFjZVZpc2libGUoKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgc3dpdGNoTGFiZWw6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCgpICE9PSBudWxsID9cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVmlldyBUcmFjZVwiIDogXCJcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWR2YW5jZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50UGFuZWwgPSBtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5OT05FKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFuZWwoU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLkZFRURCQUNLKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFuZWwoKSA9PT0gU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLlRSQUNFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFuZWwoU2Vjb25kUm93U2Vjb25kUGFuZWxPcHRpb25zLk5PTkUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lbChTZWNvbmRSb3dTZWNvbmRQYW5lbE9wdGlvbnMuVFJBQ0UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhbmVsKFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5OT05FKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uc29sZToge1xuICAgICAgICAgICAgICAgIHNpemU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LnNlY29uZFJvd1NlY29uZFBhbmVsKCkgPT09IFNlY29uZFJvd1NlY29uZFBhbmVsT3B0aW9ucy5OT05FID9cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sLW1kLTEyXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2wtbWQtNlwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBoaWRlRXZhbHVhdGU6IGtvLnB1cmVDb21wdXRlZCggKCk9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVFdmFsdWF0ZSgpIHx8ICFtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5nbG9iYWxzKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLm9uRXhlY3V0aW9uKCkgPT09IFN0YXR1c1N0YXRlLkFDVElWRVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmZWVkYmFjazoge1xuICAgICAgICAgICAgICAgIGJhZGdlOiBrby5wdXJlQ29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuZXhlY3V0aW9uLmZlZWRiYWNrLmNhdGVnb3J5KCkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLW5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGVsLmV4ZWN1dGlvbi5mZWVkYmFjay5jYXRlZ29yeSgpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLW5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJydW50aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtcnVudGltZS1lcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bnRheFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLXN5bnRheC1lcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVkaXRvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLXN5bnRheC1lcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludGVybmFsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtaW50ZXJuYWwtZXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZW1hbnRpY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuYWx5emVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtc2VtYW50aWMtZXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmZWVkYmFja1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc3RydWN0b3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsYWJlbC1mZWVkYmFjay1lcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbXBsZXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGFiZWwtcHJvYmxlbS1jb21wbGV0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluc3RydWN0aW9uc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLWluc3RydWN0aW9uc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vIGVycm9yc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhYmVsLW5vLWVycm9yc1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGtvLnB1cmVDb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5leGVjdXRpb24uZmVlZGJhY2suY2F0ZWdvcnkoKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlbC5leGVjdXRpb24uZmVlZGJhY2suY2F0ZWdvcnkoKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJydW50aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiUnVudGltZSBFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bnRheFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlN5bnRheCBFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVkaXRvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkVkaXRvciBFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludGVybmFsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSW50ZXJuYWwgRXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZW1hbnRpY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFuYWx5emVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQWxnb3JpdGhtIEVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmVlZGJhY2tcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnN0cnVjdGlvbnNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnN0cnVjdGlvbnNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnN0cnVjdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSW5jb3JyZWN0IEFuc3dlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbXBsZXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQ29tcGxldGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJubyBlcnJvcnNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJObyBlcnJvcnNcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhY2U6IHtcbiAgICAgICAgICAgICAgICBoYXM6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VEYXRhKCkgIT09IG51bGxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGxpbmU6IGtvLnB1cmVDb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGVwID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdFN0ZXAgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5sYXN0U3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhY2VEYXRhID0gbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYWNlRGF0YSB8fCBzdGVwID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJObyB0cmFjZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJCZWZvcmUgcnVuXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RlcCA9PT0gbGFzdFN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkZpbmlzaGVkIHJ1blwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogd2h5IGFyZSB0aGVzZSBudW1iZXJzIHdvbmt5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTGluZSBcIisodHJhY2VEYXRhW3N0ZXBdLmxpbmUtMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBmaXJzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKDApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmFja3dhcmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZpb3VzID0gTWF0aC5tYXgoMCwgbW9kZWwuZXhlY3V0aW9uLnN0dWRlbnQuY3VycmVudFRyYWNlU3RlcCgpIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZm9yd2FyZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IE1hdGgubWluKG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCksIG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50LmN1cnJlbnRUcmFjZVN0ZXAoKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKG5leHQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGFzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YToga28ucHVyZUNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ZXAgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0U3RlcCA9IG1vZGVsLmV4ZWN1dGlvbi5zdHVkZW50Lmxhc3RTdGVwKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0cmFjZURhdGEgPSBtb2RlbC5leGVjdXRpb24uc3R1ZGVudC5jdXJyZW50VHJhY2VEYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhY2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBsYXN0U3RlcDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhY2VEYXRhW3N0ZXAgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYWNlRGF0YVtzdGVwXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbGVzOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZToga28ucHVyZUNvbXB1dGVkKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpIHx8ICFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVGaWxlcygpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBoYXNDb250ZW50czogZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbnN3ZXIucHlcIjogcmV0dXJuIG1vZGVsLnN1Ym1pc3Npb24uY29kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFpbnN0cnVjdGlvbnMubWRcIjogcmV0dXJuIG1vZGVsLmFzc2lnbm1lbnQuaW5zdHJ1Y3Rpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIW9uX2NoYW5nZS5weVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5vbkNoYW5nZSgpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFvbl9ldmFsLnB5XCI6IHJldHVybiBtb2RlbC5hc3NpZ25tZW50Lm9uRXZhbCgpICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj9tb2NrX3VybHMuYmxvY2tweVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5leHRyYUluc3RydWN0b3JGaWxlcygpLnNvbWUoZmlsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuZmlsZW5hbWUoKSA9PT0gXCI/bW9ja191cmxzLmJsb2NrcHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIXRhZ3MuYmxvY2tweVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC50YWdzKCkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFzYW1wbGVfc3VibWlzc2lvbnMuYmxvY2tweVwiOiByZXR1cm4gbW9kZWwuYXNzaWdubWVudC5zYW1wbGVTdWJtaXNzaW9ucygpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRkOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj9tb2NrX3VybHMuYmxvY2tweVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj90YWdzLmJsb2NrcHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI/c2V0dGluZ3MuYmxvY2tweVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGUocGF0aCk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFvbl9jaGFuZ2UucHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5hc3NpZ25tZW50Lm9uQ2hhbmdlKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5maWxlU3lzdGVtLm5ld0ZpbGUocGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBmaXggZXh0cmFmaWxlcyBmb3IgaW5zdHJ1Y3RvciBhbmQgc3R1ZGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiFvbl9ldmFsLnB5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuYXNzaWdubWVudC5vbkV2YWwoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZShwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnN0cnVjdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0ubmV3RmlsZURpYWxvZyhcImluc3RydWN0b3JcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0dWRlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlRGlhbG9nKFwic3R1ZGVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3RhcnRpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZmlsZVN5c3RlbS5uZXdGaWxlRGlhbG9nKFwic3RhcnRpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUocGF0aCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb21wb25lbnRzLmZpbGVTeXN0ZW0uZGVsZXRlRmlsZShtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXh0cmFTdHVkZW50RmlsZXM6IG9ic2VydmVDb25jYXRlbmF0ZWRGaWxlKG1vZGVsLnN1Ym1pc3Npb24uZXh0cmFGaWxlcyksXG4gICAgICAgICAgICAgICAgZXh0cmFJbnN0cnVjdG9yRmlsZXM6IG9ic2VydmVDb25jYXRlbmF0ZWRGaWxlKG1vZGVsLmFzc2lnbm1lbnQuZXh0cmFJbnN0cnVjdG9yRmlsZXMpLFxuICAgICAgICAgICAgICAgIGV4dHJhU3RhcnRpbmdGaWxlczogb2JzZXJ2ZUNvbmNhdGVuYXRlZEZpbGUobW9kZWwuYXNzaWdubWVudC5leHRyYVN0YXJ0aW5nRmlsZXMpLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlGaWxlbmFtZTogZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCA9PT0gXCI/bW9ja191cmxzLmJsb2NrcHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiVVJMIERhdGFcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKFwiJlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlZGl0b3JzOiB7XG4gICAgICAgICAgICAgICAgY3VycmVudDoga28ucHVyZUNvbXB1dGVkKCAoKT0+XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5lZGl0b3JzLmdldEVkaXRvcihtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB2aWV3OiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKCFtb2RlbC5kaXNwbGF5Lmluc3RydWN0b3IoKSAmJiBtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVFZGl0b3JzKCkpID8gXCJOb25lXCIgOlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkgPyBtb2RlbC51aS5lZGl0b3JzLmN1cnJlbnQoKSA6IFwiTm9uZVwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9nRXZlbnQoXCJYLUZpbGUuUmVzZXRcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJhbnN3ZXIucHlcIik7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnN1Ym1pc3Npb24uY29kZShtb2RlbC5hc3NpZ25tZW50LnN0YXJ0aW5nQ29kZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3VibWlzc2lvbi5leHRyYUZpbGVzKG1vZGVsLmFzc2lnbm1lbnQuZXh0cmFTdGFydGluZ0ZpbGVzKCkubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lID0gZmlsZS5maWxlbmFtZSgpLnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFrZU1vZGVsRmlsZShmaWxlbmFtZSwgZmlsZS5jb250ZW50cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYW5TYXZlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgIW1vZGVsLmRpc3BsYXkuYXV0b1NhdmUoKSksXG4gICAgICAgICAgICAgICAgY2FuRGVsZXRlOiBrby5wdXJlQ29tcHV0ZWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgKCFtb2RlbC5hc3NpZ25tZW50LnNldHRpbmdzLmhpZGVGaWxlcygpIHx8IG1vZGVsLmRpc3BsYXkuaW5zdHJ1Y3RvcigpKSAmJlxuICAgICAgICAgICAgICAgICAgICBVTkRFTEVUQUJMRV9GSUxFUy5pbmRleE9mKG1vZGVsLmRpc3BsYXkuZmlsZW5hbWUoKSkgPT09IC0xKSxcbiAgICAgICAgICAgICAgICBjYW5SZW5hbWU6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICAoIW1vZGVsLmFzc2lnbm1lbnQuc2V0dGluZ3MuaGlkZUZpbGVzKCkgfHwgbW9kZWwuZGlzcGxheS5pbnN0cnVjdG9yKCkpICYmXG4gICAgICAgICAgICAgICAgICAgIFVOUkVOQU1BQkxFX0ZJTEVTLmluZGV4T2YobW9kZWwuZGlzcGxheS5maWxlbmFtZSgpKSA9PT0gLTEpLFxuICAgICAgICAgICAgICAgIHVwbG9hZDogdXBsb2FkRmlsZS5iaW5kKHNlbGYpLFxuICAgICAgICAgICAgICAgIGRvd25sb2FkOiBkb3dubG9hZEZpbGUuYmluZChzZWxmKSxcbiAgICAgICAgICAgICAgICBpbXBvcnREYXRhc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5jb3JnaXMub3BlbkRpYWxvZygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcHl0aG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxzY3JlZW46ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb2RlTWlycm9yID0gc2VsZi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5ibS50ZXh0RWRpdG9yLmNvZGVNaXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29kZU1pcnJvci5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsICFjb2RlTWlycm9yLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVNb2RlOiAobmV3TW9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtVmlldy5DaGFuZ2VcIiwgXCJcIiwgXCJcIiwgbmV3TW9kZSwgbW9kZWwuZGlzcGxheS5maWxlbmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmRpc3BsYXkucHl0aG9uTW9kZShuZXdNb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5kaXNwbGF5LmZpbGVuYW1lKCkgPT09IFwiYW5zd2VyLnB5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLm9sZFB5dGhvbk1vZGUgPSBuZXdNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpc0hpc3RvcnlBdmFpbGFibGU6IGtvLnB1cmVDb21wdXRlZCgoKT0+XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC51aS5zZXJ2ZXIuaXNFbmRwb2ludENvbm5lY3RlZChcImxvYWRIaXN0b3J5XCIpKSxcbiAgICAgICAgICAgICAgICAgICAgdHVybk9mZkhpc3RvcnlNb2RlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLnVwZGF0ZUVkaXRvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnB5dGhvbkVkaXRvci5zZXRSZWFkT25seShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5Lmhpc3RvcnlNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHVybk9uSGlzdG9yeU1vZGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5zZXJ2ZXIubG9hZEhpc3RvcnkoKHJlc3BvbnNlKSA9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuaGlzdG9yeS5sb2FkKHJlc3BvbnNlLmhpc3RvcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5kaXNwbGF5Lmhpc3RvcnlNb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMucHl0aG9uRWRpdG9yLnNldFJlYWRPbmx5KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5kaWFsb2cuRVJST1JfTE9BRElOR19ISVNUT1JZKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZUhpc3RvcnlNb2RlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuZGlzcGxheS5oaXN0b3J5TW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudWkuZWRpdG9ycy5weXRob24udHVybk9mZkhpc3RvcnlNb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnVpLmVkaXRvcnMucHl0aG9uLnR1cm5Pbkhpc3RvcnlNb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhpc3Rvcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiAoKT0+eyBzZWxmLmNvbXBvbmVudHMuaGlzdG9yeS5tb3ZlVG9TdGFydCgpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6ICgpPT57IHNlbGYuY29tcG9uZW50cy5oaXN0b3J5Lm1vdmVQcmV2aW91cygpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogKCk9Pnsgc2VsZi5jb21wb25lbnRzLmhpc3RvcnkubW92ZU5leHQoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vc3RSZWNlbnQ6ICgpPT57IHNlbGYuY29tcG9uZW50cy5oaXN0b3J5Lm1vdmVUb01vc3RSZWNlbnQoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZTogKCk9Pnsgc2VsZi5jb21wb25lbnRzLmhpc3RvcnkudXNlKCk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZTogKCkgPT4gc2VsZi5jb21wb25lbnRzLnNlcnZlci5zYXZlQXNzaWdubWVudCgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4ZWN1dGU6IHtcbiAgICAgICAgICAgICAgICBpc1J1bm5pbmc6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMub25FeGVjdXRpb24oKSA9PT0gU3RhdHVzU3RhdGUuQUNUSVZFXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBydW46ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29tcG9uZW50cy5lbmdpbmUuZGVsYXllZFJ1bigpLFxuICAgICAgICAgICAgICAgIGV2YWx1YXRlOiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbXBvbmVudHMuZW5naW5lLmV2YWx1YXRlKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXJ2ZXI6IHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IChlbmRwb2ludCA9PlxuICAgICAgICAgICAgICAgICAgICBcInNlcnZlci1zdGF0dXMtXCIgKyBtb2RlbC5zdGF0dXNbZW5kcG9pbnRdKClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGlzRW5kcG9pbnRDb25uZWN0ZWQ6IChlbmRwb2ludCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuY29uZmlndXJhdGlvbi5zZXJ2ZXJDb25uZWN0ZWQoKSAmJlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLnVybHMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5jb25maWd1cmF0aW9uLnVybHNbZW5kcG9pbnRdICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IGtvLnB1cmVDb21wdXRlZCgoKSA9PlxuICAgICAgICAgICAgICAgICAgICBjYXBpdGFsaXplKG1vZGVsLnN0YXR1cy5sb2FkQXNzaWdubWVudE1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLnNhdmVBc3NpZ25tZW50TWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMubG9hZEhpc3RvcnlNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5sb2FkRmlsZU1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLnNhdmVGaWxlTWVzc2FnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMubG9hZERhdGFzZXRNZXNzYWdlKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnN0YXR1cy5sb2dFdmVudE1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLnNhdmVJbWFnZSgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zdGF0dXMudXBkYXRlU3VibWlzc2lvbk1lc3NhZ2UoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuc3RhdHVzLnVwZGF0ZVN1Ym1pc3Npb25TdGF0dXNNZXNzYWdlKCkgfHwgXCJcIilcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGZvcmNlOiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN1Ym1pc3Npb246IChkYXRhLCBldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb21wb25lbnRzLnNlcnZlci51cGRhdGVTdWJtaXNzaW9uKHNlbGYubW9kZWwuc3VibWlzc2lvbi5zY29yZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc3VibWlzc2lvbi5jb3JyZWN0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpLmZhZGVPdXQoMTAwKS5mYWRlSW4oMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIG1ha2VFeHRyYUludGVyZmFjZVN1YnNjcmlwdGlvbnMoc2VsZiwgbW9kZWwpO1xuICAgIH1cblxuICAgIHR1cm5PbkhhY2tzKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiVE9ET1wiKTtcbiAgICAgICAgU2suYnVpbHRpbkZpbGVzLmZpbGVzW1wic3JjL2xpYi9pbWFnZS5qc1wiXSA9ICRidWlsdGlubW9kdWxlLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHlzIHRoZSBLbm9ja291dEpTIGJpbmRpbmdzIHRvIHRoZSBtb2RlbCwgaW5zdGFudGlhdGluZyB0aGUgdmFsdWVzIGludG8gdGhlXG4gICAgICogSFRNTC5cbiAgICAgKi9cbiAgICBhcHBseU1vZGVsKCkge1xuICAgICAgICBrby5hcHBseUJpbmRpbmdzKHRoaXMubW9kZWwpO1xuICAgIH1cblxuICAgIGluaXRVdGlsaXRpZXMoKSB7XG4gICAgICAgIGxldCBtYWluID0gdGhpcztcbiAgICAgICAgdGhpcy51dGlsaXRpZXMgPSB7XG4gICAgICAgICAgICBtYXJrZG93bjogKHRleHQpID0+IHRleHQgPyBFYXN5TURFLnByb3RvdHlwZS5tYXJrZG93bih0ZXh0KSA6IFwiPHA+PC9wPlwiXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5pdENvbXBvbmVudHMoKSB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSB0aGlzLm1vZGVsLmNvbmZpZ3VyYXRpb24uY29udGFpbmVyO1xuICAgICAgICBsZXQgY29tcG9uZW50cyA9IHRoaXMuY29tcG9uZW50cyA9IHt9O1xuICAgICAgICBsZXQgbWFpbiA9IHRoaXM7XG4gICAgICAgIC8vIEVhY2ggb2YgdGhlc2UgY29tcG9uZW50cyB3aWxsIHRha2UgdGhlIEJsb2NrUHkgaW5zdGFuY2UsIGFuZCBwb3NzaWJseSBhXG4gICAgICAgIC8vIHJlZmVyZW5jZSB0byB0aGUgcmVsZXZhbnQgSFRNTCBsb2NhdGlvbiB3aGVyZSBpdCB3aWxsIGJlIGVtYmVkZGVkLlxuICAgICAgICBjb21wb25lbnRzLmRpYWxvZyA9IG5ldyBCbG9ja1B5RGlhbG9nKG1haW4sIGNvbnRhaW5lci5maW5kKFwiLmJsb2NrcHktZGlhbG9nXCIpKTtcbiAgICAgICAgY29tcG9uZW50cy5mZWVkYmFjayA9IG5ldyBCbG9ja1B5RmVlZGJhY2sobWFpbiwgY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1mZWVkYmFja1wiKSk7XG4gICAgICAgIGNvbXBvbmVudHMudHJhY2UgPSBuZXcgQmxvY2tQeVRyYWNlKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmNvbnNvbGUgPSBuZXcgQmxvY2tQeUNvbnNvbGUobWFpbiwgY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1jb25zb2xlXCIpKTtcbiAgICAgICAgY29tcG9uZW50cy5lbmdpbmUgPSBuZXcgQmxvY2tQeUVuZ2luZShtYWluKTtcbiAgICAgICAgY29tcG9uZW50cy5maWxlU3lzdGVtID0gbmV3IEJsb2NrUHlGaWxlU3lzdGVtKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmVkaXRvcnMgPSBuZXcgRWRpdG9ycyhtYWluLCBjb250YWluZXIuZmluZChcIi5ibG9ja3B5LWVkaXRvclwiKSk7XG4gICAgICAgIC8vIENvbnZlbmllbnQgc2hvcnRjdXQgZGlyZWN0bHkgdG8gUHl0aG9uRWRpdG9yXG4gICAgICAgIGNvbXBvbmVudHMucHl0aG9uRWRpdG9yID0gdGhpcy5jb21wb25lbnRzLmVkaXRvcnMuYnlOYW1lKFwicHl0aG9uXCIpO1xuICAgICAgICBjb21wb25lbnRzLnNlcnZlciA9IG5ldyBCbG9ja1B5U2VydmVyKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmNvcmdpcyA9IG5ldyBCbG9ja1B5Q29yZ2lzKG1haW4pO1xuICAgICAgICBjb21wb25lbnRzLmhpc3RvcnkgPSBuZXcgQmxvY2tQeUhpc3RvcnkobWFpbiwgY29udGFpbmVyLmZpbmQoXCIuYmxvY2tweS1oaXN0b3J5LXRvb2xiYXJcIikpO1xuICAgIH1cblxuICAgIG1ha2VFeHRyYVN1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIHRoaXMubW9kZWwuZGlzcGxheS5jaGFuZ2VkSW5zdHJ1Y3Rpb25zLnN1YnNjcmliZSgoY2hhbmdlZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNlcnZlci5sb2dFdmVudChcIlgtSW5zdHJ1Y3Rpb25zLkNoYW5nZVwiLCBcIlwiLCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkLCBcImluc3RydWN0aW9ucy5tZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMubW9kZWwuZGlzcGxheS5maWxlbmFtZShcImFuc3dlci5weVwiKTtcbiAgICB9XG5cbiAgICByZXNldEludGVyZmFjZSgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmVuZ2luZS5yZXNldCgpO1xuICAgIH1cblxuICAgIHJlcXVlc3RQYXNzY29kZSgpIHtcbiAgICAgICAgbGV0IHVzZXJTdXBwbGllZFBhc3Njb2RlID0gcHJvbXB0KFwiUGxlYXNlIGVudGVyIHRoZSBwYXNzY29kZS5cIik7XG4gICAgICAgIHRoaXMubW9kZWwuZGlzcGxheS5wYXNzY29kZSh1c2VyU3VwcGxpZWRQYXNzY29kZSk7XG4gICAgfVxuXG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=